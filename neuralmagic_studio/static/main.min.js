!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return e(t={exports:{}},t.exports),t.exports
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var u=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,s=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s},s="function"==typeof Symbol&&Symbol.for,l=s?Symbol.for("react.element"):60103,c=s?Symbol.for("react.portal"):60106,f=s?Symbol.for("react.fragment"):60107,d=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.profiler"):60114,h=s?Symbol.for("react.provider"):60109,m=s?Symbol.for("react.context"):60110,g=s?Symbol.for("react.forward_ref"):60112,v=s?Symbol.for("react.suspense"):60113,y=s?Symbol.for("react.memo"):60115,b=s?Symbol.for("react.lazy"):60116,x="function"==typeof Symbol&&Symbol.iterator;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function k(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||_}function C(){}function S(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||_}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(w(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=k.prototype;var A=S.prototype=new C;A.constructor=S,u(A,k.prototype),A.isPureReactComponent=!0;var O={current:null},M=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)M.call(t,r)&&!D.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:l,type:e,key:o,ref:a,props:i,_owner:O.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var F=/\/+/g,N=[];function j(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function B(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case l:case c:a=!0}}if(a)return r(i,t,""===n?"."+L(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var s=n+L(o=t[u],u);a+=e(o,s,r,i)}else if(null===t||"object"!=typeof t?s=null:s="function"==typeof(s=x&&t[x]||t["@@iterator"])?s:null,"function"==typeof s)for(t=s.call(t),u=0;!(o=t.next()).done;)a+=e(o=o.value,s=n+L(o,u++),r,i);else if("object"===o)throw r=""+t,Error(w(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return a}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function z(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?$(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F,"$&/")+"/")+n)),r.push(e))}function $(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(F,"$&/")+"/"),B(e,I,t=j(t,o,r,i)),R(t)}var U={current:null};function q(){var e=U.current;if(null===e)throw Error(w(321));return e}var W={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return $(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;B(e,z,t=j(null,null,t,n)),R(t)},count:function(e){return B(e,(function(){return null}),null)},toArray:function(e){var t=[];return $(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(w(143));return e}},Component:k,Fragment:f,Profiler:p,PureComponent:S,StrictMode:d,Suspense:v,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:u},cloneElement:function(e,t,n){if(null==e)throw Error(w(267,e));var r=u({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=O.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)M.call(t,c)&&!D.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){s=Array(c);for(var f=0;f<c;f++)s[f]=arguments[f+2];r.children=s}return{$$typeof:l,type:e.type,key:i,ref:o,props:r,_owner:a}},createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:m,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},createElement:P,createFactory:function(e){var t=P.bind(null,e);return t.type=e,t},createRef:function(){return{current:null}},forwardRef:function(e){return{$$typeof:g,render:e}},isValidElement:T,lazy:function(e){return{$$typeof:b,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useDebugValue:function(){},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,n){return q().useImperativeHandle(e,t,n)},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,n){return q().useReducer(e,t,n)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},version:"16.13.1"},H=n((function(e){e.exports=W})),V=(H.Children,H.Component,H.Fragment,H.Profiler,H.PureComponent,H.StrictMode,H.Suspense,H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H.cloneElement,H.createContext,H.createElement),G=(H.createFactory,H.createRef,H.forwardRef,H.isValidElement,H.lazy,H.memo,H.useCallback,H.useContext,H.useDebugValue,H.useEffect),Y=(H.useImperativeHandle,H.useLayoutEffect,H.useMemo,H.useReducer,H.useRef),X=H.useState,K=(H.version,n((function(e,t){var n,r,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,s=null,l=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(l,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(l,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var v=!1,y=null,b=-1,x=5,w=0;o=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,E=_.port2;_.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+x;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(e){throw E.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,E.postMessage(null))},r=function(e,n){b=p((function(){e(t.unstable_now())}),n)},i=function(){h(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>A(a,n))void 0!==s&&0>A(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>A(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],M=[],D=1,P=null,T=3,F=!1,N=!1,j=!1;function R(e){for(var t=C(M);null!==t;){if(null===t.callback)S(M);else{if(!(t.startTime<=e))break;S(M),t.sortIndex=t.expirationTime,k(O,t)}t=C(M)}}function B(e){if(j=!1,R(e),!N)if(null!==C(O))N=!0,n(L);else{var t=C(M);null!==t&&r(B,t.startTime-e)}}function L(e,n){N=!1,j&&(j=!1,i()),F=!0;var a=T;try{for(R(n),P=C(O);null!==P&&(!(P.expirationTime>n)||e&&!o());){var u=P.callback;if(null!==u){P.callback=null,T=P.priorityLevel;var s=u(P.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?P.callback=s:P===C(O)&&S(O),R(n)}else S(O);P=C(O)}if(null!==P)var l=!0;else{var c=C(M);null!==c&&r(B,c.startTime-n),l=!1}return l}finally{P=null,T=a,F=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var I=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||F||(N=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return C(O)},t.unstable_next=function(e){switch(T){case 1:case 2:case 3:var t=3;break;default:t=T}var n=T;T=t;try{return e()}finally{T=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=T;T=e;try{return t()}finally{T=n}},t.unstable_scheduleCallback=function(e,o,a){var u=t.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?u+s:u,a="number"==typeof a.timeout?a.timeout:z(e)}else a=z(e),s=u;return e={id:D++,callback:o,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>u?(e.sortIndex=s,k(M,e),null===C(O)&&e===C(M)&&(j?i():j=!0,r(B,s-u))):(e.sortIndex=a,k(O,e),N||F||(N=!0,n(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=C(O);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=T;return function(){var n=T;T=t;try{return e.apply(this,arguments)}finally{T=n}}}}))),Q=(K.unstable_now,K.unstable_forceFrameRate,K.unstable_IdlePriority,K.unstable_ImmediatePriority,K.unstable_LowPriority,K.unstable_NormalPriority,K.unstable_Profiling,K.unstable_UserBlockingPriority,K.unstable_cancelCallback,K.unstable_continueExecution,K.unstable_getCurrentPriorityLevel,K.unstable_getFirstCallbackNode,K.unstable_next,K.unstable_pauseExecution,K.unstable_requestPaint,K.unstable_runWithPriority,K.unstable_scheduleCallback,K.unstable_shouldYield,K.unstable_wrapCallback,n((function(e){e.exports=K})));function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!H)throw Error(J(227));function Z(e,t,n,r,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var ee=!1,te=null,ne=!1,re=null,ie={onError:function(e){ee=!0,te=e}};function oe(e,t,n,r,i,o,a,u,s){ee=!1,te=null,Z.apply(ie,arguments)}var ae=null,ue=null,se=null;function le(e,t,n){var r=e.type||"unknown-event";e.currentTarget=se(n),function(e,t,n,r,i,o,a,u,s){if(oe.apply(this,arguments),ee){if(!ee)throw Error(J(198));var l=te;ee=!1,te=null,ne||(ne=!0,re=l)}}(r,t,void 0,e),e.currentTarget=null}var ce=null,fe={};function de(){if(ce)for(var e in fe){var t=fe[e],n=ce.indexOf(e);if(!(-1<n))throw Error(J(96,e));if(!he[n]){if(!t.extractEvents)throw Error(J(97,e));for(var r in he[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,u=r;if(me.hasOwnProperty(u))throw Error(J(99,u));me[u]=o;var s=o.phasedRegistrationNames;if(s){for(i in s)s.hasOwnProperty(i)&&pe(s[i],a,u);i=!0}else o.registrationName?(pe(o.registrationName,a,u),i=!0):i=!1;if(!i)throw Error(J(98,r,e))}}}}function pe(e,t,n){if(ge[e])throw Error(J(100,e));ge[e]=t,ve[e]=t.eventTypes[n].dependencies}var he=[],me={},ge={},ve={};function ye(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!fe.hasOwnProperty(t)||fe[t]!==r){if(fe[t])throw Error(J(102,t));fe[t]=r,n=!0}}n&&de()}var be=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),xe=null,we=null,_e=null;function Ee(e){if(e=ue(e)){if("function"!=typeof xe)throw Error(J(280));var t=e.stateNode;t&&(t=ae(t),xe(e.stateNode,e.type,t))}}function ke(e){we?_e?_e.push(e):_e=[e]:we=e}function Ce(){if(we){var e=we,t=_e;if(_e=we=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Se(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function Oe(){}var Me=Se,De=!1,Pe=!1;function Te(){null===we&&null===_e||(Oe(),Ce())}function Fe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,Te()}}var Ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,je=Object.prototype.hasOwnProperty,Re={},Be={};function Le(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ze[e]=new Le(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ze[t]=new Le(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ze[e]=new Le(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ze[e]=new Le(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ze[e]=new Le(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ze[e]=new Le(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ze[e]=new Le(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ze[e]=new Le(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ze[e]=new Le(e,5,!1,e.toLowerCase(),null,!1)}));var Ie=/[\-:]([a-z])/g;function $e(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Ie,$e);ze[t]=new Le(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Ie,$e);ze[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Ie,$e);ze[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ze[e]=new Le(e,1,!1,e.toLowerCase(),null,!1)})),ze.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ze[e]=new Le(e,1,!1,e.toLowerCase(),null,!0)}));var Ue=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function qe(e,t,n,r){var i=ze.hasOwnProperty(t)?ze[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!je.call(Be,e)||!je.call(Re,e)&&(Ne.test(e)?Be[e]=!0:(Re[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Ue.hasOwnProperty("ReactCurrentDispatcher")||(Ue.ReactCurrentDispatcher={current:null}),Ue.hasOwnProperty("ReactCurrentBatchConfig")||(Ue.ReactCurrentBatchConfig={suspense:null});var We=/^(.*)[\\\/]/,He="function"==typeof Symbol&&Symbol.for,Ve=He?Symbol.for("react.element"):60103,Ge=He?Symbol.for("react.portal"):60106,Ye=He?Symbol.for("react.fragment"):60107,Xe=He?Symbol.for("react.strict_mode"):60108,Ke=He?Symbol.for("react.profiler"):60114,Qe=He?Symbol.for("react.provider"):60109,Je=He?Symbol.for("react.context"):60110,Ze=He?Symbol.for("react.concurrent_mode"):60111,et=He?Symbol.for("react.forward_ref"):60112,tt=He?Symbol.for("react.suspense"):60113,nt=He?Symbol.for("react.suspense_list"):60120,rt=He?Symbol.for("react.memo"):60115,it=He?Symbol.for("react.lazy"):60116,ot=He?Symbol.for("react.block"):60121,at="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ye:return"Fragment";case Ge:return"Portal";case Ke:return"Profiler";case Xe:return"StrictMode";case tt:return"Suspense";case nt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Qe:return"Context.Provider";case et:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case ot:return st(e.render);case it:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=st(e.type);n=null,r&&(n=st(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(We,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ct(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ft(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ft(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e,t){var n=t.checked;return u({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function mt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ct(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function gt(e,t){null!=(t=t.checked)&&qe(e,"checked",t,!1)}function vt(e,t){gt(e,t);var n=ct(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?bt(e,t.type,n):t.hasOwnProperty("defaultValue")&&bt(e,t.type,ct(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function yt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function bt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function xt(e,t){return e=u({children:void 0},t),(t=function(e){var t="";return H.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(J(91));return u({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Et(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(J(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(J(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ct(n)}}function kt(e,t){var n=ct(t.value),r=ct(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var St="http://www.w3.org/1999/xhtml",At="http://www.w3.org/2000/svg";function Ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ot(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Dt,Pt=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==At||"innerHTML"in e)e.innerHTML=t;else{for((Dt=Dt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ft(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nt={animationend:Ft("Animation","AnimationEnd"),animationiteration:Ft("Animation","AnimationIteration"),animationstart:Ft("Animation","AnimationStart"),transitionend:Ft("Transition","TransitionEnd")},jt={},Rt={};function Bt(e){if(jt[e])return jt[e];if(!Nt[e])return e;var t,n=Nt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Rt)return jt[e]=n[t];return e}be&&(Rt=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);var Lt=Bt("animationend"),zt=Bt("animationiteration"),It=Bt("animationstart"),$t=Bt("transitionend"),Ut="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qt=new("function"==typeof WeakMap?WeakMap:Map);function Wt(e){var t=qt.get(e);return void 0===t&&(t=new Map,qt.set(e,t)),t}function Ht(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Vt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Gt(e){if(Ht(e)!==e)throw Error(J(188))}function Yt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Gt(i),e;if(o===r)return Gt(i),t;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(3!==n.tag)throw Error(J(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xt(e,t){if(null==t)throw Error(J(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function Kt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var Qt=null;function Jt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)le(e,t[r],n[r]);else t&&le(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Zt(e){if(null!==e&&(Qt=Xt(Qt,e)),e=Qt,Qt=null,e){if(Kt(e,Jt),Qt)throw Error(J(95));if(ne)throw e=re,ne=!1,re=null,e}}function en(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function tn(e){if(!be)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var nn=[];function rn(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>nn.length&&nn.push(e)}function on(e,t,n,r){if(nn.length){var i=nn.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function an(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=br(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=en(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var u=null,s=0;s<he.length;s++){var l=he[s];l&&(l=l.extractEvents(r,t,o,i,a))&&(u=Xt(u,l))}Zt(u)}}function un(e,t,n){if(!n.has(e)){switch(e){case"scroll":$n(t,"scroll",!0);break;case"focus":case"blur":$n(t,"focus",!0),$n(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":tn(e)&&$n(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ut.indexOf(e)&&In(e,t)}n.set(e,null)}}var sn,ln,cn,fn=!1,dn=[],pn=null,hn=null,mn=null,gn=new Map,vn=new Map,yn=[],bn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),xn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function wn(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function _n(e,t){switch(e){case"focus":case"blur":pn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(t.pointerId)}}function En(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=wn(t,n,r,i,o),null!==t&&(null!==(t=xr(t))&&ln(t)),e):(e.eventSystemFlags|=r,e)}function kn(e){var t=br(e.target);if(null!==t){var n=Ht(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Vt(n)))return e.blockedOn=t,void Q.unstable_runWithPriority(e.priority,(function(){cn(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Cn(e){if(null!==e.blockedOn)return!1;var t=Hn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=xr(t);return null!==n&&ln(n),e.blockedOn=t,!1}return!0}function Sn(e,t,n){Cn(e)&&n.delete(t)}function An(){for(fn=!1;0<dn.length;){var e=dn[0];if(null!==e.blockedOn){null!==(e=xr(e.blockedOn))&&sn(e);break}var t=Hn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:dn.shift()}null!==pn&&Cn(pn)&&(pn=null),null!==hn&&Cn(hn)&&(hn=null),null!==mn&&Cn(mn)&&(mn=null),gn.forEach(Sn),vn.forEach(Sn)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,fn||(fn=!0,Q.unstable_scheduleCallback(Q.unstable_NormalPriority,An)))}function Mn(e){function t(t){return On(t,e)}if(0<dn.length){On(dn[0],e);for(var n=1;n<dn.length;n++){var r=dn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==pn&&On(pn,e),null!==hn&&On(hn,e),null!==mn&&On(mn,e),gn.forEach(t),vn.forEach(t),n=0;n<yn.length;n++)(r=yn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<yn.length&&null===(n=yn[0]).blockedOn;)kn(n),null===n.blockedOn&&yn.shift()}var Dn={},Pn=new Map,Tn=new Map,Fn=["abort","abort",Lt,"animationEnd",zt,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function Nn(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Tn.set(r,t),Pn.set(r,o),Dn[i]=o}}Nn("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nn(Fn,2);for(var jn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Rn=0;Rn<jn.length;Rn++)Tn.set(jn[Rn],0);var Bn=Q.unstable_UserBlockingPriority,Ln=Q.unstable_runWithPriority,zn=!0;function In(e,t){$n(t,e,!1)}function $n(e,t,n){var r=Tn.get(t);switch(void 0===r?2:r){case 0:r=Un.bind(null,t,1,e);break;case 1:r=qn.bind(null,t,1,e);break;default:r=Wn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Un(e,t,n,r){De||Oe();var i=Wn,o=De;De=!0;try{Ae(i,e,t,n,r)}finally{(De=o)||Te()}}function qn(e,t,n,r){Ln(Bn,Wn.bind(null,e,t,n,r))}function Wn(e,t,n,r){if(zn)if(0<dn.length&&-1<bn.indexOf(e))e=wn(null,e,t,n,r),dn.push(e);else{var i=Hn(e,t,n,r);if(null===i)_n(e,r);else if(-1<bn.indexOf(e))e=wn(i,e,t,n,r),dn.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return pn=En(pn,e,t,n,r,i),!0;case"dragenter":return hn=En(hn,e,t,n,r,i),!0;case"mouseover":return mn=En(mn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return gn.set(o,En(gn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vn.set(o,En(vn.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){_n(e,r),e=on(e,r,null,t);try{Fe(an,e)}finally{rn(e)}}}}function Hn(e,t,n,r){if(null!==(n=br(n=en(r)))){var i=Ht(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=Vt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=on(e,r,n,t);try{Fe(an,e)}finally{rn(e)}return null}var Vn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gn=["Webkit","ms","Moz","O"];function Yn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Xn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Yn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Vn).forEach((function(e){Gn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]}))}));var Kn=u({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(e,t){if(t){if(Kn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(J(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(J(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(J(62,""))}}function Jn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=St;function er(e,t){var n=Wt(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=ve[t];for(var r=0;r<t.length;r++)un(t[r],e,n)}function tr(){}function nr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function or(){for(var e=window,t=nr();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=nr((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ur=null,sr=null;function lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function cr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var fr="function"==typeof setTimeout?setTimeout:void 0,dr="function"==typeof clearTimeout?clearTimeout:void 0;function pr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function hr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),gr="__reactInternalInstance$"+mr,vr="__reactEventHandlers$"+mr,yr="__reactContainere$"+mr;function br(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yr]||n[gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hr(e);null!==e;){if(n=e[gr])return n;e=hr(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[gr]||e[yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(J(33))}function _r(e){return e[vr]||null}function Er(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kr(e,t){var n=e.stateNode;if(!n)return null;var r=ae(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(J(231,t,typeof n));return n}function Cr(e,t,n){(t=kr(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Xt(n._dispatchListeners,t),n._dispatchInstances=Xt(n._dispatchInstances,e))}function Sr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Er(t);for(t=n.length;0<t--;)Cr(n[t],"captured",e);for(t=0;t<n.length;t++)Cr(n[t],"bubbled",e)}}function Ar(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=kr(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Xt(n._dispatchListeners,t),n._dispatchInstances=Xt(n._dispatchInstances,e))}function Or(e){e&&e.dispatchConfig.registrationName&&Ar(e._targetInst,null,e)}function Mr(e){Kt(e,Sr)}var Dr=null,Pr=null,Tr=null;function Fr(){if(Tr)return Tr;var e,t,n=Pr,r=n.length,i="value"in Dr?Dr.value:Dr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Tr=i.slice(e,1<t?1-t:void 0)}function Nr(){return!0}function jr(){return!1}function Rr(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Nr:jr,this.isPropagationStopped=jr,this}function Br(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Lr(e){if(!(e instanceof this))throw Error(J(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function zr(e){e.eventPool=[],e.getPooled=Br,e.release=Lr}u(Rr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){this.isPersistent=Nr},isPersistent:jr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jr,this._dispatchInstances=this._dispatchListeners=null}}),Rr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Rr.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return u(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=u({},r.Interface,e),n.extend=r.extend,zr(n),n},zr(Rr);var Ir=Rr.extend({data:null}),$r=Rr.extend({data:null}),Ur=[9,13,27,32],qr=be&&"CompositionEvent"in window,Wr=null;be&&"documentMode"in document&&(Wr=document.documentMode);var Hr=be&&"TextEvent"in window&&!Wr,Vr=be&&(!qr||Wr&&8<Wr&&11>=Wr),Gr=String.fromCharCode(32),Yr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Xr=!1;function Kr(e,t){switch(e){case"keyup":return-1!==Ur.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Qr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Jr=!1;var Zr={eventTypes:Yr,extractEvents:function(e,t,n,r){var i;if(qr)e:{switch(e){case"compositionstart":var o=Yr.compositionStart;break e;case"compositionend":o=Yr.compositionEnd;break e;case"compositionupdate":o=Yr.compositionUpdate;break e}o=void 0}else Jr?Kr(e,n)&&(o=Yr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Yr.compositionStart);return o?(Vr&&"ko"!==n.locale&&(Jr||o!==Yr.compositionStart?o===Yr.compositionEnd&&Jr&&(i=Fr()):(Pr="value"in(Dr=r)?Dr.value:Dr.textContent,Jr=!0)),o=Ir.getPooled(o,t,n,r),i?o.data=i:null!==(i=Qr(n))&&(o.data=i),Mr(o),i=o):i=null,(e=Hr?function(e,t){switch(e){case"compositionend":return Qr(t);case"keypress":return 32!==t.which?null:(Xr=!0,Gr);case"textInput":return(e=t.data)===Gr&&Xr?null:e;default:return null}}(e,n):function(e,t){if(Jr)return"compositionend"===e||!qr&&Kr(e,t)?(e=Fr(),Tr=Pr=Dr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$r.getPooled(Yr.beforeInput,t,n,r)).data=e,Mr(t)):t=null,null===i?t:null===t?i:[i,t]}},ei={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ei[e.type]:"textarea"===t}var ni={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ri(e,t,n){return(e=Rr.getPooled(ni.change,e,t,n)).type="change",ke(n),Mr(e),e}var ii=null,oi=null;function ai(e){Zt(e)}function ui(e){if(pt(wr(e)))return e}function si(e,t){if("change"===e)return t}var li=!1;function ci(){ii&&(ii.detachEvent("onpropertychange",fi),oi=ii=null)}function fi(e){if("value"===e.propertyName&&ui(oi))if(e=ri(oi,e,en(e)),De)Zt(e);else{De=!0;try{Se(ai,e)}finally{De=!1,Te()}}}function di(e,t,n){"focus"===e?(ci(),oi=n,(ii=t).attachEvent("onpropertychange",fi)):"blur"===e&&ci()}function pi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ui(oi)}function hi(e,t){if("click"===e)return ui(t)}function mi(e,t){if("input"===e||"change"===e)return ui(t)}be&&(li=tn("input")&&(!document.documentMode||9<document.documentMode));var gi={eventTypes:ni,_isInputEventSupported:li,extractEvents:function(e,t,n,r){var i=t?wr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=si;else if(ti(i))if(li)a=mi;else{a=pi;var u=di}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=hi);if(a&&(a=a(e,t)))return ri(a,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&bt(i,"number",i.value)}},vi=Rr.extend({view:null,detail:null}),yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yi[e])&&!!t[e]}function xi(){return bi}var wi=0,_i=0,Ei=!1,ki=!1,Ci=vi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:xi,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=wi;return wi=e.screenX,Ei?"mousemove"===e.type?e.screenX-t:0:(Ei=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=_i;return _i=e.screenY,ki?"mousemove"===e.type?e.screenY-t:0:(ki=!0,0)}}),Si=Ci.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ai={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Oi={eventTypes:Ai,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?br(t):null)&&(t!==Ht(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=Ci,s=Ai.mouseLeave,l=Ai.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Si,s=Ai.pointerLeave,l=Ai.pointerEnter,c="pointer");if(e=null==a?o:wr(a),o=null==t?o:wr(t),(s=u.getPooled(s,a,n,r)).type=c+"leave",s.target=e,s.relatedTarget=o,(n=u.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=u=r;e;e=Er(e))a++;for(e=0,t=l;t;t=Er(t))e++;for(;0<a-e;)u=Er(u),a--;for(;0<e-a;)l=Er(l),e--;for(;a--;){if(u===l||u===l.alternate)break e;u=Er(u),l=Er(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=Er(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=Er(c);for(c=0;c<u.length;c++)Ar(u[c],"bubbled",s);for(c=r.length;0<c--;)Ar(r[c],"captured",n);return 0==(64&i)?[s]:[s,n]}};var Mi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Di=Object.prototype.hasOwnProperty;function Pi(e,t){if(Mi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Di.call(t,n[r])||!Mi(e[n[r]],t[n[r]]))return!1;return!0}var Ti=be&&"documentMode"in document&&11>=document.documentMode,Fi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ni=null,ji=null,Ri=null,Bi=!1;function Li(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Bi||null==Ni||Ni!==nr(n)?null:("selectionStart"in(n=Ni)&&ar(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ri&&Pi(Ri,n)?null:(Ri=n,(e=Rr.getPooled(Fi.select,ji,e,t)).type="select",e.target=Ni,Mr(e),e))}var zi={eventTypes:Fi,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Wt(i),o=ve.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?wr(t):window,e){case"focus":(ti(i)||"true"===i.contentEditable)&&(Ni=i,ji=t,Ri=null);break;case"blur":Ri=ji=Ni=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Bi=!1,Li(n,r);case"selectionchange":if(Ti)break;case"keydown":case"keyup":return Li(n,r)}return null}},Ii=Rr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$i=Rr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ui=vi.extend({relatedTarget:null});function qi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vi=vi.extend({key:function(e){if(e.key){var t=Wi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Hi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:xi,charCode:function(e){return"keypress"===e.type?qi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gi=Ci.extend({dataTransfer:null}),Yi=vi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:xi}),Xi=Rr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ki=Ci.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Qi={eventTypes:Dn,extractEvents:function(e,t,n,r){var i=Pn.get(e);if(!i)return null;switch(e){case"keypress":if(0===qi(n))return null;case"keydown":case"keyup":e=Vi;break;case"blur":case"focus":e=Ui;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Yi;break;case Lt:case zt:case It:e=Ii;break;case $t:e=Xi;break;case"scroll":e=vi;break;case"wheel":e=Ki;break;case"copy":case"cut":case"paste":e=$i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Si;break;default:e=Rr}return Mr(t=e.getPooled(i,t,n,r)),t}};if(ce)throw Error(J(101));ce=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),de(),ae=_r,ue=xr,se=wr,ye({SimpleEventPlugin:Qi,EnterLeaveEventPlugin:Oi,ChangeEventPlugin:gi,SelectEventPlugin:zi,BeforeInputEventPlugin:Zr});var Ji=[],Zi=-1;function eo(e){0>Zi||(e.current=Ji[Zi],Ji[Zi]=null,Zi--)}function to(e,t){Zi++,Ji[Zi]=e.current,e.current=t}var no={},ro={current:no},io={current:!1},oo=no;function ao(e,t){var n=e.type.contextTypes;if(!n)return no;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function uo(e){return null!=(e=e.childContextTypes)}function so(){eo(io),eo(ro)}function lo(e,t,n){if(ro.current!==no)throw Error(J(168));to(ro,t),to(io,n)}function co(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(J(108,st(t)||"Unknown",i));return u({},n,{},r)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||no,oo=ro.current,to(ro,e),to(io,io.current),!0}function po(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=co(e,t,oo),r.__reactInternalMemoizedMergedChildContext=e,eo(io),eo(ro),to(ro,e)):eo(io),to(io,n)}var ho=Q.unstable_runWithPriority,mo=Q.unstable_scheduleCallback,go=Q.unstable_cancelCallback,vo=Q.unstable_requestPaint,yo=Q.unstable_now,bo=Q.unstable_getCurrentPriorityLevel,xo=Q.unstable_ImmediatePriority,wo=Q.unstable_UserBlockingPriority,_o=Q.unstable_NormalPriority,Eo=Q.unstable_LowPriority,ko=Q.unstable_IdlePriority,Co={},So=Q.unstable_shouldYield,Ao=void 0!==vo?vo:function(){},Oo=null,Mo=null,Do=!1,Po=yo(),To=1e4>Po?yo:function(){return yo()-Po};function Fo(){switch(bo()){case xo:return 99;case wo:return 98;case _o:return 97;case Eo:return 96;case ko:return 95;default:throw Error(J(332))}}function No(e){switch(e){case 99:return xo;case 98:return wo;case 97:return _o;case 96:return Eo;case 95:return ko;default:throw Error(J(332))}}function jo(e,t){return e=No(e),ho(e,t)}function Ro(e,t,n){return e=No(e),mo(e,t,n)}function Bo(e){return null===Oo?(Oo=[e],Mo=mo(xo,zo)):Oo.push(e),Co}function Lo(){if(null!==Mo){var e=Mo;Mo=null,go(e)}zo()}function zo(){if(!Do&&null!==Oo){Do=!0;var e=0;try{var t=Oo;jo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Oo=null}catch(t){throw null!==Oo&&(Oo=Oo.slice(e+1)),mo(xo,Lo),t}finally{Do=!1}}}function Io(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function $o(e,t){if(e&&e.defaultProps)for(var n in t=u({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Uo={current:null},qo=null,Wo=null,Ho=null;function Vo(){Ho=Wo=qo=null}function Go(e){var t=Uo.current;eo(Uo),e.type._context._currentValue=t}function Yo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Xo(e,t){qo=e,Ho=Wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(_u=!0),e.firstContext=null)}function Ko(e,t){if(Ho!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ho=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Wo){if(null===qo)throw Error(J(308));Wo=t,qo.dependencies={expirationTime:0,firstContext:t,responders:null}}else Wo=Wo.next=t;return e._currentValue}var Qo=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ea(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ta(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function na(e,t){var n=e.alternate;null!==n&&Zo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ra(e,t,n,r){var i=e.updateQueue;Qo=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var l=i.baseState,c=0,f=null,d=null,p=null;if(null!==s)for(var h=s;;){if((a=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(d=p=m,f=l):p=p.next=m,a>c&&(c=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Qs(a,h.suspenseConfig);e:{var g=e,v=h;switch(a=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){l=g.call(m,l,a);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=v.payload)?g.call(m,l,a):g))break e;l=u({},l,a);break e;case 2:Qo=!0}}null!==h.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[h]:a.push(h))}if(null===(h=h.next)||h===s){if(null===(a=i.shared.pending))break;h=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===p?f=l:p.next=d,i.baseState=f,i.baseQueue=p,Js(c),e.expirationTime=c,e.memoizedState=l}}function ia(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(J(191,r));r.call(i)}}}var oa=Ue.ReactCurrentBatchConfig,aa=(new H.Component).refs;function ua(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ht(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ls(),i=oa.suspense;(i=ea(r=zs(r,e,i),i)).payload=t,null!=n&&(i.callback=n),ta(e,i),Is(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ls(),i=oa.suspense;(i=ea(r=zs(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),ta(e,i),Is(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ls(),r=oa.suspense;(r=ea(n=zs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ta(e,r),Is(e,n)}};function la(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Pi(n,r)||!Pi(i,o))}function ca(e,t,n){var r=!1,i=no,o=t.contextType;return"object"==typeof o&&null!==o?o=Ko(o):(i=uo(t)?oo:ro.current,o=(r=null!=(r=t.contextTypes))?ao(e,i):no),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=aa,Jo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ko(o):(o=uo(t)?oo:ro.current,i.context=ao(e,o)),ra(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ua(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&sa.enqueueReplaceState(i,i.state,null),ra(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var pa=Array.isArray;function ha(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===aa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function ma(e,t){if("textarea"!==e.type)throw Error(J(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ga(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=yl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=wl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ha(e,t,n),r.return=e,r):((r=bl(n.type,n.key,n.props,null,e.mode,r)).ref=ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=xl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=wl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ve:return(n=bl(t.type,t.key,t.props,null,e.mode,n)).ref=ha(e,null,t),n.return=e,n;case Ge:return(t=_l(t,e.mode,n)).return=e,t}if(pa(t)||ut(t))return(t=xl(t,e.mode,n,null)).return=e,t;ma(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ve:return n.key===i?n.type===Ye?c(e,t,n.props.children,r,i):s(e,t,n,r):null;case Ge:return n.key===i?l(e,t,n,r):null}if(pa(n)||ut(n))return null!==i?null:c(e,t,n,r,null);ma(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ve:return e=e.get(null===r.key?n:r.key)||null,r.type===Ye?c(t,e,r.props.children,i,r.key):s(t,e,r,i);case Ge:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(pa(r)||ut(r))return c(t,e=e.get(n)||null,r,i,null);ma(t,r)}return null}function h(i,a,u,s){for(var l=null,c=null,h=a,m=a=0,g=null;null!==h&&m<u.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,u[m],s);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v,h=g}if(m===u.length)return n(i,h),l;if(null===h){for(;m<u.length;m++)null!==(h=f(i,u[m],s))&&(a=o(h,a,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<u.length;m++)null!==(g=p(h,i,m,u[m],s))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function m(i,a,u,s){var l=ut(u);if("function"!=typeof l)throw Error(J(150));if(null==(u=l.call(u)))throw Error(J(151));for(var c=l=null,h=a,m=a=0,g=null,v=u.next();null!==h&&!v.done;m++,v=u.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,v.value,s);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y,h=g}if(v.done)return n(i,h),l;if(null===h){for(;!v.done;m++,v=u.next())null!==(v=f(i,v.value,s))&&(a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return l}for(h=r(i,h);!v.done;m++,v=u.next())null!==(v=p(h,i,m,v.value,s))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var s="object"==typeof o&&null!==o&&o.type===Ye&&null===o.key;s&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Ve:e:{for(l=o.key,s=r;null!==s;){if(s.key===l){switch(s.tag){case 7:if(o.type===Ye){n(e,s.sibling),(r=i(s,o.props.children)).return=e,e=r;break e}break;default:if(s.elementType===o.type){n(e,s.sibling),(r=i(s,o.props)).ref=ha(e,s,o),r.return=e,e=r;break e}}n(e,s);break}t(e,s),s=s.sibling}o.type===Ye?((r=xl(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=bl(o.type,o.key,o.props,null,e.mode,u)).ref=ha(e,r,o),u.return=e,e=u)}return a(e);case Ge:e:{for(s=o.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=_l(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=wl(o,e.mode,u)).return=e,e=r),a(e);if(pa(o))return h(e,r,o,u);if(ut(o))return m(e,r,o,u);if(l&&ma(e,o),void 0===o&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(J(152,e.displayName||e.name||"Component"))}return n(e,r)}}var va=ga(!0),ya=ga(!1),ba={},xa={current:ba},wa={current:ba},_a={current:ba};function Ea(e){if(e===ba)throw Error(J(174));return e}function ka(e,t){switch(to(_a,t),to(wa,e),to(xa,ba),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mt(null,"");break;default:t=Mt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}eo(xa),to(xa,t)}function Ca(){eo(xa),eo(wa),eo(_a)}function Sa(e){Ea(_a.current);var t=Ea(xa.current),n=Mt(t,e.type);t!==n&&(to(wa,e),to(xa,n))}function Aa(e){wa.current===e&&(eo(xa),eo(wa))}var Oa={current:0};function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Da(e,t){return{responder:e,props:t}}var Pa=Ue.ReactCurrentDispatcher,Ta=Ue.ReactCurrentBatchConfig,Fa=0,Na=null,ja=null,Ra=null,Ba=!1;function La(){throw Error(J(321))}function za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mi(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,o){if(Fa=o,Na=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Pa.current=null===e||null===e.memoizedState?lu:cu,e=n(r,i),t.expirationTime===Fa){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(J(301));o+=1,Ra=ja=null,t.updateQueue=null,Pa.current=fu,e=n(r,i)}while(t.expirationTime===Fa)}if(Pa.current=su,t=null!==ja&&null!==ja.next,Fa=0,Ra=ja=Na=null,Ba=!1,t)throw Error(J(300));return e}function $a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ra?Na.memoizedState=Ra=e:Ra=Ra.next=e,Ra}function Ua(){if(null===ja){var e=Na.alternate;e=null!==e?e.memoizedState:null}else e=ja.next;var t=null===Ra?Na.memoizedState:Ra.next;if(null!==t)Ra=t,ja=e;else{if(null===e)throw Error(J(310));e={memoizedState:(ja=e).memoizedState,baseState:ja.baseState,baseQueue:ja.baseQueue,queue:ja.queue,next:null},null===Ra?Na.memoizedState=Ra=e:Ra=Ra.next=e}return Ra}function qa(e,t){return"function"==typeof t?t(e):t}function Wa(e){var t=Ua(),n=t.queue;if(null===n)throw Error(J(311));n.lastRenderedReducer=e;var r=ja,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,s=i;do{var l=s.expirationTime;if(l<Fa){var c={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===u?(a=u=c,o=r):u=u.next=c,l>Na.expirationTime&&(Na.expirationTime=l,Js(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),Qs(l,s.suspenseConfig),r=s.eagerReducer===e?s.eagerState:e(r,s.action);s=s.next}while(null!==s&&s!==i);null===u?o=r:u.next=a,Mi(r,t.memoizedState)||(_u=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ha(e){var t=Ua(),n=t.queue;if(null===n)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Mi(o,t.memoizedState)||(_u=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Va(e){var t=$a();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e}).dispatch=uu.bind(null,Na,e),[t.memoizedState,e]}function Ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Na.updateQueue)?(t={lastEffect:null},Na.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ya(){return Ua().memoizedState}function Xa(e,t,n,r){var i=$a();Na.effectTag|=e,i.memoizedState=Ga(1|t,n,void 0,void 0===r?null:r)}function Ka(e,t,n,r){var i=Ua();r=void 0===r?null:r;var o=void 0;if(null!==ja){var a=ja.memoizedState;if(o=a.destroy,null!==r&&za(r,a.deps))return void Ga(t,n,o,r)}Na.effectTag|=e,i.memoizedState=Ga(1|t,n,o,r)}function Qa(e,t){return Xa(516,4,e,t)}function Ja(e,t){return Ka(516,4,e,t)}function Za(e,t){return Ka(4,2,e,t)}function eu(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function tu(e,t,n){return n=null!=n?n.concat([e]):null,Ka(4,2,eu.bind(null,t,e),n)}function nu(){}function ru(e,t){return $a().memoizedState=[e,void 0===t?null:t],e}function iu(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ou(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function au(e,t,n){var r=Fo();jo(98>r?98:r,(function(){e(!0)})),jo(97<r?97:r,(function(){var r=Ta.suspense;Ta.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ta.suspense=r}}))}function uu(e,t,n){var r=Ls(),i=oa.suspense;i={expirationTime:r=zs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Na||null!==o&&o===Na)Ba=!0,i.expirationTime=Fa,Na.expirationTime=Fa;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,Mi(u,a))return}catch(e){}Is(e,r)}}var su={readContext:Ko,useCallback:La,useContext:La,useEffect:La,useImperativeHandle:La,useLayoutEffect:La,useMemo:La,useReducer:La,useRef:La,useState:La,useDebugValue:La,useResponder:La,useDeferredValue:La,useTransition:La},lu={readContext:Ko,useCallback:ru,useContext:Ko,useEffect:Qa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xa(4,2,eu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4,2,e,t)},useMemo:function(e,t){var n=$a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=uu.bind(null,Na,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$a().memoizedState=e},useState:Va,useDebugValue:nu,useResponder:Da,useDeferredValue:function(e,t){var n=Va(e),r=n[0],i=n[1];return Qa((function(){var n=Ta.suspense;Ta.suspense=void 0===t?null:t;try{i(e)}finally{Ta.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Va(!1),n=t[0];return t=t[1],[ru(au.bind(null,t,e),[t,e]),n]}},cu={readContext:Ko,useCallback:iu,useContext:Ko,useEffect:Ja,useImperativeHandle:tu,useLayoutEffect:Za,useMemo:ou,useReducer:Wa,useRef:Ya,useState:function(){return Wa(qa)},useDebugValue:nu,useResponder:Da,useDeferredValue:function(e,t){var n=Wa(qa),r=n[0],i=n[1];return Ja((function(){var n=Ta.suspense;Ta.suspense=void 0===t?null:t;try{i(e)}finally{Ta.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Wa(qa),n=t[0];return t=t[1],[iu(au.bind(null,t,e),[t,e]),n]}},fu={readContext:Ko,useCallback:iu,useContext:Ko,useEffect:Ja,useImperativeHandle:tu,useLayoutEffect:Za,useMemo:ou,useReducer:Ha,useRef:Ya,useState:function(){return Ha(qa)},useDebugValue:nu,useResponder:Da,useDeferredValue:function(e,t){var n=Ha(qa),r=n[0],i=n[1];return Ja((function(){var n=Ta.suspense;Ta.suspense=void 0===t?null:t;try{i(e)}finally{Ta.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ha(qa),n=t[0];return t=t[1],[iu(au.bind(null,t,e),[t,e]),n]}},du=null,pu=null,hu=!1;function mu(e,t){var n=gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function gu(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function vu(e){if(hu){var t=pu;if(t){var n=t;if(!gu(e,t)){if(!(t=pr(n.nextSibling))||!gu(e,t))return e.effectTag=-1025&e.effectTag|2,hu=!1,void(du=e);mu(du,n)}du=e,pu=pr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,hu=!1,du=e}}function yu(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;du=e}function bu(e){if(e!==du)return!1;if(!hu)return yu(e),hu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!cr(t,e.memoizedProps))for(t=pu;t;)mu(e,t),t=pr(t.nextSibling);if(yu(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){pu=pr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}pu=null}}else pu=du?pr(e.stateNode.nextSibling):null;return!0}function xu(){pu=du=null,hu=!1}var wu=Ue.ReactCurrentOwner,_u=!1;function Eu(e,t,n,r){t.child=null===e?ya(t,null,n,r):va(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var o=t.ref;return Xo(t,i),r=Ia(e,t,n,r,o,i),null===e||_u?(t.effectTag|=1,Eu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Iu(e,t,i))}function Cu(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||vl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=bl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Pi)(i,r)&&e.ref===t.ref)?Iu(e,t,o):(t.effectTag|=1,(e=yl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Su(e,t,n,r,i,o){return null!==e&&Pi(e.memoizedProps,r)&&e.ref===t.ref&&(_u=!1,i<o)?(t.expirationTime=e.expirationTime,Iu(e,t,o)):Ou(e,t,n,r,o)}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ou(e,t,n,r,i){var o=uo(n)?oo:ro.current;return o=ao(t,o),Xo(t,i),n=Ia(e,t,n,r,o,i),null===e||_u?(t.effectTag|=1,Eu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Iu(e,t,i))}function Mu(e,t,n,r,i){if(uo(n)){var o=!0;fo(t)}else o=!1;if(Xo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ca(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=Ko(l):l=ao(t,l=uo(n)?oo:ro.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&fa(t,a,r,l),Qo=!1;var d=t.memoizedState;a.state=d,ra(t,r,a,i),s=t.memoizedState,u!==r||d!==s||io.current||Qo?("function"==typeof c&&(ua(t,n,c,r),s=t.memoizedState),(u=Qo||la(t,n,u,r,d,s,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Zo(e,t),u=t.memoizedProps,a.props=t.type===t.elementType?u:$o(t.type,u),s=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ko(l):l=ao(t,l=uo(n)?oo:ro.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&fa(t,a,r,l),Qo=!1,s=t.memoizedState,a.state=s,ra(t,r,a,i),d=t.memoizedState,u!==r||s!==d||io.current||Qo?("function"==typeof c&&(ua(t,n,c,r),d=t.memoizedState),(c=Qo||la(t,n,u,r,s,d,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Du(e,t,n,r,o,i)}function Du(e,t,n,r,i,o){Au(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&po(t,n,!1),Iu(e,t,o);r=t.stateNode,wu.current=t;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=va(t,e.child,null,o),t.child=va(t,null,u,o)):Eu(e,t,u,o),t.memoizedState=r.state,i&&po(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&lo(0,t.context,!1),ka(e,t.containerInfo)}var Tu,Fu,Nu,ju={dehydrated:null,retryTime:0};function Ru(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Oa.current,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),to(Oa,1&a),null===e){if(void 0!==o.fallback&&vu(t),u){if(u=o.fallback,(o=xl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=xl(u,i,n,null)).return=t,o.sibling=n,t.memoizedState=ju,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=ya(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(o=o.fallback,(n=yl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=yl(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=ju,t.child=n,i}return n=va(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=o.fallback,(o=xl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=xl(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=ju,t.child=o,n}return t.memoizedState=null,t.child=va(t,e,o.children,n)}function Bu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Yo(e.return,t)}function Lu(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Eu(e,t,r.children,n),0!=(2&(r=Oa.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n);else if(19===e.tag)Bu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(to(Oa,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lu(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lu(t,!0,n,null,o,t.lastEffect);break;case"together":Lu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Iu(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Js(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(J(153));if(null!==t.child){for(n=yl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $u(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return uo(t.type)&&so(),null;case 3:return Ca(),eo(io),eo(ro),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!bu(t)||(t.effectTag|=4),null;case 5:Aa(t),n=Ea(_a.current);var i=t.type;if(null!==e&&null!=t.stateNode)Fu(e,t,i,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(J(166));return null}if(e=Ea(xa.current),bu(t)){r=t.stateNode,i=t.type;var o=t.memoizedProps;switch(r[gr]=t,r[vr]=o,i){case"iframe":case"object":case"embed":In("load",r);break;case"video":case"audio":for(e=0;e<Ut.length;e++)In(Ut[e],r);break;case"source":In("error",r);break;case"img":case"image":case"link":In("error",r),In("load",r);break;case"form":In("reset",r),In("submit",r);break;case"details":In("toggle",r);break;case"input":mt(r,o),In("invalid",r),er(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},In("invalid",r),er(n,"onChange");break;case"textarea":Et(r,o),In("invalid",r),er(n,"onChange")}for(var a in Qn(i,o),e=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):ge.hasOwnProperty(a)&&null!=s&&er(n,a)}switch(i){case"input":dt(r),yt(r,o,!0);break;case"textarea":dt(r),Ct(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=tr)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(a=9===n.nodeType?n:n.ownerDocument,e===Zn&&(e=Ot(i)),e===Zn?"script"===i?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(i,{is:r.is}):(e=a.createElement(i),"select"===i&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,i),e[gr]=t,e[vr]=r,Tu(e,t),t.stateNode=e,a=Jn(i,r),i){case"iframe":case"object":case"embed":In("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ut.length;s++)In(Ut[s],e);s=r;break;case"source":In("error",e),s=r;break;case"img":case"image":case"link":In("error",e),In("load",e),s=r;break;case"form":In("reset",e),In("submit",e),s=r;break;case"details":In("toggle",e),s=r;break;case"input":mt(e,r),s=ht(e,r),In("invalid",e),er(n,"onChange");break;case"option":s=xt(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=u({},r,{value:void 0}),In("invalid",e),er(n,"onChange");break;case"textarea":Et(e,r),s=_t(e,r),In("invalid",e),er(n,"onChange");break;default:s=r}Qn(i,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?Xn(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&Pt(e,c):"children"===o?"string"==typeof c?("textarea"!==i||""!==c)&&Tt(e,c):"number"==typeof c&&Tt(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(ge.hasOwnProperty(o)?null!=c&&er(n,o):null!=c&&qe(e,o,c,a))}switch(i){case"input":dt(e),yt(e,r,!1);break;case"textarea":dt(e),Ct(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ct(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?wt(e,!!r.multiple,n,!1):null!=r.defaultValue&&wt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=tr)}lr(i,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Nu(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(J(166));n=Ea(_a.current),Ea(xa.current),bu(t)?(n=t.stateNode,r=t.memoizedProps,n[gr]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[gr]=t,t.stateNode=n)}return null;case 13:return eo(Oa),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&bu(t):(r=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oa.current)?bs===ds&&(bs=ps):(bs!==ds&&bs!==ps||(bs=hs),0!==ks&&null!==gs&&(Cl(gs,ys),Sl(gs,ks)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ca(),null;case 10:return Go(t),null;case 17:return uo(t.type)&&so(),null;case 19:if(eo(Oa),null===(r=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(o=r.rendering)){if(i)$u(r,!1);else if(bs!==ds||null!==e&&0!=(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=Ma(o))){for(t.effectTag|=64,$u(r,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return to(Oa,1&Oa.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=Ma(o))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$u(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*To()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,$u(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=To()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=To(),n.sibling=null,t=Oa.current,to(Oa,i?1&t|2:1&t),n):null}throw Error(J(156,t.tag))}function qu(e){switch(e.tag){case 1:uo(e.type)&&so();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ca(),eo(io),eo(ro),0!=(64&(t=e.effectTag)))throw Error(J(285));return e.effectTag=-4097&t|64,e;case 5:return Aa(e),null;case 13:return eo(Oa),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return eo(Oa),null;case 4:return Ca(),null;case 10:return Go(e),null;default:return null}}function Wu(e,t){return{value:e,source:t,stack:lt(t)}}Tu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fu=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a,s,l=t.stateNode;switch(Ea(xa.current),e=null,n){case"input":o=ht(l,o),r=ht(l,r),e=[];break;case"option":o=xt(l,o),r=xt(l,r),e=[];break;case"select":o=u({},o,{value:void 0}),r=u({},r,{value:void 0}),e=[];break;case"textarea":o=_t(l,o),r=_t(l,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(l.onclick=tr)}for(a in Qn(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in l=o[a])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(ge.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var c=r[a];if(l=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(null!=c||null!=l))if("style"===a)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(a,n)),n=c;else"dangerouslySetInnerHTML"===a?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(a,c)):"children"===a?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(a,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(ge.hasOwnProperty(a)?(null!=c&&er(i,a),e||l===c||(e=[])):(e=e||[]).push(a,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Nu=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Hu="function"==typeof WeakSet?WeakSet:Set;function Vu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Gu(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){cl(e,t)}else t.current=null}function Yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$o(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(J(163))}function Xu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ku(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Ku(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:$o(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ia(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ia(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Mn(n)))));case 19:case 17:case 20:case 21:return}throw Error(J(163))}function Ju(e,t,n){switch("function"==typeof hl&&hl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;jo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){cl(i,e)}}e=e.next}while(e!==r)}))}break;case 1:Gu(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){cl(e,t)}}(t,n);break;case 5:Gu(t);break;case 4:ns(e,t,n)}}function Zu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Zu(t)}function es(e){return 5===e.tag||3===e.tag||4===e.tag}function ts(e){e:{for(var t=e.return;null!==t;){if(es(t)){var n=t;break e}t=t.return}throw Error(J(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(J(161))}16&n.effectTag&&(Tt(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=tr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ns(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(J(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var u=e,s=o,l=n,c=s;;)if(Ju(u,c,l),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(u=r,s=o.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Xu(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[vr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&gt(n,r),Jn(e,i),t=Jn(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?Xn(n,u):"dangerouslySetInnerHTML"===a?Pt(n,u):"children"===a?Tt(n,u):qe(n,a,u,t)}switch(e){case"input":vt(n,r);break;case"textarea":kt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?wt(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?wt(n,!!r.multiple,r.defaultValue,!0):wt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(J(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Mn(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ss=To()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Yn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void is(t);case 19:return void is(t);case 17:return}throw Error(J(163))}function is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Hu),t.forEach((function(t){var r=dl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ea(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,Ms=r),Vu(e,t)},n}function us(e,t,n){(n=ea(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Vu(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this),Vu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ss,ls=Math.ceil,cs=Ue.ReactCurrentDispatcher,fs=Ue.ReactCurrentOwner,ds=0,ps=3,hs=4,ms=0,gs=null,vs=null,ys=0,bs=ds,xs=null,ws=1073741823,_s=1073741823,Es=null,ks=0,Cs=!1,Ss=0,As=null,Os=!1,Ms=null,Ds=null,Ps=!1,Ts=null,Fs=90,Ns=null,js=0,Rs=null,Bs=0;function Ls(){return 0!=(48&ms)?1073741821-(To()/10|0):0!==Bs?Bs:Bs=1073741821-(To()/10|0)}function zs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Fo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&ms))return ys;if(null!==n)e=Io(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Io(e,150,100);break;case 97:case 96:e=Io(e,5e3,250);break;case 95:e=2;break;default:throw Error(J(326))}return null!==gs&&e===ys&&--e,e}function Is(e,t){if(50<js)throw js=0,Rs=null,Error(J(185));if(null!==(e=$s(e,t))){var n=Fo();1073741823===t?0!=(8&ms)&&0==(48&ms)?Hs(e):(qs(e),0===ms&&Lo()):qs(e),0==(4&ms)||98!==n&&99!==n||(null===Ns?Ns=new Map([[e,t]]):(void 0===(n=Ns.get(e))||n>t)&&Ns.set(e,t))}}function $s(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(gs===i&&(Js(t),bs===hs&&Cl(i,ys)),Sl(i,t)),i}function Us(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!kl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Bo(Hs.bind(null,e));else{var t=Us(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ls();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Co&&go(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Bo(Hs.bind(null,e)):Ro(r,Ws.bind(null,e),{timeout:10*(1073741821-t)-To()}),e.callbackNode=t}}}function Ws(e,t){if(Bs=0,t)return Al(e,t=Ls()),qs(e),null;var n=Us(e);if(0!==n){if(t=e.callbackNode,0!=(48&ms))throw Error(J(327));if(ul(),e===gs&&n===ys||Ys(e,n),null!==vs){var r=ms;ms|=16;for(var i=Ks();;)try{el();break}catch(t){Xs(e,t)}if(Vo(),ms=r,cs.current=i,1===bs)throw t=xs,Ys(e,n),Cl(e,n),qs(e),t;if(null===vs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=bs,gs=null,r){case ds:case 1:throw Error(J(345));case 2:Al(e,2<n?2:n);break;case ps:if(Cl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=rl(i)),1073741823===ws&&10<(i=Ss+500-To())){if(Cs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Ys(e,n);break}}if(0!==(o=Us(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=fr(il.bind(null,e),i);break}il(e);break;case hs:if(Cl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=rl(i)),Cs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Ys(e,n);break}if(0!==(i=Us(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==_s?r=10*(1073741821-_s)-To():1073741823===ws?r=0:(r=10*(1073741821-ws)-5e3,0>(r=(i=To())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ls(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=fr(il.bind(null,e),r);break}il(e);break;case 5:if(1073741823!==ws&&null!==Es){o=ws;var a=Es;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=To()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Cl(e,n),e.timeoutHandle=fr(il.bind(null,e),r);break}}il(e);break;default:throw Error(J(329))}if(qs(e),e.callbackNode===t)return Ws.bind(null,e)}}return null}function Hs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&ms))throw Error(J(327));if(ul(),e===gs&&t===ys||Ys(e,t),null!==vs){var n=ms;ms|=16;for(var r=Ks();;)try{Zs();break}catch(t){Xs(e,t)}if(Vo(),ms=n,cs.current=r,1===bs)throw n=xs,Ys(e,t),Cl(e,t),qs(e),n;if(null!==vs)throw Error(J(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,gs=null,il(e),qs(e)}return null}function Vs(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&Lo()}}function Gs(e,t){var n=ms;ms&=-2,ms|=8;try{return e(t)}finally{0===(ms=n)&&Lo()}}function Ys(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,dr(n)),null!==vs)for(n=vs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&so();break;case 3:Ca(),eo(io),eo(ro);break;case 5:Aa(r);break;case 4:Ca();break;case 13:case 19:eo(Oa);break;case 10:Go(r)}n=n.return}gs=e,vs=yl(e.current,null),ys=t,bs=ds,xs=null,_s=ws=1073741823,Es=null,ks=0,Cs=!1}function Xs(e,t){for(;;){try{if(Vo(),Pa.current=su,Ba)for(var n=Na.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Fa=0,Ra=ja=Na=null,Ba=!1,null===vs||null===vs.return)return bs=1,xs=t,vs=null;e:{var i=e,o=vs.return,a=vs,u=t;if(t=ys,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Oa.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(s),f.updateQueue=g}else m.add(s);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=ea(1073741823,null);v.tag=2,ta(a,v)}a.expirationTime=1073741823;break e}u=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new os,u=new Set,y.set(s,u)):void 0===(u=y.get(s))&&(u=new Set,y.set(s,u)),!u.has(a)){u.add(a);var b=fl.bind(null,i,s,a);s.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((st(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(a))}5!==bs&&(bs=2),u=Wu(u,a),f=o;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,na(f,as(f,s,t));break e;case 1:s=u;var x=f.type,w=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Ds||!Ds.has(w)))){f.effectTag|=4096,f.expirationTime=t,na(f,us(f,s,t));break e}}f=f.return}while(null!==f)}vs=nl(vs)}catch(e){t=e;continue}break}}function Ks(){var e=cs.current;return cs.current=su,null===e?su:e}function Qs(e,t){e<ws&&2<e&&(ws=e),null!==t&&e<_s&&2<e&&(_s=e,Es=t)}function Js(e){e>ks&&(ks=e)}function Zs(){for(;null!==vs;)vs=tl(vs)}function el(){for(;null!==vs&&!So();)vs=tl(vs)}function tl(e){var t=ss(e.alternate,e,ys);return e.memoizedProps=e.pendingProps,null===t&&(t=nl(e)),fs.current=null,t}function nl(e){vs=e;do{var t=vs.alternate;if(e=vs.return,0==(2048&vs.effectTag)){if(t=Uu(t,vs,ys),1===ys||1!==vs.childExpirationTime){for(var n=0,r=vs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}vs.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=vs.firstEffect),null!==vs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=vs.firstEffect),e.lastEffect=vs.lastEffect),1<vs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=vs:e.firstEffect=vs,e.lastEffect=vs))}else{if(null!==(t=qu(vs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=vs.sibling))return t;vs=e}while(null!==vs);return bs===ds&&(bs=5),null}function rl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function il(e){var t=Fo();return jo(99,ol.bind(null,e,t)),null}function ol(e,t){do{ul()}while(null!==Ts);if(0!=(48&ms))throw Error(J(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=rl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===gs&&(vs=gs=null,ys=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=ms;ms|=32,fs.current=null,ur=zn;var a=or();if(ar(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{var s=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(s&&0!==s.rangeCount){u=s.anchorNode;var l=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var f=0,d=-1,p=-1,h=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==u||0!==l&&3!==g.nodeType||(d=f+l),g!==c||0!==s&&3!==g.nodeType||(p=f+s),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===u&&++h===l&&(d=f),v===c&&++m===s&&(p=f),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;sr={activeElementDetached:null,focusedElem:a,selectionRange:u},zn=!1,As=i;do{try{al()}catch(e){if(null===As)throw Error(J(330));cl(As,e),As=As.nextEffect}}while(null!==As);As=i;do{try{for(a=e,u=t;null!==As;){var b=As.effectTag;if(16&b&&Tt(As.stateNode,""),128&b){var x=As.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ts(As),As.effectTag&=-3;break;case 6:ts(As),As.effectTag&=-3,rs(As.alternate,As);break;case 1024:As.effectTag&=-1025;break;case 1028:As.effectTag&=-1025,rs(As.alternate,As);break;case 4:rs(As.alternate,As);break;case 8:ns(a,l=As,u),Zu(l)}As=As.nextEffect}}catch(e){if(null===As)throw Error(J(330));cl(As,e),As=As.nextEffect}}while(null!==As);if(w=sr,x=or(),b=w.focusedElem,u=w.selectionRange,x!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&ar(b)&&(x=u.start,void 0===(w=u.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,a=Math.min(u.start,l),u=void 0===u.end?a:Math.min(u.end,l),!w.extend&&a>u&&(l=u,u=a,a=l),l=ir(b,a),c=ir(b,u),l&&c&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),a>u?(w.addRange(x),w.extend(c.node,c.offset)):(x.setEnd(c.node,c.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}zn=!!ur,sr=ur=null,e.current=n,As=i;do{try{for(b=e;null!==As;){var _=As.effectTag;if(36&_&&Qu(b,As.alternate,As),128&_){x=void 0;var E=As.ref;if(null!==E){var k=As.stateNode;switch(As.tag){case 5:x=k;break;default:x=k}"function"==typeof E?E(x):E.current=x}}As=As.nextEffect}}catch(e){if(null===As)throw Error(J(330));cl(As,e),As=As.nextEffect}}while(null!==As);As=null,Ao(),ms=o}else e.current=n;if(Ps)Ps=!1,Ts=e,Fs=t;else for(As=i;null!==As;)t=As.nextEffect,As.nextEffect=null,As=t;if(0===(t=e.firstPendingTime)&&(Ds=null),1073741823===t?e===Rs?js++:(js=0,Rs=e):js=0,"function"==typeof pl&&pl(n.stateNode,r),qs(e),Os)throw Os=!1,e=Ms,Ms=null,e;return 0!=(8&ms)||Lo(),null}function al(){for(;null!==As;){var e=As.effectTag;0!=(256&e)&&Yu(As.alternate,As),0==(512&e)||Ps||(Ps=!0,Ro(97,(function(){return ul(),null}))),As=As.nextEffect}}function ul(){if(90!==Fs){var e=97<Fs?97:Fs;return Fs=90,jo(e,sl)}}function sl(){if(null===Ts)return!1;var e=Ts;if(Ts=null,0!=(48&ms))throw Error(J(331));var t=ms;for(ms|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Xu(5,n),Ku(5,n)}}catch(t){if(null===e)throw Error(J(330));cl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ms=t,Lo(),!0}function ll(e,t,n){ta(e,t=as(e,t=Wu(n,t),1073741823)),null!==(e=$s(e,1073741823))&&qs(e)}function cl(e,t){if(3===e.tag)ll(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ll(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){ta(n,e=us(n,e=Wu(t,e),1073741823)),null!==(n=$s(n,1073741823))&&qs(n);break}}n=n.return}}function fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),gs===e&&ys===n?bs===hs||bs===ps&&1073741823===ws&&To()-Ss<500?Ys(e,ys):Cs=!0:kl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,qs(e)))}function dl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=zs(t=Ls(),e,null)),null!==(e=$s(e,t))&&qs(e)}ss=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||io.current)_u=!0;else{if(r<n){switch(_u=!1,t.tag){case 3:Pu(t),xu();break;case 5:if(Sa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:uo(t.type)&&fo(t);break;case 4:ka(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,to(Uo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ru(e,t,n):(to(Oa,1&Oa.current),null!==(t=Iu(e,t,n))?t.sibling:null);to(Oa,1&Oa.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return zu(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),to(Oa,Oa.current),!r)return null}return Iu(e,t,n)}_u=!1}}else _u=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=ao(t,ro.current),Xo(t,n),i=Ia(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,uo(r)){var o=!0;fo(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Jo(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ua(t,r,a,e),i.updater=sa,t.stateNode=i,i._reactInternalFiber=t,da(t,r,e,n),t=Du(null,t,r,!0,o,n)}else t.tag=0,Eu(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return vl(e)?1:0;if(null!=e){if((e=e.$$typeof)===et)return 11;if(e===rt)return 14}return 2}(i),e=$o(i,e),o){case 0:t=Ou(null,t,i,e,n);break e;case 1:t=Mu(null,t,i,e,n);break e;case 11:t=ku(null,t,i,e,n);break e;case 14:t=Cu(null,t,i,$o(i.type,e),r,n);break e}throw Error(J(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ou(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 1:return r=t.type,i=t.pendingProps,Mu(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 3:if(Pu(t),r=t.updateQueue,null===e||null===r)throw Error(J(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Zo(e,t),ra(t,r,null,n),(r=t.memoizedState.element)===i)xu(),t=Iu(e,t,n);else{if((i=t.stateNode.hydrate)&&(pu=pr(t.stateNode.containerInfo.firstChild),du=t,i=hu=!0),i)for(n=ya(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Eu(e,t,r,n),xu();t=t.child}return t;case 5:return Sa(t),null===e&&vu(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,cr(r,i)?a=null:null!==o&&cr(r,o)&&(t.effectTag|=16),Au(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Eu(e,t,a,n),t=t.child),t;case 6:return null===e&&vu(t),null;case 13:return Ru(e,t,n);case 4:return ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=va(t,null,r,n):Eu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:$o(r,i),n);case 7:return Eu(e,t,t.pendingProps,n),t.child;case 8:case 12:return Eu(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(to(Uo,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=Mi(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!io.current){t=Iu(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var s=u.dependencies;if(null!==s){a=u.child;for(var l=s.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ea(n,null)).tag=2,ta(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),Yo(u.return,n),s.expirationTime<n&&(s.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Eu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Xo(t,n),r=r(i=Ko(i,o.unstable_observedBits)),t.effectTag|=1,Eu(e,t,r,n),t.child;case 14:return o=$o(i=t.type,t.pendingProps),Cu(e,t,i,o=$o(i.type,o),r,n);case 15:return Su(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$o(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,uo(r)?(e=!0,fo(t)):e=!1,Xo(t,n),ca(t,r,i),da(t,r,i,n),Du(null,t,r,!0,e,n);case 19:return zu(e,t,n)}throw Error(J(156,t.tag))};var pl=null,hl=null;function ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gl(e,t,n,r){return new ml(e,t,n,r)}function vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yl(e,t){var n=e.alternate;return null===n?((n=gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bl(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)vl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Ye:return xl(n.children,i,o,t);case Ze:a=8,i|=7;break;case Xe:a=8,i|=1;break;case Ke:return(e=gl(12,n,t,8|i)).elementType=Ke,e.type=Ke,e.expirationTime=o,e;case tt:return(e=gl(13,n,t,i)).type=tt,e.elementType=tt,e.expirationTime=o,e;case nt:return(e=gl(19,n,t,i)).elementType=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Qe:a=10;break e;case Je:a=9;break e;case et:a=11;break e;case rt:a=14;break e;case it:a=16,r=null;break e;case ot:a=22;break e}throw Error(J(130,null==e?e:typeof e,""))}return(t=gl(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function xl(e,t,n,r){return(e=gl(7,e,r,t)).expirationTime=n,e}function wl(e,t,n){return(e=gl(6,e,null,t)).expirationTime=n,e}function _l(e,t,n){return(t=gl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function El(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function kl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Cl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Sl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Al(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ol(e,t,n,r){var i=t.current,o=Ls(),a=oa.suspense;o=zs(o,i,a);e:if(n){t:{if(Ht(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(J(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(uo(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(J(171))}if(1===n.tag){var s=n.type;if(uo(s)){n=co(n,s,u);break e}}n=u}else n=no;return null===t.context?t.context=n:t.pendingContext=n,(t=ea(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ta(i,t),Is(i,o),o}function Ml(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Dl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Pl(e,t){Dl(e,t),(e=e.alternate)&&Dl(e,t)}function Tl(e,t,n){var r=new El(e,t,n=null!=n&&!0===n.hydrate),i=gl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Jo(i),e[yr]=r.current,n&&0!==t&&function(e,t){var n=Wt(t);bn.forEach((function(e){un(e,t,n)})),xn.forEach((function(e){un(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Fl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Nl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var u=i;i=function(){var e=Ml(a);u.call(e)}}Ol(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=Ml(a);s.call(e)}}Gs((function(){Ol(t,a,e,i)}))}return Ml(a)}function jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ge,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Fl(t))throw Error(J(200));return jl(e,t,null,n)}Tl.prototype.render=function(e){Ol(e,this._internalRoot,null,null)},Tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ol(null,e,null,(function(){t[yr]=null}))},sn=function(e){if(13===e.tag){var t=Io(Ls(),150,100);Is(e,t),Pl(e,t)}},ln=function(e){13===e.tag&&(Is(e,3),Pl(e,3))},cn=function(e){if(13===e.tag){var t=Ls();Is(e,t=zs(t,e,null)),Pl(e,t)}},xe=function(e,t,n){switch(t){case"input":if(vt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_r(r);if(!i)throw Error(J(90));pt(r),vt(r,i)}}}break;case"textarea":kt(e,n);break;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}},Se=Vs,Ae=function(e,t,n,r,i){var o=ms;ms|=4;try{return jo(98,e.bind(null,t,n,r,i))}finally{0===(ms=o)&&Lo()}},Oe=function(){0==(49&ms)&&(function(){if(null!==Ns){var e=Ns;Ns=null,e.forEach((function(e,t){Al(t,e),qs(t)})),Lo()}}(),ul())},Me=function(e,t){var n=ms;ms|=2;try{return e(t)}finally{0===(ms=n)&&Lo()}};var Bl={Events:[xr,wr,_r,ye,me,Mr,function(e){Kt(e,Or)},ke,Ce,Wn,Zt,ul,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);pl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},hl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(u({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Yt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:br,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});var Ll={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Bl,createPortal:Rl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(J(188));throw Error(J(268,Object.keys(e)))}return e=null===(e=Yt(t))?null:e.stateNode},flushSync:function(e,t){if(0!=(48&ms))throw Error(J(187));var n=ms;ms|=1;try{return jo(99,e.bind(null,t))}finally{ms=n,Lo()}},hydrate:function(e,t,n){if(!Fl(t))throw Error(J(200));return Nl(null,e,t,!0,n)},render:function(e,t,n){if(!Fl(t))throw Error(J(200));return Nl(null,e,t,!1,n)},unmountComponentAtNode:function(e){if(!Fl(e))throw Error(J(40));return!!e._reactRootContainer&&(Gs((function(){Nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[yr]=null}))})),!0)},unstable_batchedUpdates:Vs,unstable_createPortal:function(e,t){return Rl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!Fl(n))throw Error(J(200));if(null==e||void 0===e._reactInternalFiber)throw Error(J(38));return Nl(e,t,n,!1,r)},version:"16.13.1"},zl=n((function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=Ll})),Il=(zl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl.createPortal,zl.findDOMNode,zl.flushSync,zl.hydrate,zl.render),$l=(zl.unmountComponentAtNode,zl.unstable_batchedUpdates,zl.unstable_createPortal,zl.unstable_renderSubtreeIntoContainer,zl.version,{"@@functional/placeholder":!0});var Ul=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]};var ql=function(e){return function t(n){return 0===arguments.length||Ul(n)?t:e.apply(this,arguments)}};var Wl=function(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Ul(n)?t:ql((function(t){return e(n,t)}));default:return Ul(n)&&Ul(r)?t:Ul(n)?ql((function(t){return e(t,r)})):Ul(r)?ql((function(t){return e(n,t)})):e(n,r)}}};var Hl=function(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o};var Vl=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,u){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,u,s){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,u,s,l){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,u,s,l,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}};var Gl=function e(t,n,r){return function(){for(var i=[],o=0,a=t,u=0;u<n.length||o<arguments.length;){var s;u<n.length&&(!Ul(n[u])||o>=arguments.length)?s=n[u]:(s=arguments[o],o+=1),i[u]=s,Ul(s)||(a-=1),u+=1}return a<=0?r.apply(this,i):Vl(a,e(t,i,r))}},Yl=Wl((function(e,t){return 1===e?ql(t):Vl(e,Gl(e,[],t))})),Xl=ql((function(e){return Yl(e.length,(function(){var t=0,n=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var e=n.apply(this,Hl(arguments,[t,r]));return t+=1,e},e.apply(this,i)}))}));var Kl=function(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return Ul(n)?t:Wl((function(t,r){return e(n,t,r)}));case 2:return Ul(n)&&Ul(r)?t:Ul(n)?Wl((function(t,n){return e(t,r,n)})):Ul(r)?Wl((function(t,r){return e(n,t,r)})):ql((function(t){return e(n,r,t)}));default:return Ul(n)&&Ul(r)&&Ul(i)?t:Ul(n)&&Ul(r)?Wl((function(t,n){return e(t,n,i)})):Ul(n)&&Ul(i)?Wl((function(t,n){return e(t,r,n)})):Ul(r)&&Ul(i)?Wl((function(t,r){return e(n,t,r)})):Ul(n)?ql((function(t){return e(t,r,i)})):Ul(r)?ql((function(t){return e(n,t,i)})):Ul(i)?ql((function(t){return e(n,r,t)})):e(n,r,i)}}},Ql=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var Jl=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]};var Zl=function(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!Ql(i)){for(var o=0;o<e.length;){if("function"==typeof i[e[o]])return i[e[o]].apply(i,r);o+=1}if(Jl(i)){var a=t.apply(null,r);return a(i)}}return n.apply(this,arguments)}};var ec=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}},tc=function(){return this.xf["@@transducer/init"]()},nc=function(e){return this.xf["@@transducer/result"](e)};var rc=function(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i};var ic=function(e){return"[object String]"===Object.prototype.toString.call(e)},oc=ql((function(e){return!!Ql(e)||!!e&&("object"==typeof e&&(!ic(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),ac=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();var uc=function(e){return new ac(e)},sc=Wl((function(e,t){return Vl(e.length,(function(){return e.apply(t,arguments)}))}));function lc(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function cc(e,t,n,r){return e["@@transducer/result"](n[r](sc(e["@@transducer/step"],e),t))}var fc="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";var dc=function(e,t,n){if("function"==typeof e&&(e=uc(e)),oc(n))return function(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return cc(e,t,n,"fantasy-land/reduce");if(null!=n[fc])return lc(e,t,n[fc]());if("function"==typeof n.next)return lc(e,t,n);if("function"==typeof n.reduce)return cc(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")},pc=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=tc,e.prototype["@@transducer/result"]=nc,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),hc=Wl((function(e,t){return new pc(e,t)}));var mc=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},gc=Object.prototype.toString,vc=function(){return"[object Arguments]"===gc.call(arguments)?function(e){return"[object Arguments]"===gc.call(e)}:function(e){return mc("callee",e)}}(),yc=!{toString:null}.propertyIsEnumerable("toString"),bc=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xc=function(){return arguments.propertyIsEnumerable("length")}(),wc=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},_c="function"!=typeof Object.keys||xc?ql((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=xc&&vc(e);for(t in e)!mc(t,e)||i&&"length"===t||(r[r.length]=t);if(yc)for(n=bc.length-1;n>=0;)mc(t=bc[n],e)&&!wc(r,t)&&(r[r.length]=t),n-=1;return r})):ql((function(e){return Object(e)!==e?[]:Object.keys(e)})),Ec=Wl(Zl(["fantasy-land/map","map"],hc,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Yl(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return dc((function(n,r){return n[r]=e(t[r]),n}),{},_c(t));default:return rc(e,t)}}))),kc=Number.isInteger||function(e){return e<<0===e},Cc=Wl((function(e,t){var n=e<0?t.length+e:e;return ic(t)?t.charAt(n):t[n]})),Sc=Wl((function(e,t){return e.map((function(e){for(var n,r=t,i=0;i<e.length;){if(null==r)return;n=e[i],r=kc(n)?Cc(n,r):r[n],i+=1}return r}))})),Ac=Wl((function(e,t){return Sc([e],t)[0]})),Oc=Wl((function(e,t){return Ac([e],t)})),Mc=Kl(dc),Dc=ql((function(e){return function(){return e}})),Pc=Wl((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(n){return e(n)(t(n))}:dc((function(e,n){return Hl(e,Ec(n,t))}),[],e)})),Tc=Wl((function(e,t){return t(e)})),Fc=ql((function(e){return null==e}));var Nc=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t},jc=Wl((function(e,t){var n=Yl(e,t);return Yl(e,(function(){return dc(Pc,Ec(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Rc=ql((function(e){return jc(e.length,e)})),Bc=ql((function(e){return Yl(e.length,e)}));var Lc=function(e){return function t(n){for(var r,i,o,a=[],u=0,s=n.length;u<s;){if(oc(n[u]))for(o=0,i=(r=e?t(n[u]):n[u]).length;o<i;)a[a.length]=r[o],o+=1;else a[a.length]=n[u];u+=1}return a}},zc=ql((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)})),Ic=ql((function(e){return!e}));var $c=function(e,t){return function(){return t.call(this,e.apply(this,arguments))}};var Uc=function(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return Ql(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}},qc=Kl(Uc("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),Wc=ql(Uc("tail",qc(1,1/0)));var Hc=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Vl(arguments[0].length,Mc($c,arguments[0],Wc(arguments)))},Vc=ql((function(e){return ic(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));var Gc=function(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Hc.apply(this,Vc(arguments))},Yc=Cc(0);var Xc=ql((function(e){return e}));var Kc=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n};var Qc=function(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1};var Jc=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]};var Zc="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function ef(e,t,n,r){var i=Kc(e),o=Kc(t);function a(e,t){return tf(e,t,n.slice(),r.slice())}return!Qc((function(e,t){return!Qc(a,t,e)}),o,i)}function tf(e,t,n,r){if(Zc(e,t))return!0;var i=zc(e);if(i!==zc(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===Jc(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Zc(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Zc(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&ef(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&ef(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=_c(e);if(a.length!==_c(t).length)return!1;var u=n.concat([e]),s=r.concat([t]);for(o=a.length-1;o>=0;){var l=a[o];if(!mc(l,t)||!tf(t[l],e[l],u,s))return!1;o-=1}return!0}var nf=tf,rf=Wl((function(e,t){return nf(e,t,[],[])}));var of=function(e,t,n){var r,i;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(i=e[n])&&1/i===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(i=e[n])&&i!=i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(rf(e[n],t))return n;n+=1}return-1};var af=function(e,t){return of(t,e,0)>=0};var uf=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'},sf=function(e){return(e<10?"0":"")+e},lf="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+sf(e.getUTCMonth()+1)+"-"+sf(e.getUTCDate())+"T"+sf(e.getUTCHours())+":"+sf(e.getUTCMinutes())+":"+sf(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};var cf=function(e){return function(){return!e.apply(this,arguments)}};var ff=function(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i};var df=function(e){return"[object Object]"===Object.prototype.toString.call(e)},pf=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=tc,e.prototype["@@transducer/result"]=nc,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),hf=Wl(Zl(["filter"],Wl((function(e,t){return new pf(e,t)})),(function(e,t){return df(t)?dc((function(n,r){return e(t[r])&&(n[r]=t[r]),n}),{},_c(t)):ff(e,t)}))),mf=Wl((function(e,t){return hf(cf(e),t)}));var gf=function e(t,n){var r=function(r){var i=n.concat([t]);return af(r,i)?"<Circular>":e(r,i)},i=function(e,t){return rc((function(t){return uf(t)+": "+r(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+rc(r,t).join(", ")+"))";case"[object Array]":return"["+rc(r,t).concat(i(t,mf((function(e){return/^\d+$/.test(e)}),_c(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):uf(lf(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":uf(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var o=t.toString();if("[object Object]"!==o)return o}return"{"+i(t,_c(t)).join(", ")+"}"}},vf=ql((function(e){return gf(e,[])})),yf=Wl((function(e,t){if(Ql(e)){if(Ql(t))return e.concat(t);throw new TypeError(vf(t)+" is not an array")}if(ic(e)){if(ic(t))return e+t;throw new TypeError(vf(t)+" is not a string")}if(null!=e&&Nc(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&Nc(e.concat))return e.concat(t);throw new TypeError(vf(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),bf=Wl((function(e,t){return null==t||t!=t?e:t}));function xf(e,t,n){var r,i=typeof e;switch(i){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?e in n._items[i]||(t&&(n._items[i][e]=!0),!1):(t&&(n._items[i]={},n._items[i][e]=!0),!1);case"boolean":if(i in n._items){var o=e?1:0;return!!n._items[i][o]||(t&&(n._items[i][o]=!0),!1)}return t&&(n._items[i]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(r=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===r):n._nativeSet.has(e):i in n._items?!!af(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1);case"undefined":return!!n._items[i]||(t&&(n._items[i]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(i=Object.prototype.toString.call(e))in n._items?!!af(e,n._items[i])||(t&&n._items[i].push(e),!1):(t&&(n._items[i]=[e]),!1)}}var wf=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!xf(e,!0,this)},e.prototype.has=function(e){return xf(e,!1,this)},e}(),_f=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=tc,e.prototype["@@transducer/result"]=nc,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?ec(n):n},e}(),Ef=Wl(Zl(["take"],Wl((function(e,t){return new _f(e,t)})),(function(e,t){return qc(0,e<0?1/0:e,t)})));var kf=function(e,t){return Ef(e<t.length?t.length-e:0,t)},Cf=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=tc,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),Sf=Wl(Zl([],Wl((function(e,t){return new Cf(e,t)})),kf)),Af=Wl((function(e,t){return e||t})),Of=Wl((function(e,t){return Nc(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Rc(Af)(e,t)})),Mf=Wl((function e(t,n){var r,i,o,a=n instanceof Array?[]:{};for(i in n)o=typeof(r=t[i]),a[i]="function"===o?r(n[i]):r&&"object"===o?e(r,n[i]):n[i];return a})),Df=ql(Lc(!0)),Pf=ql((function(e){return Yl(e.length,(function(t,n){var r=Array.prototype.slice.call(arguments,0);return r[0]=n,r[1]=t,e.apply(this,r)}))})),Tf=Wl(Uc("forEach",(function(e,t){for(var n=t.length,r=0;r<n;)e(t[r]),r+=1;return t}))),Ff=Wl((function(e,t){if(0===e.length||Fc(t))return!1;for(var n=t,r=0;r<e.length;){if(Fc(n)||!mc(e[r],n))return!1;n=n[e[r]],r+=1}return!0})),Nf=Wl((function(e,t){return Ff([e],t)})),jf=Kl((function(e,t,n){return Yl(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))})),Rf=Wl((function(e,t){for(var n,r,i=new wf,o=[],a=0;a<t.length;)n=e(r=t[a]),i.add(n)&&o.push(r),a+=1;return o}));var Bf="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)mc(o,i)&&(t[o]=i[o]);n+=1}return t},Lf=Wl((function(e,t){var n={};return n[e]=t,n})),zf=Wl((function(e,t){return Yl(e+1,(function(){var n=arguments[e];if(null!=n&&Nc(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(vf(n)+' does not have a method named "'+t+'"')}))})),If=Wl((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),$f=zf(1,"join"),Uf=Wl((function(e,t){return Bf({},e,t)})),qf=ql((function(e){return Bf.apply(null,[{}].concat(e))})),Wf=Kl((function(e,t,n){var r,i={};for(r in t)mc(r,t)&&(i[r]=mc(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)mc(r,n)&&!mc(r,i)&&(i[r]=n[r]);return i})),Hf=Kl((function e(t,n,r){return Wf((function(n,r,i){return df(r)&&df(i)?e(t,r,i):t(n,r,i)}),n,r)})),Vf=Wl((function(e,t){return Hf((function(e,t,n){return n}),e,t)})),Gf=Wl((function(e,t){return Bf({},e,t)}));var Yf=ql((function(e){return[e]})),Xf=Wl((function(e,t){for(var n={},r={},i=0,o=e.length;i<o;)r[e[i]]=1,i+=1;for(var a in t)r.hasOwnProperty(a)||(n[a]=t[a]);return n})),Kf=ql((function(e){var t,n=!1;return Vl(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))})),Qf=Kl((function(e,t,n){return rf(Ac(e,n),t)})),Jf=Kl((function(e,t,n){return bf(e,Ac(t,n))})),Zf=Wl((function(e,t){for(var n={},r=0;r<e.length;)e[r]in t&&(n[e[r]]=t[e[r]]),r+=1;return n})),ed=Kl((function(e,t,n){return rf(t,n[e])})),td=Kl((function(e,t,n){return Jf(e,[t],n)})),nd=zf(1,"split"),rd=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=tc,e.prototype["@@transducer/result"]=nc,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),id=Wl(Zl([],Wl((function(e,t){return new rd(e,t)})),(function(e,t){return e(t),t}))),od=Kl((function(e,t,n){return e(n)?n:t(n)})),ad=Kl((function(e,t,n){return e(n)?t(n):n})),ud=Wl((function(e,t){return mf(Pf(af)(e),t)})),sd=n((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t}));var ld=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t};var cd=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},fd="function"==typeof Symbol&&Symbol.for,dd=fd?Symbol.for("react.element"):60103,pd=fd?Symbol.for("react.portal"):60106,hd=fd?Symbol.for("react.fragment"):60107,md=fd?Symbol.for("react.strict_mode"):60108,gd=fd?Symbol.for("react.profiler"):60114,vd=fd?Symbol.for("react.provider"):60109,yd=fd?Symbol.for("react.context"):60110,bd=fd?Symbol.for("react.async_mode"):60111,xd=fd?Symbol.for("react.concurrent_mode"):60111,wd=fd?Symbol.for("react.forward_ref"):60112,_d=fd?Symbol.for("react.suspense"):60113,Ed=fd?Symbol.for("react.suspense_list"):60120,kd=fd?Symbol.for("react.memo"):60115,Cd=fd?Symbol.for("react.lazy"):60116,Sd=fd?Symbol.for("react.block"):60121,Ad=fd?Symbol.for("react.fundamental"):60117,Od=fd?Symbol.for("react.responder"):60118,Md=fd?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
	 * react-is.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */function Dd(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case dd:switch(e=e.type){case bd:case xd:case hd:case gd:case md:case _d:return e;default:switch(e=e&&e.$$typeof){case yd:case wd:case Cd:case kd:case vd:return e;default:return t}}case pd:return t}}}function Pd(e){return Dd(e)===xd}var Td={AsyncMode:bd,ConcurrentMode:xd,ContextConsumer:yd,ContextProvider:vd,Element:dd,ForwardRef:wd,Fragment:hd,Lazy:Cd,Memo:kd,Portal:pd,Profiler:gd,StrictMode:md,Suspense:_d,isAsyncMode:function(e){return Pd(e)||Dd(e)===bd},isConcurrentMode:Pd,isContextConsumer:function(e){return Dd(e)===yd},isContextProvider:function(e){return Dd(e)===vd},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===dd},isForwardRef:function(e){return Dd(e)===wd},isFragment:function(e){return Dd(e)===hd},isLazy:function(e){return Dd(e)===Cd},isMemo:function(e){return Dd(e)===kd},isPortal:function(e){return Dd(e)===pd},isProfiler:function(e){return Dd(e)===gd},isStrictMode:function(e){return Dd(e)===md},isSuspense:function(e){return Dd(e)===_d},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===hd||e===xd||e===gd||e===md||e===_d||e===Ed||"object"==typeof e&&null!==e&&(e.$$typeof===Cd||e.$$typeof===kd||e.$$typeof===vd||e.$$typeof===yd||e.$$typeof===wd||e.$$typeof===Ad||e.$$typeof===Od||e.$$typeof===Md||e.$$typeof===Sd)},typeOf:Dd},Fd=n((function(e){e.exports=Td})),Nd=(Fd.AsyncMode,Fd.ConcurrentMode,Fd.ContextConsumer,Fd.ContextProvider,Fd.Element,Fd.ForwardRef,Fd.Fragment,Fd.Lazy,Fd.Memo,Fd.Portal,Fd.Profiler,Fd.StrictMode,Fd.Suspense,Fd.isAsyncMode,Fd.isConcurrentMode,Fd.isContextConsumer,Fd.isContextProvider,Fd.isElement,Fd.isForwardRef,Fd.isFragment,Fd.isLazy,Fd.isMemo,Fd.isPortal,Fd.isProfiler,Fd.isStrictMode,Fd.isSuspense,Fd.isValidElementType,Fd.typeOf,{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),jd={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rd={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bd={};function Ld(e){return Fd.isMemo(e)?Rd:Bd[e.$$typeof]||Nd}Bd[Fd.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bd[Fd.Memo]=Rd;var zd=Object.defineProperty,Id=Object.getOwnPropertyNames,$d=Object.getOwnPropertySymbols,Ud=Object.getOwnPropertyDescriptor,qd=Object.getPrototypeOf,Wd=Object.prototype;var Hd=function e(t,n,r){if("string"!=typeof n){if(Wd){var i=qd(n);i&&i!==Wd&&e(t,i,r)}var o=Id(n);$d&&(o=o.concat($d(n)));for(var a=Ld(t),u=Ld(n),s=0;s<o.length;++s){var l=o[s];if(!(jd[l]||r&&r[l]||u&&u[l]||a&&a[l])){var c=Ud(n,l);try{zd(t,l,c)}catch(e){}}}}return t};var Vd=function(e,t){};function Gd(){}function Yd(){}Yd.resetWarningCache=Gd;var Xd=n((function(e){e.exports=function(){function e(e,t,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yd,resetWarningCache:Gd};return n.PropTypes=n,n}()})),Kd=(Xd.array,Xd.bool,Xd.func,Xd.number,Xd.object,Xd.string,Xd.symbol,Xd.any,Xd.arrayOf,Xd.element,Xd.elementType,Xd.instanceOf,Xd.node,Xd.objectOf,Xd.oneOf,Xd.oneOfType,Xd.shape,Xd.exact,Xd.checkPropTypes,Xd.resetWarningCache,Xd.PropTypes,n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}})));t(Kd);var Qd=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(H),i=(n(Vd),n(Xd),n(Hd));n(Kd);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return function(t){var n,i;function s(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return o(u(u(n=t.call.apply(t,[this].concat(a))||this)),"cachedTheme",void 0),o(u(u(n)),"lastOuterTheme",void 0),o(u(u(n)),"lastTheme",void 0),o(u(u(n)),"renderProvider",(function(t){var i=n.props.children;return r.createElement(e.Provider,{value:n.getTheme(t)},i)})),n}i=t,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var l=s.prototype;return l.getTheme=function(e){if(this.props.theme!==this.lastTheme||e!==this.lastOuterTheme||!this.cachedTheme)if(this.lastOuterTheme=e,this.lastTheme=this.props.theme,"function"==typeof this.lastTheme){var t=this.props.theme;this.cachedTheme=t(e)}else{var n=this.props.theme;this.cachedTheme=e?a({},e,n):n}return this.cachedTheme},l.render=function(){return this.props.children?r.createElement(e.Consumer,null,this.renderProvider):null},s}(r.Component)}function l(e){return function(t){var n=r.forwardRef((function(n,i){return r.createElement(e.Consumer,null,(function(e){return r.createElement(t,a({theme:e,ref:i},n))}))}));return i(n,t),n}}function c(e){return function(){return r.useContext(e)}}var f=H.createContext();function d(e){return{context:e,withTheme:l(e),useTheme:c(e),ThemeProvider:s(e)}}var p=d(f),h=p.withTheme,m=p.ThemeProvider,g=p.useTheme;t.useTheme=g,t.ThemeContext=f,t.withTheme=h,t.createTheming=d,t.ThemeProvider=m}));t(Qd);Qd.useTheme,Qd.ThemeContext,Qd.withTheme,Qd.createTheming,Qd.ThemeProvider;var Jd=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=t.isBrowser="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document))&&9===document.nodeType;t.default=r}));t(Jd);Jd.isBrowser;function Zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ep=function(e,t,n){return t&&Zd(e.prototype,t),n&&Zd(e,n),e};var tp=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},np=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(sd),i=n(Jd),o=n(Vd),a=n(ep),u=n(ld),s=n(tp),l=n(cd),c={}.constructor;function f(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==c)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function d(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=f(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var p=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function h(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=p(e[r]," ");else n=p(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function m(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function g(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var u=0;u<a.length;u++){var s=a[u];for(var l in s){var c=s[l];null!=c&&(r&&(r+="\n"),r+=""+m(l+": "+h(c)+";",o))}}else for(var f in a){var d=a[f];null!=d&&(r&&(r+="\n"),r+=""+m(f+": "+h(d)+";",o))}for(var p in t){var g=t[p];null!=g&&"fallbacks"!==p&&(r&&(r+="\n"),r+=""+m(p+": "+h(g)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),m(e+" {"+r,--o)+m("}",o)):r}var v=/([[\].#*$><+~=|^:(),"'`\s])/g,y="undefined"!=typeof CSS&&CSS.escape,b=function(e){return y?y(e):e.replace(v,"\\$1")},x=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var u=o&&a;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),w=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,u=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(s(s(i)),u),i.selectorText="."+b(i.id)),i}u(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=h(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?r({},e,{allowEmpty:!0}):e;return g(this.selectorText,this.style,n)},a(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(x),_={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new w(e,t,n)}},E={indent:1,children:!0},k=/@([\w-]+)/,C=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var i=e.match(k);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new Y(r({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=E),null==e.indent&&(e.indent=E.indent),null==e.children&&(e.children=E.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),S=/@media|@supports\s+/,A={onCreateRule:function(e,t,n){return S.test(e)?new C(e,t,n):null}},O={indent:1,children:!0},M=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(M);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,u=n.generateId;for(var s in this.id=!1===o?this.name:b(u(this,a)),this.rules=new Y(r({},n,{parent:this})),t)this.rules.add(s,t[s],r({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=O),null==e.indent&&(e.indent=O.indent),null==e.children&&(e.children=O.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),P=/@keyframes\s+/,T=/\$([\w-]+)/g,F=function(e,t){return"string"==typeof e?e.replace(T,(function(e,n){return n in t?t[n]:e})):e},N=function(e,t,n){var r=e[t],i=F(r,n);i!==r&&(e[t]=i)},j={onCreateRule:function(e,t,n){return"string"==typeof e&&P.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&N(e,"animation-name",n.keyframes),"animation"in e&&N(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return F(e,r.keyframes);default:return e}}},R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return u(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?r({},e,{allowEmpty:!0}):e;return g(this.key,this.style,n)},t}(x),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new R(e,t,n):null}},L=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=g(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return g(this.at,this.style,e)},e}(),z=/@font-face/,I={onCreateRule:function(e,t,n){return z.test(e)?new L(e,t,n):null}},$=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return g(this.key,this.style,e)},e}(),U={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new $(e,t,n):null}},q=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),W={"@charset":!0,"@import":!0,"@namespace":!0},H=[_,A,j,B,I,U,{onCreateRule:function(e,t,n){return e in W?new q(e,t,n):null}}],V={process:!0},G={force:!0,process:!0},Y=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,u=i.jss,s=i.Renderer,l=i.generateId,c=i.scoped,f=r({classes:this.classes,parent:o,sheet:a,jss:u,Renderer:s,generateId:l,scoped:c,name:e},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(f.selector="."+b(this.classes[p]));var h=d(p,t,f);if(!h)return null;this.register(h);var m=void 0===f.index?this.index.length:f.index;return this.index.splice(m,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof w?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof w?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=V);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t,s=u.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==u.style){for(var l in o.onProcessStyle(u.style,u,a),u.style){var c=u.style[l];c!==s[l]&&u.prop(l,c,G)}for(var f in s){var d=u.style[f],p=s[f];null==d&&d!==p&&u.prop(f,null,G)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),X=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=r({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Y(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),K=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Q=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=l(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},a(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),J=new Q,Z="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ee="2f1acc6c3a606b082e5eef5e54414ffb";null==Z[ee]&&(Z[ee]=0);var te=Z[ee]++,ne=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+te+i+t:o+n.key+"-"+te+(i?"-"+i:"")+"-"+t}},re=function(e){var t;return function(){return t||(t=e()),t}};function ie(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}}function oe(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=h(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0}function ae(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}}function ue(e,t){return e.selectorText=t,e.selectorText===t}var se=re((function(){return document.querySelector("head")}));function le(e){var t=J.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ce=re((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),fe=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(e){return!1}return e.cssRules[n]},de=function(){function e(e){this.getPropertyValue=ie,this.setProperty=oe,this.removeProperty=ae,this.setSelector=ue,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&J.add(e),this.sheet=e;var t,n=this.sheet?this.sheet.options:{},r=n.media,i=n.meta,o=n.element;this.element=o||((t=document.createElement("style")).textContent="\n",t),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),i&&this.element.setAttribute("data-meta",i);var a=ce();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=le(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=fe(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var a=fe(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),pe=0,he=function(){function e(e){this.id=pe++,this.version="10.1.1",this.plugins=new K,this.options={id:{minify:!1},createGenerateId:ne,Renderer:i?de:null,plugins:[]},this.generateId=ne({minify:!1});for(var t=0;t<H.length;t++)this.plugins.use(H[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=r({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===J.index?0:J.index+1);var i=new X(e,r({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),J.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=r({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=d(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var me=function(){function e(){this.length=0,this.sheets=new WeakMap}var t=e.prototype;return t.get=function(e){var t=this.sheets.get(e);return t&&t.sheet},t.add=function(e,t){this.sheets.has(e)||(this.length++,this.sheets.set(e,{sheet:t,refs:0}))},t.manage=function(e){var t=this.sheets.get(e);if(t)return 0===t.refs&&t.sheet.attach(),t.refs++,t.sheet;o(!1,"[JSS] SheetsManager: can't find sheet to manage")},t.unmanage=function(e){var t=this.sheets.get(e);t?t.refs>0&&(t.refs--,0===t.refs&&t.sheet.detach()):o(!1,"SheetsManager: can't find sheet to unmanage")},a(e,[{key:"size",get:function(){return this.length}}]),e}(),ge="undefined"!=typeof CSS&&CSS&&"number"in CSS,ve=function(e){return new he(e)},ye=ve();
/**
	 * A better abstraction over CSS.
	 *
	 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
	 * @website https://github.com/cssinjs/jss
	 * @license MIT
	 */t.hasCSSTOMSupport=ge,t.create=ve,t.default=ye,t.getDynamicStyles=function e(t){var n=null;for(var r in t){var i=t[r],o=typeof i;if("function"===o)n||(n={}),n[r]=i;else if("object"===o&&null!==i&&!Array.isArray(i)){var a=e(i);a&&(n||(n={}),n[r]=a)}}return n},t.toCssValue=h,t.createRule=d,t.SheetsRegistry=Q,t.SheetsManager=me,t.RuleList=Y,t.sheets=J,t.createGenerateId=ne}));t(np);np.hasCSSTOMSupport,np.create,np.getDynamicStyles,np.toCssValue,np.createRule,np.SheetsRegistry,np.SheetsManager,np.RuleList,np.sheets,np.createGenerateId;var rp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});(n=Vd)&&"object"==typeof n&&"default"in n&&n.default;var n,r=Date.now(),i="fnValues"+r,o="fnStyle"+ ++r;t.default=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=np.createRule(e,{},n);return r[o]=t,r},onProcessStyle:function(e,t){if(i in t||o in t)return e;var n={};for(var r in e){var a=e[r];"function"==typeof a&&(delete e[r],n[r]=a)}return t[i]=n,e},onUpdate:function(e,t,n,r){var a=t,u=a[o];u&&(a.style=u(e)||{});var s=a[i];if(s)for(var l in s)a.prop(l,s[l](e),r)}}}}));t(rp);var ip=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}}));t(ip);var op=n((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var r,i,o=(r=ip)&&r.__esModule?r:{default:r};i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var a=(0,o.default)(i);n.default=a}));t(op);var ap=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=op)&&"object"==typeof n&&"default"in n?n.default:n,i=function(e){return e&&e[r]&&e===e[r]()};t.default=function(e){return{onCreateRule:function(t,n,r){if(!i(n))return null;var o=n,a=np.createRule(t,{},r);return o.subscribe((function(t){for(var n in t)a.prop(n,t[n],e)})),a},onProcessRule:function(t){if(!t||"style"===t.type){var n=t,r=n.style,o=function(t){var o=r[t];if(!i(o))return"continue";delete r[t],o.subscribe({next:function(r){n.prop(t,r,e)}})};for(var a in r)o(a)}}}}}));t(ap);var up=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});(n=Vd)&&"object"==typeof n&&"default"in n&&n.default;var n,r=/;\n/,i=function(e){"string"==typeof e.style&&(e.style=function(e){for(var t={},n=e.split(r),i=0;i<n.length;i++){var o=(n[i]||"").trim();if(o){var a=o.indexOf(":");if(-1!==a){var u=o.substr(0,a).trim(),s=o.substr(a+1).trim();t[u]=s}}}return t}(e.style))};t.default=function(){return{onProcessRule:i}}}));t(up);var sp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=sd)&&"object"==typeof n&&"default"in n?n.default:n,i="@global",o=function(){function e(e,t,n){for(var o in this.type="global",this.at=i,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new np.RuleList(r({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),a=function(){function e(e,t,n){this.type="global",this.at=i,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var o=e.substr("@global ".length);this.rule=n.jss.createRule(o,t,r({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),u=/\s*,\s*/g;function s(e,t){for(var n=e.split(u),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}t.default=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===i)return new o(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new a(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,o=n?n[i]:null;if(o){for(var a in o)t.sheet.addRule(a,o[a],r({},t,{selector:s(a,e.selector)}));delete n[i]}}(e),function(e){var t=e.options,n=e.style;for(var o in n)if("@"===o[0]&&o.substr(0,i.length)===i){var a=s(o.substr(i.length),e.selector);t.sheet.addRule(a,n[o],r({},t,{selector:a})),delete n[o]}}(e))}}}}));t(sp);var lp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});(n=Vd)&&"object"==typeof n&&"default"in n&&n.default;var n,r=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},i="extendCurrValue"+Date.now();function o(e,t,n,i){return void 0===i&&(i={}),function(e,t,n,i){if("string"!==typeof e.extend)if(Array.isArray(e.extend))for(var a=0;a<e.extend.length;a++)o(e.extend[a],t,n,i);else for(var u in e.extend)"extend"!==u?r(e.extend[u])?(u in i||(i[u]={}),o(e.extend[u],t,n,i[u])):i[u]=e.extend[u]:o(e.extend.extend,t,n,i);else{if(!n)return;var s=n.getRule(e.extend);if(!s)return;if(s===t)return;var l=s.options.parent;l&&o(l.rules.raw[e.extend],t,n,i)}}(e,t,n,i),function(e,t,n,i){for(var a in e)"extend"!==a&&(r(i[a])&&r(e[a])?o(e[a],t,n,i[a]):r(e[a])?i[a]=o(e[a],t,n):i[a]=e[a])}(e,t,n,i),i}t.default=function(){return{onProcessStyle:function(e,t,n){return"extend"in e?o(e,t,n):e},onChangeValue:function(e,t,n){if("extend"!==t)return e;if(null==e||!1===e){for(var r in n[i])n.prop(r,null);return n[i]=null,null}if("object"==typeof e){for(var o in e)n.prop(o,e[o]);n[i]=e}return null}}}}));t(lp);var cp=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(sd),i=(n(Vd),/\s*,\s*/g),o=/&/g,a=/\$([\w-]+)/g;t.default=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(i),r=e.split(i),a="",u=0;u<n.length;u++)for(var s=n[u],l=0;l<r.length;l++){var c=r[l];a&&(a+=", "),a+=-1!==c.indexOf("&")?c.replace(o,s):s+" "+c}return a}function n(e,t,n){if(n)return r({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=r({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,u){if("style"!==o.type)return i;var s,l,c=o,f=c.options.parent;for(var d in i){var p=-1!==d.indexOf("&"),h="@"===d[0];if(p||h){if(s=n(c,f,s),p){var m=t(d,c.selector);l||(l=e(f,u)),m=m.replace(a,l),f.addRule(m,i[d],r({},s,{selector:m}))}else h&&f.addRule(d,{},s).addRule(c.key,i[d],{selector:c.selector});delete i[d]}}return i}}}}));t(cp);var fp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n;(n=Vd)&&"object"==typeof n&&"default"in n&&n.default;t.default=function(){return{onProcessStyle:function(e,t){return"composes"in e?(function e(t,n){if(!n)return!0;if(Array.isArray(n)){for(var r=0;r<n.length;r++){if(!e(t,n[r]))return!1}return!0}if(n.indexOf(" ")>-1)return e(t,n.split(" "));var i=t.options.parent;if("$"===n[0]){var o=i.getRule(n.substr(1));return!!o&&(o!==t&&(i.classes[t.key]+=" "+i.classes[o.key],!0))}return i.classes[t.key]+=" "+n,!0}(t,e.composes),delete e.composes,e):e}}}}));t(fp);var dp=/[A-Z]/g,pp=/^ms-/,hp={};function mp(e){return"-"+e.toLowerCase()}var gp=function(e){if(hp.hasOwnProperty(e))return hp[e];var t=e.replace(dp,mp);return hp[e]=pp.test(t)?"-"+t:t},vp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=gp)&&"object"==typeof n&&"default"in n?n.default:n;function i(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:r(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(i):t.fallbacks=i(e.fallbacks)),t}t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e}return i(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=r(t);return t===i?e:(n.prop(i,e),null)}}}}));t(vp);var yp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=np.hasCSSTOMSupport&&CSS?CSS.px:"px",r=np.hasCSSTOMSupport&&CSS?CSS.ms:"ms",i=np.hasCSSTOMSupport&&CSS?CSS.percent:"%";function o(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var a=o({"animation-delay":r,"animation-duration":r,"background-position":n,"background-position-x":n,"background-position-y":n,"background-size":n,border:n,"border-bottom":n,"border-bottom-left-radius":n,"border-bottom-right-radius":n,"border-bottom-width":n,"border-left":n,"border-left-width":n,"border-radius":n,"border-right":n,"border-right-width":n,"border-top":n,"border-top-left-radius":n,"border-top-right-radius":n,"border-top-width":n,"border-width":n,margin:n,"margin-bottom":n,"margin-left":n,"margin-right":n,"margin-top":n,padding:n,"padding-bottom":n,"padding-left":n,"padding-right":n,"padding-top":n,"mask-position-x":n,"mask-position-y":n,"mask-size":n,height:n,width:n,"min-height":n,"max-height":n,"min-width":n,"max-width":n,bottom:n,left:n,top:n,right:n,"box-shadow":n,"text-shadow":n,"column-gap":n,"column-rule":n,"column-rule-width":n,"column-width":n,"font-size":n,"font-size-delta":n,"letter-spacing":n,"text-indent":n,"text-stroke":n,"text-stroke-width":n,"word-spacing":n,motion:n,"motion-offset":n,outline:n,"outline-offset":n,"outline-width":n,perspective:n,"perspective-origin-x":i,"perspective-origin-y":i,"transform-origin":i,"transform-origin-x":i,"transform-origin-y":i,"transform-origin-z":i,"transition-delay":r,"transition-duration":r,"vertical-align":n,"flex-basis":n,"shape-margin":n,size:n,grid:n,"grid-gap":n,"grid-row-gap":n,"grid-column-gap":n,"grid-template-rows":n,"grid-template-columns":n,"grid-auto-rows":n,"grid-auto-columns":n,"box-shadow-x":n,"box-shadow-y":n,"box-shadow-blur":n,"box-shadow-spread":n,"font-line-height":n,"text-shadow-x":n,"text-shadow-y":n,"text-shadow-blur":n});function u(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=u(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=u(i,t[i],n);else for(var o in t)t[o]=u(e+"-"+o,t[o],n);else if("number"==typeof t){var s=n[e]||a[e];return s?"function"==typeof s?s(t).toString():""+t+s:t.toString()}return t}t.default=function(e){void 0===e&&(e={});var t=o(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=u(r,e[r],t);return e},onChangeValue:function(e,n){return u(n,e,t)}}}}));t(yp);var bp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={"background-size":!0,"background-position":!0,border:!0,"border-bottom":!0,"border-left":!0,"border-top":!0,"border-right":!0,"border-radius":!0,"border-image":!0,"border-width":!0,"border-style":!0,"border-color":!0,"box-shadow":!0,flex:!0,margin:!0,padding:!0,outline:!0,"transform-origin":!0,transform:!0,transition:!0},r={position:!0,size:!0},i={padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},background:{attachment:null,color:null,image:null,position:null,repeat:null},border:{width:null,style:null,color:null},"border-top":{width:null,style:null,color:null},"border-right":{width:null,style:null,color:null},"border-bottom":{width:null,style:null,color:null},"border-left":{width:null,style:null,color:null},outline:{width:null,style:null,color:null},"list-style":{type:null,position:null,image:null},transition:{property:null,duration:null,"timing-function":null,timingFunction:null,delay:null},animation:{name:null,duration:null,"timing-function":null,timingFunction:null,delay:null,"iteration-count":null,iterationCount:null,direction:null,"fill-mode":null,fillMode:null,"play-state":null,playState:null},"box-shadow":{x:0,y:0,blur:0,spread:0,color:null,inset:null},"text-shadow":{x:0,y:0,blur:null,color:null}},o={border:{radius:"border-radius",image:"border-image",width:"border-width",style:"border-style",color:"border-color"},"border-bottom":{width:"border-bottom-width",style:"border-bottom-style",color:"border-bottom-color"},"border-top":{width:"border-top-width",style:"border-top-style",color:"border-top-color"},"border-left":{width:"border-left-width",style:"border-left-style",color:"border-left-color"},"border-right":{width:"border-right-width",style:"border-right-style",color:"border-right-color"},background:{size:"background-size",image:"background-image"},font:{style:"font-style",variant:"font-variant",weight:"font-weight",stretch:"font-stretch",size:"font-size",family:"font-family",lineHeight:"line-height","line-height":"line-height"},flex:{grow:"flex-grow",basis:"flex-basis",direction:"flex-direction",wrap:"flex-wrap",flow:"flex-flow",shrink:"flex-shrink"},align:{self:"align-self",items:"align-items",content:"align-content"},grid:{"template-columns":"grid-template-columns",templateColumns:"grid-template-columns","template-rows":"grid-template-rows",templateRows:"grid-template-rows","template-areas":"grid-template-areas",templateAreas:"grid-template-areas",template:"grid-template","auto-columns":"grid-auto-columns",autoColumns:"grid-auto-columns","auto-rows":"grid-auto-rows",autoRows:"grid-auto-rows","auto-flow":"grid-auto-flow",autoFlow:"grid-auto-flow",row:"grid-row",column:"grid-column","row-start":"grid-row-start",rowStart:"grid-row-start","row-end":"grid-row-end",rowEnd:"grid-row-end","column-start":"grid-column-start",columnStart:"grid-column-start","column-end":"grid-column-end",columnEnd:"grid-column-end",area:"grid-area",gap:"grid-gap","row-gap":"grid-row-gap",rowGap:"grid-row-gap","column-gap":"grid-column-gap",columnGap:"grid-column-gap"}};function a(e,t,n,r){return null==n[t]?e:0===e.length?[]:Array.isArray(e[0])?a(e[0],t,n,r):"object"==typeof e[0]?function(e,t,n){return e.map((function(e){return u(e,t,n,!1,!0)}))}(e,t,r):[e]}function u(e,t,n,a,u){if(!i[t]&&!o[t])return[];var l=[];if(o[t]&&(e=function(e,t,n,r){for(var i in n){var o=n[i];if(void 0!==e[i]&&(r||!t.prop(o))){var a,u=s((a={},a[o]=e[i],a),t)[o];r?t.style.fallbacks[o]=u:t.style[o]=u}delete e[i]}return e}(e,n,o[t],a)),Object.keys(e).length)for(var c in i[t])e[c]?Array.isArray(e[c])?l.push(null===r[c]?e[c]:e[c].join(" ")):l.push(e[c]):null!=i[t][c]&&l.push(i[t][c]);return!l.length||u?l:[l]}function s(e,t,r){for(var i in e){var o=e[i];if(Array.isArray(o)){if(!Array.isArray(o[0])){if("fallbacks"===i){for(var l=0;l<e.fallbacks.length;l++)e.fallbacks[l]=s(e.fallbacks[l],t,!0);continue}e[i]=a(o,i,n,t),e[i].length||delete e[i]}}else if("object"==typeof o){if("fallbacks"===i){e.fallbacks=s(e.fallbacks,t,!0);continue}e[i]=u(o,i,t,r),e[i].length||delete e[i]}else""===e[i]&&delete e[i]}return e}t.default=function(){return{onProcessStyle:function(e,t){if(!e||"style"!==t.type)return e;if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=s(e[n],t);return e}return s(e,t)}}}}));t(bp);var xp=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r};var wp=function(e){if(Array.isArray(e))return xp(e)};var _p=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var Ep=function(e,t){if(e){if("string"==typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xp(e,t):void 0}};var kp=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var Cp=function(e){return wp(e)||_p(e)||Ep(e)||kp()},Sp=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(Jd),i=n(Cp),o="",a="",u="",s="",l=r&&"ontouchstart"in document.documentElement;if(r){var c={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},f=document.createElement("p").style;for(var d in c)if(d+"Transform"in f){o=d,a=c[d];break}"Webkit"===o&&"msHyphens"in f&&(o="ms",a=c.ms,s="edge"),"Webkit"===o&&"-apple-trailing-word"in f&&(u="apple")}var p={js:o,css:a,vendor:u,browser:s,isTouch:l};var h={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===p.js?"-webkit-"+e:p.css+e)}},m={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===p.js?p.css+"print-"+e:e)}},g=/[-\s]+(.)?/g;function v(e,t){return t?t.toUpperCase():""}function y(e){return e.replace(g,v)}function b(e){return y("-"+e)}var x,w={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===p.js){if(y("mask-image")in t)return e;if(p.js+b("mask-image")in t)return p.css+e}return e}},_={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==p.vendor||p.isTouch?e:p.css+e)}},E={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:p.css+e)}},k={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:p.css+e)}},C={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===p.js||"ms"===p.js&&"edge"!==p.browser?p.css+e:e)}},S={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===p.js||"ms"===p.js||"apple"===p.vendor?p.css+e:e)}},A={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===p.js?"WebkitColumn"+b(e)in t&&p.css+"column-"+e:"Moz"===p.js&&("page"+b(e)in t&&"page-"+e))}},O={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===p.js)return e;var n=e.replace("-inline","");return p.js+b(n)in t&&p.css+n}},M={supportedProperty:function(e,t){return y(e)in t&&e}},D={supportedProperty:function(e,t){var n=b(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:p.js+n in t?p.css+e:"Webkit"!==p.js&&"Webkit"+n in t&&"-webkit-"+e}},P={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===p.js?""+p.css+e:e)}},T={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===p.js?p.css+"scroll-chaining":e)}},F={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},N={supportedProperty:function(e,t){var n=F[e];return!!n&&(p.js+b(n)in t&&p.css+n)}},j={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},R=Object.keys(j),B=function(e){return p.css+e},L=[h,m,w,_,E,k,C,S,A,O,M,D,P,T,N,{supportedProperty:function(e,t,n){var r=n.multiple;if(R.indexOf(e)>-1){var i=j[e];if(!Array.isArray(i))return p.js+b(i)in t&&p.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(p.js+b(i[0])in t))return!1;return i.map(B)}return!1}}],z=L.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),I=L.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,i(t.noPrefill)),e}),[]),$={};if(r){x=document.createElement("p");var U=window.getComputedStyle(document.documentElement,"");for(var q in U)isNaN(q)||($[U[q]]=U[q]);I.forEach((function(e){return delete $[e]}))}function W(e,t){if(void 0===t&&(t={}),!x)return e;if(null!=$[e])return $[e];"transition"!==e&&"transform"!==e||(t[e]=e in x.style);for(var n=0;n<z.length&&($[e]=z[n](e,x.style,t),!$[e]);n++);try{x.style[e]=""}catch(e){return!1}return $[e]}var H,V={},G={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Y=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function X(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?W(t):", "+W(n);return r||(t||n)}r&&(H=document.createElement("p")),t.prefix=p,t.supportedKeyframes=function(e){return"-"===e[1]||"ms"===p.js?e:"@"+p.css+"keyframes"+e.substr(10)},t.supportedProperty=W,t.supportedValue=function(e,t){var n=t;if(!H||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=V[r])return V[r];try{H.style[e]=n}catch(e){return V[r]=!1,!1}if(G[e])n=n.replace(Y,X);else if(""===H.style[e]&&("-ms-flex"===(n=p.css+n)&&(H.style[e]="-ms-flexbox"),H.style[e]=n,""===H.style[e]))return V[r]=!1,!1;return H.style[e]="",V[r]=n,V[r]}}));t(Sp);Sp.prefix,Sp.supportedKeyframes,Sp.supportedProperty,Sp.supportedValue;var Ap=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Sp.supportedProperty(n);o&&o!==n&&(i=!0);var a=!1,u=Sp.supportedValue(o,np.toCssValue(r));u&&u!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=Sp.supportedKeyframes(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Sp.supportedValue(t,np.toCssValue(e))||e}}}}));t(Ap);var Op=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}}}));t(Op);var Mp=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(rp),i=n(ap),o=n(up),a=n(sp),u=n(lp),s=n(cp),l=n(fp),c=n(vp),f=n(yp),d=n(bp),p=n(Ap),h=n(Op);t.default=function(e){return void 0===e&&(e={}),{plugins:[r(),i(e.observable),o(),a(),u(),s(),l(),c(),f(e.defaultUnit),d(),p(),h()]}}}));t(Mp);var Dp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.shallowEqualArrays=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0},t.shallowEqualObjects=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}}));t(Dp);Dp.shallowEqualArrays,Dp.shallowEqualObjects;var Pp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}));t(Pp);var Tp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=Pp)&&"object"==typeof n&&"default"in n?n.default:n,i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=r((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.default=o}));t(Tp);var Fp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=Mp)&&"object"==typeof n&&"default"in n?n.default:n,i=np.create(r()),o=function(e){void 0===e&&(e=i);var t,n=new Map,r=0,o=function(){return(!t||t.rules.index.length>1e4)&&(t=e.createStyleSheet().attach()),t};function a(){var e=arguments,t=JSON.stringify(e),i=n.get(t);if(i)return i.className;var a=[];for(var u in e){var s=e[u];if(Array.isArray(s))for(var l=0;l<s.length;l++)a.push(s[l]);else a.push(s)}for(var c={},f=[],d=0;d<a.length;d++){var p=a[d];if(p){if("string"==typeof p){var h=n.get(p);h&&(h.labels.length&&f.push.apply(f,h.labels),p=h.style)}p.label&&-1===f.indexOf(p.label)&&f.push(p.label),Object.assign(c,p)}}delete c.label;var m=0===f.length?"css":f.join("-"),g=m+"-"+r++;o().addRule(g,c);var v=o().classes[g],y={style:c,labels:f,className:v};return n.set(t,y),n.set(v,y),v}return a.getSheet=o,a},a=o();t.create=o,t.default=a}));t(Fp);Fp.create;var Np=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(sd),i=n(ld),o=n(cd),a=n(H),u=n(Hd),s=(n(Vd),n(np)),l=n(Mp),c=n(Jd),f=n(Xd),d=n(Tp),p=n(Fp);var h=a.createContext({classNamePrefix:"",disableStylesGeneration:!1}),m=Number.MIN_SAFE_INTEGER||-1e9,g=function(){return m++},v=new Map,y=function(e,t){if(e.managers)return e.managers[t]||(e.managers[t]=new np.SheetsManager),e.managers[t];var n=v.get(t);return n||(n=new np.SheetsManager,v.set(t,n)),n},b=function(e){var t=e.sheet,n=e.context,r=e.index,i=e.theme;t&&(y(n,r).manage(i),n.registry&&n.registry.add(t))},x=function(e){e.sheet&&y(e.context,e.index).unmanage(e.theme)},w=np.create(l()),_=new WeakMap,E=function(e){return _.get(e)};var k=function(e){if(!e.context.disableStylesGeneration){var t=y(e.context,e.index),n=t.get(e.theme);if(n)return n;var i=e.context.jss||w,o=function(e){var t=e.styles;return"function"!=typeof t?t:t(e.theme)}(e),a=np.getDynamicStyles(o),u=i.createStyleSheet(o,function(e,t){var n;e.context.id&&null!=e.context.id.minify&&(n=e.context.id.minify);var i=e.context.classNamePrefix||"";e.name&&!n&&(i+=e.name.replace(/\s/g,"-")+"-");var o="";return e.name&&(o=e.name+", "),o+="function"==typeof e.styles?"Themed":"Unthemed",r({},e.sheetOptions,{index:e.index,meta:o,classNamePrefix:i,link:t,generateId:e.sheetOptions.generateId||e.context.generateId})}(e,null!==a));return function(e,t){_.set(e,t)}(u,{dynamicStyles:a,styles:o}),t.add(e.theme,u),u}},C=function(e,t){for(var n in t)e.deleteRule(t[n])},S=function(e,t,n){for(var r in n)t.updateOne(n[r],e)},A=function(e,t){var n=E(e);if(n){var r={};for(var i in n.dynamicStyles)for(var o=e.rules.index.length,a=e.addRule(i,n.dynamicStyles[i]),u=o;u<e.rules.index.length;u++){var s=e.rules.index[u];e.updateOne(s,t),r[a===s?i:s.key]=s}return r}},O=function(e,t){if(!t)return e.classes;var n={},r=E(e);if(!r)return e.classes;for(var i in r.styles)n[i]=e.classes[i],i in t&&(n[i]+=" "+e.classes[t[i].key]);return n},M=function(e){return e.children||null},D={},P=function(e,t){void 0===t&&(t={});var n=t,s=n.index,l=void 0===s?g():s,c=n.theming,f=n.injectTheme,d=o(n,["index","theming","injectTheme"]),p="function"==typeof e,m=c&&c.context.Consumer||Qd.ThemeContext.Consumer;return function(t){void 0===t&&(t=M);var n=function(e){return e.displayName||e.name||"Component"}(t),s=function(e){return p?e.theme:D},c=function(u){function c(e){var t,n,i,o;(t=u.call(this,e)||this).mergeClassesProp=(n=function(e,t){return t?function(e,t){var n=r({},e);for(var i in t)n[i]=i in n?n[i]+" "+t[i]:t[i];return n}(e,t):e},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(Array.isArray(i)&&t.length===i.length){for(var a=!0,u=0;u<t.length;u++)t[u]!==i[u]&&(a=!1);if(a)return o}return i=t,o=n.apply(void 0,t)}),t.state=c.createState(e);var a=e.jssContext.registry,s=t.state.sheet;return s&&a&&a.add(s),t}i(c,u),c.createState=function(t){var r=k({styles:e,theme:s(t),index:l,name:n,context:t.jssContext,sheetOptions:d});if(!r)return{classes:{},dynamicRules:void 0,sheet:void 0};var i=A(r,t);return{sheet:r,dynamicRules:i,classes:O(r,i)}},c.manage=function(e,t){var n=t.sheet;n&&b({sheet:n,index:l,context:e.jssContext,theme:s(e)})},c.unmanage=function(e,t){var n=t.sheet,r=t.dynamicRules;n&&(x({context:e.jssContext,index:l,sheet:n,theme:s(e)}),r&&C(n,r))};var h=c.prototype;return h.componentDidMount=function(){var e=this.props,t=this.state;e&&t&&c.manage(e,t)},h.componentDidUpdate=function(e,t){if(p&&this.props.theme!==e.theme){var n=c.createState(this.props);c.manage(this.props,n),c.unmanage(e,t),this.setState(n)}else this.state.sheet&&this.state.dynamicRules&&S(this.props,this.state.sheet,this.state.dynamicRules)},h.componentWillUnmount=function(){c.unmanage(this.props,this.state)},h.render=function(){var e=this.props,n=e.innerRef,i=(e.jssContext,e.theme),u=e.classes,s=o(e,["innerRef","jssContext","theme","classes"]),l=this.state.classes,c=r({},s,{classes:this.mergeClassesProp(l,u)});return n&&(c.ref=n),f&&(c.theme=i),a.createElement(t,c)},c}(H.Component);c.displayName="WithStyles("+n+")",c.defaultProps=r({},t.defaultProps);var g=a.forwardRef((function(e,t){return a.createElement(h.Consumer,null,(function(n){return p||f?a.createElement(m,null,(function(i){return a.createElement(c,r({innerRef:t,theme:i},e,{jssContext:n}))})):a.createElement(c,r({innerRef:t},e,{jssContext:n,theme:D}))}))}));return g.displayName="JssContextSubscriber("+n+")",g.InnerComponent=t,u(g,t)}},T=c?a.useLayoutEffect:a.useEffect,F={},N=function(e,t){void 0===t&&(t={});var n=t,r=n.index,i=void 0===r?g():r,u=n.theming,s=n.name,l=o(n,["index","theming","name"]),c=u&&u.context||Qd.ThemeContext,f="function"==typeof e?function(){return a.useContext(c)||F}:function(){return F};return function(t){var n=a.useRef(!0),r=a.useContext(h),o=f(),u=a.useMemo((function(){var n=k({context:r,styles:e,name:s,theme:o,index:i,sheetOptions:l}),a=n?A(n,t):null;return n&&b({index:i,context:r,sheet:n,theme:o}),[n,a]}),[r,o]),c=u[0],d=u[1];T((function(){c&&d&&!n.current&&S(t,c,d)}),[t]),T((function(){return function(){c&&x({index:i,context:r,sheet:c,theme:o}),c&&d&&C(c,d)}}),[c]);var p=c&&d?O(c,d):{};return a.useDebugValue(p),a.useDebugValue(o===F?"No theme":o),a.useEffect((function(){n.current=!1})),p}},j={},R=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).managers={},t.createContext=function(e,n){void 0===n&&(n=j);var i=t.props,o=i.registry,a=i.classNamePrefix,u=i.jss,s=i.generateId,l=i.disableStylesGeneration,c=i.media,f=i.id,d=r({},e);return o&&(d.registry=o,o!==t.registry&&(t.managers={},t.registry=o)),d.managers=t.managers,void 0!==f&&(d.id=f),void 0!==s?d.generateId=s:d.generateId&&n&&d.id===n.id||(d.generateId=np.createGenerateId(d.id)),a&&(d.classNamePrefix+=a),void 0!==c&&(d.media=c),u&&(d.jss=u),void 0!==l&&(d.disableStylesGeneration=l),n&&Dp.shallowEqualObjects(n,d)?n:d},t.prevContext=void 0,t.generateId=void 0,t.registry=void 0,t.renderProvider=function(e){var n=t.props.children,r=t.createContext(e,t.prevContext);return t.prevContext=r,a.createElement(h.Provider,{value:r},n)},t}return i(t,e),t.prototype.render=function(){return a.createElement(h.Consumer,null,this.renderProvider)},t}(H.Component);R.propTypes={registry:f.instanceOf(np.SheetsRegistry),jss:f.instanceOf(s.constructor),generateId:f.func,classNamePrefix:f.string,disableStylesGeneration:f.bool,children:f.node.isRequired,media:f.string,id:f.shape({minify:f.bool})};var B=function(e){var t,n=[],r=[];for(var i in e){var o=e[i];o&&("function"==typeof o?n.push(o):(t||(t={}),Object.assign(t,o),t.label&&-1===r.indexOf(t.label)&&r.push(t.label)))}var a={},u=0===r.length?"sc":r.join("-");return t&&("label"in t&&delete t.label,a[u]=t),1===n.length&&(a.scd=n[0]),n.length>1&&(a.scd=function(e){for(var t={},r=0;r<n.length;r++){var i=n[r](e);i&&Object.assign(t,i)}return t}),{styles:a,label:u}},L=Symbol("react-jss-styled"),z=function(e,t,n){var r={};for(var i in e)t?!0===t(i)&&(r[i]=e[i]):n?d(i)&&(r[i]=e[i]):r[i]=e[i];return r},I=function(e){return void 0===e&&(e=p),function(t,n){var r=arguments;if(n&&n.css){var i=e(n.css),o=Object.assign({},n);o.className=n.className?n.className+" "+i:i,delete o.css,r[1]=o}return a.createElement.apply(void 0,r)}},$=I();t.ThemeProvider=Qd.ThemeProvider,t.withTheme=Qd.withTheme,t.createTheming=Qd.createTheming,t.useTheme=Qd.useTheme,t.SheetsRegistry=np.SheetsRegistry,t.createGenerateId=np.createGenerateId,t.withStyles=P,t.default=P,t.createUseStyles=N,t.JssProvider=R,t.jss=w,t.JssContext=h,t.styled=function(e,t){void 0===t&&(t={});var n=t.theming,r="string"==typeof e,i=n?n.context:Qd.ThemeContext,o=function(e,t){var n=t.shouldForwardProp,r=e[L],i=n||r;return n&&r&&(i=function(e){return r(e)&&n(e)}),i}(e,t);return function(){var n=B(arguments),u=n.styles,s=n.label,l=N(u,t),c=function(t){var n=t.as,u=t.className,c=a.useContext(i),f=Object.assign({theme:c},t),d=l(f),p=z(t,o,r),h=((d[s]||d.sc||"")+" "+(d.scd||"")).trim();return p.className=u?u+" "+h:h,!r&&o&&(e[L]=o),r&&n?a.createElement(n,p):a.createElement(e,p)};return c}},t.jsx=$,t.createJsx=I}));t(Np);var jp=Np.ThemeProvider,Rp=(Np.withTheme,Np.createTheming,Np.useTheme,Np.SheetsRegistry,Np.createGenerateId,Np.withStyles,Np.createUseStyles),Bp=Np.JssProvider,Lp=(Np.jss,Np.JssContext,Np.styled,Np.jsx,Np.createJsx,n((function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}})));t(Lp);var zp=n((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t})),Ip=n((function(e){function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==zp(e)&&"function"!=typeof e)return{default:e};var n=t();if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}}));t(Ip);var $p=n((function(e,t){t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var n=Lp(H).default.createContext(null);t.ReactReduxContext=n;var r=n;t.default=r}));t($p);$p.ReactReduxContext;var Up=n((function(e,t){t.__esModule=!0,t.getBatch=t.setBatch=void 0;var n=function(e){e()};t.setBatch=function(e){return n=e};t.getBatch=function(){return n}}));t(Up);Up.getBatch,Up.setBatch;var qp=n((function(e,t){t.__esModule=!0,t.default=void 0;var n={notify:function(){}};var r=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=n,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,Up.getBatch)(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=n)},e}();t.default=r}));t(qp);var Wp=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Ip(H),r=(Lp(Xd),Lp(qp));var i=function(e){var t=e.store,i=e.context,o=e.children,a=(0,n.useMemo)((function(){var e=new r.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=(0,n.useMemo)((function(){return t.getState()}),[t]);(0,n.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,u]);var s=i||$p.ReactReduxContext;return n.default.createElement(s.Provider,{value:a},o)};t.default=i}));t(Wp);var Hp=n((function(e,t){t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?H.useLayoutEffect:H.useEffect;t.useIsomorphicLayoutEffect=n}));t(Hp);Hp.useIsomorphicLayoutEffect;var Vp=n((function(e,t){t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var h=t,m=h.getDisplayName,g=void 0===m?function(e){return"ConnectAdvanced("+e+")"}:m,v=h.methodName,y=void 0===v?"connectAdvanced":v,b=h.renderCountProp,x=void 0===b?void 0:b,w=h.shouldHandleStateChanges,_=void 0===w||w,E=h.storeKey,k=void 0===E?"store":E,C=(h.withRef,h.forwardRef),S=void 0!==C&&C,A=h.context,O=void 0===A?$p.ReactReduxContext:A,M=(0,r.default)(h,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),D=O;return function(t){var h=t.displayName||t.name||"Component",m=g(h),v=(0,n.default)({},M,{getDisplayName:g,methodName:y,renderCountProp:x,shouldHandleStateChanges:_,storeKey:k,displayName:m,wrappedComponentName:h,WrappedComponent:t}),b=M.pure;var w=b?o.useMemo:function(e){return e()};function E(i){var h=(0,o.useMemo)((function(){var e=i.forwardedRef,t=(0,r.default)(i,["forwardedRef"]);return[i.context,e,t]}),[i]),m=h[0],g=h[1],y=h[2],b=(0,o.useMemo)((function(){return m&&m.Consumer&&(0,Fd.isContextConsumer)(o.default.createElement(m.Consumer,null))?m:D}),[m,D]),x=(0,o.useContext)(b),E=Boolean(i.store)&&Boolean(i.store.getState)&&Boolean(i.store.dispatch),k=(Boolean(x)&&Boolean(x.store),E?i.store:x.store),C=(0,o.useMemo)((function(){return function(t){return e(t.dispatch,v)}(k)}),[k]),S=(0,o.useMemo)((function(){if(!_)return s;var e=new a.default(k,E?null:x.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[k,E,x]),A=S[0],O=S[1],M=(0,o.useMemo)((function(){return E?x:(0,n.default)({},x,{subscription:A})}),[E,x,A]),P=(0,o.useReducer)(l,u,p),T=P[0][0],F=P[1];if(T&&T.error)throw T.error;var N=(0,o.useRef)(),j=(0,o.useRef)(y),R=(0,o.useRef)(),B=(0,o.useRef)(!1),L=w((function(){return R.current&&y===j.current?R.current:C(k.getState(),y)}),[k,T,y]);c(f,[j,N,B,y,L,R,O]),c(d,[_,k,A,C,j,N,B,R,O,F],[k,A,C]);var z=(0,o.useMemo)((function(){return o.default.createElement(t,(0,n.default)({},L,{ref:g}))}),[g,t,L]);return(0,o.useMemo)((function(){return _?o.default.createElement(b.Provider,{value:M},z):z}),[b,z,M])}var C=b?o.default.memo(E):E;if(C.WrappedComponent=t,C.displayName=m,S){var A=o.default.forwardRef((function(e,t){return o.default.createElement(C,(0,n.default)({},e,{forwardedRef:t}))}));return A.displayName=m,A.WrappedComponent=t,(0,i.default)(A,t)}return(0,i.default)(C,t)}};var n=Lp(sd),r=Lp(cd),i=Lp(Hd),o=Ip(H),a=Lp(qp),u=[],s=[null,null];function l(e,t){var n=e[1];return[t.payload,n+1]}function c(e,t,n){(0,Hp.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function f(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function d(e,t,n,r,i,o,a,u,s,l){if(e){var c=!1,f=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||s():(o.current=e,u.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var p=function(){return[null,0]}}));t(Vp);var Gp=n((function(e,t){function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}}));t(Gp);var Yp=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=op)&&"object"==typeof n&&"default"in n?n.default:n,i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=o,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return f({},n,{dispatch:r=d.apply(void 0,o)(n.dispatch)})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=s(i,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var l=s[o],c=n[l],f=e[l],d=c(f,t);if(void 0===d){var p=u(l,t);throw new Error(p)}i[l]=d,r=r||d!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}},t.compose=d,t.createStore=function e(t,n,i){var u;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var s=t,l=n,c=[],f=c,d=!1;function p(){f===c&&(f=c.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1),c=null}}}function g(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=s(l,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,g({type:o.REPLACE})}function y(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r]=function(){return this},e}return g({type:o.INIT}),(u={dispatch:g,subscribe:m,getState:h,replaceReducer:v})[r]=y,u}}));t(Yp);Yp.__DO_NOT_USE__ActionTypes;var Xp=Yp.applyMiddleware,Kp=(Yp.bindActionCreators,Yp.combineReducers),Qp=Yp.compose,Jp=Yp.createStore,Zp=n((function(e,t){t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}}));t(Zp);var eh=n((function(e,t){t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}}));t(eh);var th=n((function(e,t){t.__esModule=!0,t.default=function(e,t,i){(0,n.default)(e)||(0,r.default)(i+"() in "+t+" must return a plain object. Instead received "+e+".")};var n=Lp(Zp),r=Lp(eh)}));t(th);var nh=n((function(e,t){t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}},t.getDependsOnOwnProps=n,t.wrapMapToPropsFunc=function(e,t){return function(t,r){r.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,r){i.mapToProps=e,i.dependsOnOwnProps=n(e);var o=i(t,r);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=n(o),o=i(t,r)),o},i}};Lp(th);function n(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}}));t(nh);nh.wrapMapToPropsConstant,nh.getDependsOnOwnProps,nh.wrapMapToPropsFunc;var rh=n((function(e,t){function n(e){return"function"==typeof e?(0,nh.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function r(e){return e?void 0:(0,nh.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function i(e){return e&&"object"==typeof e?(0,nh.wrapMapToPropsConstant)((function(t){return(0,Yp.bindActionCreators)(e,t)})):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=n,t.whenMapDispatchToPropsIsMissing=r,t.whenMapDispatchToPropsIsObject=i,t.default=void 0;var o=[n,r,i];t.default=o}));t(rh);rh.whenMapDispatchToPropsIsFunction,rh.whenMapDispatchToPropsIsMissing,rh.whenMapDispatchToPropsIsObject;var ih=n((function(e,t){function n(e){return"function"==typeof e?(0,nh.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function r(e){return e?void 0:(0,nh.wrapMapToPropsConstant)((function(){return{}}))}t.__esModule=!0,t.whenMapStateToPropsIsFunction=n,t.whenMapStateToPropsIsMissing=r,t.default=void 0;var i=[n,r];t.default=i}));t(ih);ih.whenMapStateToPropsIsFunction,ih.whenMapStateToPropsIsMissing;var oh=n((function(e,t){t.__esModule=!0,t.defaultMergeProps=r,t.wrapMergePropsFunc=i,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=a,t.default=void 0;var n=Lp(sd);Lp(th);function r(e,t,r){return(0,n.default)({},r,{},e,{},t)}function i(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,u){var s=e(t,n,u);return a?i&&o(s,r)||(r=s):(a=!0,r=s),r}}}function o(e){return"function"==typeof e?i(e):void 0}function a(e){return e?void 0:function(){return r}}var u=[o,a];t.default=u}));t(oh);oh.defaultMergeProps,oh.wrapMergePropsFunc,oh.whenMergePropsIsFunction,oh.whenMergePropsIsOmitted;var ah=n((function(e,t){t.__esModule=!0,t.default=function(e,t,n,i){r(e,"mapStateToProps",i),r(t,"mapDispatchToProps",i),r(n,"mergeProps",i)};var n=Lp(eh);function r(e,t,r){if(!e)throw new Error("Unexpected value for "+t+" in "+r+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,n.default)("The selector for "+t+" of "+r+" did not specify a value for dependsOnOwnProps.")}}));t(ah);var uh=n((function(e,t){t.__esModule=!0,t.impureFinalPropsSelectorFactory=r,t.pureFinalPropsSelectorFactory=i,t.default=function(e,t){var o=t.initMapStateToProps,a=t.initMapDispatchToProps,u=t.initMergeProps,s=(0,n.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=o(e,s),c=a(e,s),f=u(e,s);return(s.pure?i:r)(l,c,f,e,s)};var n=Lp(cd);Lp(ah);function r(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function i(e,t,n,r,i){var o,a,u,s,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1;function h(i,p){var h,m,g=!f(p,a),v=!c(i,o);return o=i,a=p,g&&v?(u=e(o,a),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):g?(e.dependsOnOwnProps&&(u=e(o,a)),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):v?(h=e(o,a),m=!d(h,u),u=h,m&&(l=n(u,s,a)),l):l}return function(i,c){return p?h(i,c):(u=e(o=i,a=c),s=t(r,a),l=n(u,s,a),p=!0,l)}}}));t(uh);uh.impureFinalPropsSelectorFactory,uh.pureFinalPropsSelectorFactory;var sh=n((function(e,t){t.__esModule=!0,t.createConnect=d,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(Vp),o=Lp(Gp),a=Lp(rh),u=Lp(ih),s=Lp(oh),l=Lp(uh);function c(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function f(e,t){return e===t}function d(e){var t=void 0===e?{}:e,d=t.connectHOC,p=void 0===d?i.default:d,h=t.mapStateToPropsFactories,m=void 0===h?u.default:h,g=t.mapDispatchToPropsFactories,v=void 0===g?a.default:g,y=t.mergePropsFactories,b=void 0===y?s.default:y,x=t.selectorFactory,w=void 0===x?l.default:x;return function(e,t,i,a){void 0===a&&(a={});var u=a,s=u.pure,l=void 0===s||s,d=u.areStatesEqual,h=void 0===d?f:d,g=u.areOwnPropsEqual,y=void 0===g?o.default:g,x=u.areStatePropsEqual,_=void 0===x?o.default:x,E=u.areMergedPropsEqual,k=void 0===E?o.default:E,C=(0,r.default)(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=c(e,m,"mapStateToProps"),A=c(t,v,"mapDispatchToProps"),O=c(i,b,"mergeProps");return p(w,(0,n.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:A,initMergeProps:O,pure:l,areStatesEqual:h,areOwnPropsEqual:y,areStatePropsEqual:_,areMergedPropsEqual:k},C))}}var p=d();t.default=p}));t(sh);sh.createConnect;var lh=n((function(e,t){t.__esModule=!0,t.useReduxContext=function(){return(0,H.useContext)($p.ReactReduxContext)}}));t(lh);lh.useReduxContext;var ch=n((function(e,t){function n(e){void 0===e&&(e=$p.ReactReduxContext);var t=e===$p.ReactReduxContext?lh.useReduxContext:function(){return(0,H.useContext)(e)};return function(){return t().store}}t.__esModule=!0,t.createStoreHook=n,t.useStore=void 0;var r=n();t.useStore=r}));t(ch);ch.createStoreHook,ch.useStore;var fh=n((function(e,t){function n(e){void 0===e&&(e=$p.ReactReduxContext);var t=e===$p.ReactReduxContext?ch.useStore:(0,ch.createStoreHook)(e);return function(){return t().dispatch}}t.__esModule=!0,t.createDispatchHook=n,t.useDispatch=void 0;var r=n();t.useDispatch=r}));t(fh);fh.createDispatchHook,fh.useDispatch;var dh=n((function(e,t){t.__esModule=!0,t.createSelectorHook=i,t.useSelector=void 0;var n=Lp(qp),r=function(e,t){return e===t};function i(e){void 0===e&&(e=$p.ReactReduxContext);var t=e===$p.ReactReduxContext?lh.useReduxContext:function(){return(0,H.useContext)(e)};return function(e,i){void 0===i&&(i=r);var o=t();return function(e,t,r,i){var o,a=(0,H.useReducer)((function(e){return e+1}),0)[1],u=(0,H.useMemo)((function(){return new n.default(r,i)}),[r,i]),s=(0,H.useRef)(),l=(0,H.useRef)(),c=(0,H.useRef)();try{o=e!==l.current||s.current?e(r.getState()):c.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return(0,Hp.useIsomorphicLayoutEffect)((function(){l.current=e,c.current=o,s.current=void 0})),(0,Hp.useIsomorphicLayoutEffect)((function(){function e(){try{var e=l.current(r.getState());if(t(e,c.current))return;c.current=e}catch(e){s.current=e}a({})}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[r,u]),o}(e,i,o.store,o.subscription)}}var o=i();t.useSelector=o}));t(dh);dh.createSelectorHook,dh.useSelector;var ph=n((function(e,t){t.__esModule=!0,t.unstable_batchedUpdates=void 0,t.unstable_batchedUpdates=zl.unstable_batchedUpdates}));t(ph);ph.unstable_batchedUpdates;var hh=n((function(e,t){t.__esModule=!0;var n=Lp(Wp);t.Provider=n.default;var r=Lp(Vp);t.connectAdvanced=r.default,t.ReactReduxContext=$p.ReactReduxContext;var i=Lp(sh);t.connect=i.default,t.useDispatch=fh.useDispatch,t.createDispatchHook=fh.createDispatchHook,t.useSelector=dh.useSelector,t.createSelectorHook=dh.createSelectorHook,t.useStore=ch.useStore,t.createStoreHook=ch.createStoreHook,t.batch=ph.unstable_batchedUpdates;var o=Lp(Gp);t.shallowEqual=o.default,(0,Up.setBatch)(ph.unstable_batchedUpdates)}));t(hh);var mh=hh.Provider,gh=(hh.connectAdvanced,hh.ReactReduxContext,hh.connect,hh.useDispatch),vh=(hh.createDispatchHook,hh.useSelector),yh=(hh.createSelectorHook,hh.useStore,hh.createStoreHook,hh.batch,hh.shallowEqual,function(e){return e(this.value)}),bh=function(e){return function(t){return t instanceof e&&rf(this.value,t.value)}},xh=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.super_=t.prototype},wh=function(e){return e},_h=function(){return this},Eh=function(e){return{isNext:!0,value:e}},kh=function(e){return{isNext:!1,value:e}},Ch=function(e){return function(t){return this.chain((function(n){return t.chain((function(t){return e.of(n(t))}))}))}},Sh=function(e){return function(t){return this.chain((function(n){return e.of(t(n))}))}};function Ah(e,t){switch(arguments.length){case 0:throw new TypeError("no arguments to Either");case 1:return function(t){return null==t?Ah.Left(e):Ah.Right(t)};default:return null==t?Ah.Left(e):Ah.Right(t)}}function Oh(e){this.value=e}function Mh(e){this.value=e}function Dh(e,t){return function(n){try{return t(n)}catch(t){e(t)}}}function Ph(e){if(!(this instanceof Ph))return new Ph(e);this._fork=e}function Th(e){if(!(this instanceof Th))return new Th(e);this.value=e}Ah.prototype["@@type"]="ramda-fantasy/Either",Ah.prototype.map=_h,Ah.of=Ah.prototype.of=function(e){return Ah.Right(e)},Ah.prototype.chain=_h,Ah.either=Bc((function(e,t,n){if(n instanceof Mh)return e(n.value);if(n instanceof Oh)return t(n.value);throw new TypeError("invalid type given to Either.either")})),Ah.isLeft=function(e){return e.isLeft},Ah.isRight=function(e){return e.isRight},xh(Oh,Ah),Oh.prototype.isRight=!0,Oh.prototype.isLeft=!1,Oh.prototype.map=function(e){return new Oh(e(this.value))},Oh.prototype.ap=function(e){return e.map(this.value)},Oh.prototype.chain=function(e){return e(this.value)},Ah.chainRec=Ah.prototype.chainRec=function(e,t){for(var n,r=Eh(t);r.isNext;){if(n=e(Eh,kh,r.value),Ah.isLeft(n))return n;r=n.value}return Ah.Right(r.value)},Oh.prototype.bimap=function(e,t){return new Oh(t(this.value))},Oh.prototype.extend=function(e){return new Oh(e(this))},Oh.prototype.toString=function(){return"Either.Right("+vf(this.value)+")"},Oh.prototype.equals=bh(Oh),Ah.Right=function(e){return new Oh(e)},xh(Mh,Ah),Mh.prototype.isLeft=!0,Mh.prototype.isRight=!1,Mh.prototype.ap=_h,Mh.prototype.bimap=function(e){return new Mh(e(this.value))},Mh.prototype.extend=_h,Mh.prototype.toString=function(){return"Either.Left("+vf(this.value)+")"},Mh.prototype.equals=bh(Mh),Ah.Left=function(e){return new Mh(e)},Ah.prototype.either=function(e,t){return this.isLeft?e(this.value):t(this.value)},Ph.prototype["@@type"]="ramda-fantasy/Future",Ph.prototype.fork=function(e,t){this._fork(e,Dh(e,t))},Ph.prototype.map=function(e){return this.chain((function(t){return Ph.of(e(t))}))},Ph.prototype.ap=function(e){var t=this;return new Ph((function(n,r){var i,o,a=Kf(n),u=Dh(a,(function(){if(null!=i&&null!=o)return r(i(o))}));t._fork(a,(function(e){i=e,u()})),e._fork(a,(function(e){o=e,u()}))}))},Ph.of=function(e){return new Ph((function(t,n){return n(e)}))},Ph.prototype.of=Ph.of,Ph.prototype.chain=function(e){return new Ph(function(t,n){return this._fork((function(e){return t(e)}),Dh(t,(function(r){return e(r)._fork(t,n)})))}.bind(this))},Ph.chainRec=Ph.prototype.chainRec=function(e,t){return Ph((function(n,r){return function t(i){for(var o=null,a=Eh(i),u=function(e){null===o?(o=!0,a=e):(e.isNext?t:r)(e.value)};a.isNext;)if(o=null,e(Eh,kh,a.value).fork(n,u),!0!==o)return void(o=!1);r(a.value)}(t)}))},Ph.prototype.chainReject=function(e){return new Ph(function(t,n){return this._fork(Dh(t,(function(r){return e(r)._fork(t,n)})),(function(e){return n(e)}))}.bind(this))},Ph.prototype.bimap=function(e,t){var n=this;return new Ph((function(r,i){n._fork(Dh(r,(function(t){r(e(t))})),Dh(r,(function(e){i(t(e))})))}))},Ph.reject=function(e){return new Ph((function(t){t(e)}))},Ph.prototype.toString=function(){return"Future("+vf(this._fork)+")"},Ph.cache=function(e){var t,n="IDLE",r=[],i=Bc((function(e,i,o){n=e,t=o,i(o),Tf((function(e){e[n](t)}),r)}));return new Ph((function(o,a){switch(n){case"IDLE":!function(t,r){n="PENDING",e._fork(i("REJECTED",t),i("RESOLVED",r))}(o,a);break;case"PENDING":!function(e,t){r.push({REJECTED:e,RESOLVED:t})}(o,a);break;case"REJECTED":o(t);break;case"RESOLVED":a(t)}}))},Th.prototype["@@type"]="ramda-fantasy/Identity",Th.of=function(e){return new Th(e)},Th.prototype.of=Th.of,Th.prototype.map=function(e){return new Th(e(this.value))},Th.prototype.ap=function(e){return e.map(this.value)},Th.prototype.chain=function(e){return e(this.value)},Th.chainRec=Th.prototype.chainRec=function(e,t){for(var n=Eh(t);n.isNext;)n=e(Eh,kh,n.value).get();return Th(n.value)},Th.prototype.get=function(){return this.value},Th.prototype.equals=bh(Th),Th.prototype.toString=function(){return"Identity("+vf(this.value)+")"};var Fh=Th;Yl(3,(function(e,t,n){return t.map(e).ap(n)})),Yl(4,(function(e,t,n,r){return t.map(e).ap(n).ap(r)}));function Nh(e){return null==e?Bh:Nh.Just(e)}function jh(e){this.value=e}function Rh(){}Nh.prototype["@@type"]="ramda-fantasy/Maybe",xh(jh,Nh),jh.prototype.isJust=!0,jh.prototype.isNothing=!1,xh(Rh,Nh),Rh.prototype.isNothing=!0,Rh.prototype.isJust=!1;var Bh=new Rh;function Lh(e){if(!(this instanceof Lh))return new Lh(e);this.run=e}function zh(e,t){switch(arguments.length){case 0:throw new TypeError("no arguments to Tuple");case 1:return function(t){return new Ih(e,t)};default:return new Ih(e,t)}}function Ih(e,t){this[0]=e,this[1]=t,this.length=2}function $h(e){e.forEach((function(e){if("function"!=typeof e.concat)throw new TypeError(vf(e)+" must be a semigroup to perform this operation")}))}Nh.Nothing=function(){return Bh},Nh.Just=function(e){return new jh(e)},Nh.of=Nh.Just,Nh.prototype.of=Nh.Just,Nh.isJust=function(e){return e.isJust},Nh.isNothing=function(e){return e.isNothing},Nh.maybe=Bc((function(e,t,n){return n.reduce((function(e,n){return t(n)}),e)})),Nh.toMaybe=Nh,jh.prototype.concat=function(e){return e.isNothing?this:this.of(this.value.concat(e.value))},Rh.prototype.concat=wh,jh.prototype.map=function(e){return this.of(e(this.value))},Rh.prototype.map=_h,jh.prototype.ap=function(e){return e.map(this.value)},Rh.prototype.ap=_h,jh.prototype.chain=yh,Rh.prototype.chain=_h,Nh.chainRec=Nh.prototype.chainRec=function(e,t){for(var n,r=Eh(t);r.isNext;){if(n=e(Eh,kh,r.value),Nh.isNothing(n))return n;r=n.value}return Nh.Just(r.value)},jh.prototype.datatype=jh,Rh.prototype.datatype=Rh,jh.prototype.equals=bh(jh),Rh.prototype.equals=function(e){return e===Bh},Nh.prototype.isNothing=function(){return this===Bh},Nh.prototype.isJust=function(){return this instanceof jh},jh.prototype.getOrElse=function(){return this.value},Rh.prototype.getOrElse=function(e){return e},jh.prototype.reduce=function(e,t){return e(t,this.value)},Rh.prototype.reduce=function(e,t){return t},jh.prototype.toString=function(){return"Maybe.Just("+vf(this.value)+")"},Rh.prototype.toString=function(){return"Maybe.Nothing()"},Lh.run=function(e){return e.run.apply(e,[].slice.call(arguments,1))},Lh.prototype["@@type"]="ramda-fantasy/Reader",Lh.prototype.chain=function(e){var t=this;return new Lh((function(n){return e(t.run(n)).run(n)}))},Lh.prototype.ap=function(e){return this.chain((function(t){return e.map(t)}))},Lh.prototype.map=function(e){return this.chain((function(t){return Lh.of(e(t))}))},Lh.prototype.of=function(e){return new Lh((function(){return e}))},Lh.of=Lh.prototype.of,Lh.ask=Lh(Xc),Lh.prototype.toString=function(){return"Reader("+vf(this.run)+")"},Lh.T=function(e){var t=function e(t){if(!(this instanceof e))return new e(t);this.run=t};return t.lift=Gc(t,Dc),t.ask=t(e.of),t.prototype.of=t.of=function(n){return t((function(){return e.of(n)}))},t.prototype.chain=function(e){var n=this;return t((function(t){return n.run(t).chain((function(n){return e(n).run(t)}))}))},t.prototype.map=function(e){return this.chain((function(n){return t.of(e(n))}))},t.prototype.ap=function(e){var n=this;return t((function(t){return n.run(t).ap(e.run(t))}))},t.prototype.toString=function(){return"ReaderT["+e.name+"]("+vf(this.run)+")"},t},zh.fst=function(e){return e[0]},zh.snd=function(e){return e[1]},Ih.prototype["@@type"]="ramda-fantasy/Tuple",Ih.prototype.concat=function(e){return $h([this[0],this[1]]),zh(this[0].concat(e[0]),this[1].concat(e[1]))},Ih.prototype.map=function(e){return zh(this[0],e(this[1]))},Ih.prototype.ap=function(e){return $h([this[0]]),zh(this[0].concat(e[0]),this[1](e[1]))},Ih.prototype.equals=function(e){return e instanceof Ih&&rf(this[0],e[0])&&rf(this[1],e[1])},Ih.prototype.toString=function(){return"Tuple("+vf(this[0])+", "+vf(this[1])+")"};var Uh=zh;function qh(e){function t(e){if(!(this instanceof t))return new t(e);this._run=e}return t.prototype.run=function(e){return this._run(e)},t.prototype.eval=function(e){return Uh.fst(this.run(e))},t.prototype.exec=function(e){return Uh.snd(this.run(e))},t.prototype.chain=function(e){var n=this;return t((function(t){return n._run(t).chain((function(t){return e(Uh.fst(t))._run(Uh.snd(t))}))}))},t.of=t.prototype.of=function(n){return t((function(t){return e.of(Uh(n,t))}))},t.prototype.ap=Ch(t),t.prototype.map=Sh(t),t.tailRec=Bc((function(n,r){return t((function(t){return e.tailRec((function(t){return n(Uh.fst(t))._run(Uh.snd(t)).chain((function(t){return e.of(Uh.fst(t).bimap((function(e){return Uh(e,Uh.snd(t))}),(function(e){return Uh(e,Uh.snd(t))})))}))}),Uh(r,t))}))})),t.lift=function(n){return t((function(t){return n.chain((function(n){return e.of(Uh(n,t))}))}))},t.get=t((function(t){return e.of(Uh(t,t))})),t.gets=function(n){return t((function(t){return e.of(Uh(n(t),t))}))},t.put=function(n){return t((function(t){return e.of(Uh(void 0,n))}))},t.modify=function(n){return t((function(t){return e.of(Uh(void 0,n(t)))}))},t}var Wh=qh(Fh);Wh.T=qh,Wh.prototype.run=function(e){return this._run(e).value};const Hh=Bc((e,t)=>t.fold(e)),Vh=e=>Array.isArray(e)?e:Array.of(e),Gh=Xl(Ec);Bc((e,t,n)=>im(r=>Gc(Hh(r),am(e).contramap,Dc,Uf(t),Lf("children"),ad(Nf("fold"),Hh(r)))(n)));let Yh;if("undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__){Yh=window.__REDUX_DEVTOOLS_EXTENSION__.connect({name:"neuralmagic-recall"})}const Xh=Bc((e,t)=>H.createElement(mh,{store:e},t)),Kh=Bc((e,t,n)=>{const r=vh(t);return n.contramap(Gf({[e]:r}))}),Qh=e=>{const t=gh();return e.contramap(Gf({dispatch:t}))},Jh=(e,t,n)=>r=>{const[i,o]=X(n);return r.contramap(Uf($l,{[e]:i,[t]:o}))},Zh=Bc((e,t)=>{const n=Y(null);return t.contramap(Gf({[e]:n}))}),em=Bc((e,t)=>t.contramap(t=>Vf(t,{classes:Rp(e)(t)}))),tm=(Bc((e,t)=>im(n=>Gc(Hh(n),om(Uf({children:t.fold(n),theme:e})))(am(jp)))),Bc((e,t)=>im(n=>Gc(Hh(n),om(Uf({children:t.fold(n),...e})))(am(Bp))))),nm=Bc((e,t,n)=>im(r=>e(r)?t.fold(r):n.fold(r))),rm=({props:e,g:t})=>Gc(Gh((e,t)=>Uf(e,{key:t})),mf(Fc),t)(e),im=Gc(e=>({g:e,map:t=>im(n=>t(e(n),n)),contramap:t=>im(n=>e(t(n))),concat:t=>im(n=>e(n).concat(t.g(n))),fold:t=>H.createElement(rm,{props:t,g:e})}),e=>Gc(Vh,e)),om=Bc((e,t)=>t.contramap(e));im.of=Gc(im,Dc);const am=Gc(im,e=>t=>H.createElement(e,t)),um=e=>im(t=>H.createElement(e,Mf({className:od(Of(If(String),Fc),e=>e(t.classes))},t))),sm=()=>im.of(null),lm=Gc(e=>(t,n)=>V(e.tag||"div",Gc(ad(Dc(e.attributes),Uf(e.attributes)),ad(Dc(e.onScroll),Uf({onScroll:t=>e.onScroll(n,t)})),ad(Dc(e.onMouseEnter),Uf({onMouseEnter:t=>e.onMouseEnter(n,t)})),ad(Dc(e.onClick),Uf({onClick:t=>e.onClick(n,t)})))({className:od(Of(If(String),Fc),e=>e(n.classes))(e.className),ref:e.ref||n&&n.ref,style:e.style}),t),ad(If(String),Lf("className")));var cm=n((function(e){
/*!
	  Copyright (c) 2017 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)&&i.length){var a=n.apply(null,i);a&&e.push(a)}else if("object"===o)for(var u in i)t.call(i,u)&&i[u]&&e.push(u)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()})),fm=function(e,t,n,r,i,o,a,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,u],c=0;(s=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}},dm=n((function(e,t){t.__esModule=!0,t.uncontrolledPropTypes=function(e,t){var i={};return Object.keys(e).forEach((function(e){i[r(e)]=n})),i},t.isProp=function(e,t){return void 0!==e[t]},t.defaultKey=r,t.canAcceptRef=function(e){return!!e&&("function"!=typeof e||e.prototype&&e.prototype.isReactComponent)};Lp(fm);var n=function(){};function r(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}}));t(dm);dm.uncontrolledPropTypes,dm.isProp,dm.defaultKey,dm.canAcceptRef;var pm=n((function(e,t){t.__esModule=!0,t.useUncontrolledProp=a,t.default=function(e,t){return Object.keys(t).reduce((function(u,s){var l,c=u,f=c[i.defaultKey(s)],d=c[s],p=(0,r.default)(c,[i.defaultKey(s),s].map(o)),h=t[s],m=a(d,f,e[h]),g=m[0],v=m[1];return(0,n.default)({},p,((l={})[s]=g,l[h]=v,l))}),e)};var n=Lp(sd),r=Lp(cd),i=Ip(dm);function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e,t,n){var r=(0,H.useRef)(void 0!==e),i=(0,H.useState)(t),o=i[0],a=i[1],u=void 0!==e,s=r.current;return r.current=u,!u&&s&&o!==t&&a(t),[u?e:o,(0,H.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),a(e)}),[n])]}}));t(pm);pm.useUncontrolledProp;var hm=n((function(e,t){function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Object.defineProperty(t,"__esModule",{value:!0}),n.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,t.polyfill=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var o=null,a=null,u=null;if("function"==typeof t.componentWillMount?o="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(o="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?u="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(u="UNSAFE_componentWillUpdate"),null!==o||null!==a||null!==u){var s=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+(null!==u?"\n  "+u:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}}));t(hm);hm.polyfill;var mm=n((function(e,t){t.__esModule=!0,t.default=function e(t,u,s){void 0===s&&(s=[]);var l=t.displayName||t.name||"Component",c=a.canAcceptRef(t),f=Object.keys(u),d=f.map(a.defaultKey);!c&&s.length&&invariant(!1);var p=function(e){function l(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=e.call.apply(e,[this].concat(i))||this).handlers=Object.create(null),f.forEach((function(e){var n=u[e];t.handlers[n]=function(i){if(t.props[n]){var o;t._notifying=!0;for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];(o=t.props)[n].apply(o,[i].concat(u)),t._notifying=!1}t.unmounted||t.setState((function(t){var n,o=t.values;return{values:(0,r.default)(Object.create(null),o,(n={},n[e]=i,n))}}))}})),s.length&&(t.attachRef=function(e){t.inner=e});var l=Object.create(null);return f.forEach((function(e){l[e]=t.props[a.defaultKey(e)]})),t.state={values:l,prevProps:{}},t}(0,i.default)(l,e);var c=l.prototype;return c.shouldComponentUpdate=function(){return!this._notifying},l.getDerivedStateFromProps=function(e,t){var n=t.values,i=t.prevProps,o={values:(0,r.default)(Object.create(null),n),prevProps:{}};return f.forEach((function(t){o.prevProps[t]=e[t],!a.isProp(e,t)&&a.isProp(i,t)&&(o.values[t]=e[a.defaultKey(t)])})),o},c.componentWillUnmount=function(){this.unmounted=!0},c.render=function(){var e=this,i=this.props,a=i.innerRef,u=(0,n.default)(i,["innerRef"]);d.forEach((function(e){delete u[e]}));var s={};return f.forEach((function(t){var n=e.props[t];s[t]=void 0!==n?n:e.state.values[t]})),o.default.createElement(t,(0,r.default)({},u,s,this.handlers,{ref:a||this.attachRef}))},l}(o.default.Component);(0,hm.polyfill)(p),p.displayName="Uncontrolled("+l+")",p.propTypes=(0,r.default)({innerRef:function(){}},a.uncontrolledPropTypes(u,l)),s.forEach((function(e){p.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var h=p;o.default.forwardRef&&((h=o.default.forwardRef((function(e,t){return o.default.createElement(p,(0,r.default)({},e,{innerRef:t}))}))).propTypes=p.propTypes);return h.ControlledComponent=t,h.deferControlTo=function(t,n,i){return void 0===n&&(n={}),e(t,(0,r.default)({},u,n),i)},h};var n=Lp(cd),r=Lp(sd),i=Lp(ld),o=Lp(H),a=(Lp(fm),Ip(dm));e.exports=t.default}));t(mm);var gm=n((function(e,t){t.__esModule=!0,t.useUncontrolledProp=t.uncontrollable=t.useUncontrolled=void 0;var n=Ip(pm);t.useUncontrolled=n.default,t.useUncontrolledProp=n.useUncontrolledProp;var r=Lp(mm);t.uncontrollable=r.default}));t(gm);gm.useUncontrolledProp,gm.uncontrollable,gm.useUncontrolled;var vm=n((function(e,t){t.__esModule=!0,t.default=function(e,t){var n=void 0===t?{}:t,i=n.propTypes,o=n.defaultProps,a=n.allowFallback,u=void 0!==a&&a,s=n.displayName,l=void 0===s?e.name||e.displayName:s,c=function(t,n){return e(t,n)};return Object.assign(r.default.forwardRef||!u?r.default.forwardRef(c):function(e){return c(e,null)},{displayName:l,propTypes:i,defaultProps:o})};var n,r=(n=H)&&n.__esModule?n:{default:n}}));t(vm);var ym=n((function(e,t){t.__esModule=!0,t.useBootstrapPrefix=s,t.createBootstrapComponent=function(e,t){"string"==typeof t&&(t={prefix:t});var o=e.prototype&&e.prototype.isReactComponent,a=t,u=a.prefix,l=a.forwardRefAs,c=void 0===l?o?"ref":"innerRef":l;return(0,r.default)((function(t,r){var o=(0,n.default)({},t);o[c]=r;var a=s(o.bsPrefix,u);return i.default.createElement(e,(0,n.default)({},o,{bsPrefix:a}))}),{displayName:"Bootstrap("+(e.displayName||e.name)+")"})},t.default=t.ThemeConsumer=void 0;var n=Lp(sd),r=Lp(vm),i=Ip(H),o=i.default.createContext({}),a=o.Consumer,u=o.Provider;function s(e,t){var n=(0,i.useContext)(o);return e||n[t]||t}t.ThemeConsumer=a;var l=function(e){var t=e.prefixes,r=e.children,o=(0,i.useMemo)((function(){return(0,n.default)({},t)}),[t]);return i.default.createElement(u,{value:o},r)};t.default=l}));t(ym);ym.useBootstrapPrefix,ym.createBootstrapComponent,ym.ThemeConsumer;var bm=n((function(e,t){t.__esModule=!0,t.default=t.makeEventKey=void 0;var n=Lp(H).default.createContext();t.makeEventKey=function(e,t){return null!=e?String(e):t||null};var r=n;t.default=r}));t(bm);bm.makeEventKey;var xm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(xm);var wm=n((function(e,t){t.__esModule=!0,t.useAccordionToggle=u,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Ip(H),o=Lp(bm),a=Lp(xm);function u(e,t){var n=(0,i.useContext)(a.default),r=(0,i.useContext)(o.default);return function(i){r(e===n?null:e,i),t&&t(i)}}var s=i.default.forwardRef((function(e,t){var o=e.as,a=void 0===o?"button":o,s=e.children,l=e.eventKey,c=e.onClick,f=(0,r.default)(e,["as","children","eventKey","onClick"]),d=u(l,c);return"button"===a&&(f.type="button"),i.default.createElement(a,(0,n.default)({ref:t,onClick:d},f),s)}));t.default=s}));t(wm);wm.useAccordionToggle;var _m=n((function(e,t){t.__esModule=!0,t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default}));t(_m);var Em=n((function(e,t){t.__esModule=!0,t.default=function(e){var t=(0,n.default)(e);return t&&t.defaultView||window};var n=Lp(_m);e.exports=t.default}));t(Em);var km=n((function(e,t){t.__esModule=!0,t.default=function(e,t){return(0,n.default)(e).getComputedStyle(e,t)};var n=Lp(Em);e.exports=t.default}));t(km);var Cm=n((function(e,t){t.__esModule=!0,t.default=function(e){return e.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;e.exports=t.default}));t(Cm);var Sm=n((function(e,t){t.__esModule=!0,t.default=function(e){return(0,n.default)(e).replace(r,"-ms-")};var n=Lp(Cm),r=/^ms-/;e.exports=t.default}));t(Sm);var Am=n((function(e,t){t.__esModule=!0,t.default=function(e){return!(!e||!n.test(e))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default}));t(Am);var Om=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(km),r=Lp(Sm),i=Lp(Am);var o=function(e,t){var o="",a="";if("string"==typeof t)return e.style.getPropertyValue((0,r.default)(t))||(0,n.default)(e).getPropertyValue((0,r.default)(t));Object.keys(t).forEach((function(n){var u=t[n];u||0===u?(0,i.default)(n)?a+=n+"("+u+") ":o+=(0,r.default)(n)+": "+u+";":e.style.removeProperty((0,r.default)(n))})),a&&(o+="transform: "+a+";"),e.style.cssText+=";"+o};t.default=o,e.exports=t.default}));t(Om);var Mm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default}));t(Mm);var Dm=n((function(e,t){t.__esModule=!0,t.default=t.onceSupported=t.optionsSupported=void 0;var n=Lp(Mm),r=!1;t.optionsSupported=r;var i=!1;t.onceSupported=i;try{var o={get passive(){return t.optionsSupported=r=!0},get once(){return t.onceSupported=i=t.optionsSupported=r=!0}};n.default&&(window.addEventListener("test",o,o),window.removeEventListener("test",o,!0))}catch(e){}var a=function(e,t,n,o){if(o&&"boolean"!=typeof o&&!i){var a=o.once,u=o.capture,s=n;!i&&a&&(s=n.__once||function e(r){this.removeEventListener(t,e,u),n.call(this,r)},n.__once=s),e.addEventListener(t,s,r?o:u)}e.addEventListener(t,n,o)};t.default=a}));t(Dm);Dm.onceSupported,Dm.optionsSupported;var Pm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(e,t,n,r){var i=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};t.default=n,e.exports=t.default}));t(Pm);var Tm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(Dm),r=Lp(Pm);var i=function(e,t,i,o){return(0,n.default)(e,t,i,o),function(){(0,r.default)(e,t,i,o)}};t.default=i,e.exports=t.default}));t(Tm);var Fm=n((function(e,t){t.__esModule=!0,t.parseDuration=a,t.default=t.TRANSITION_SUPPORTED=void 0;var n=Lp(Mm),r=Lp(Om),i=Lp(Tm),o=n.default&&"ontransitionend"in window;function a(e){var t=(0,r.default)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}function u(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),a=(0,i.default)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),a()}}t.TRANSITION_SUPPORTED=o;var s=function(e,t,n){null==n&&(n=a(e)||0);var r=u(e,n),o=(0,i.default)(e,"transitionend",t);return function(){r(),o()}};t.default=s}));t(Fm);Fm.parseDuration,Fm.TRANSITION_SUPPORTED;var Nm=n((function(e,t){t.__esModule=!0,t.default=void 0;t.default={disabled:!1},e.exports=t.default}));t(Nm);var jm=n((function(e,t){var n;t.__esModule=!0,t.default=void 0;var r=((n=H)&&n.__esModule?n:{default:n}).default.createContext(null);t.default=r,e.exports=t.default}));t(jm);var Rm=n((function(e,t){t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;a(Xd);var n=a(H),r=a(zl),i=a(Nm),o=a(jm);function a(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var u=function(e){var t,a;function u(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}a=e,(t=u).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,u.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var s=u.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},s.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,a=this.props.nodeRef?[o]:[r.default.findDOMNode(this),o],u=a[0],s=a[1],l=this.getTimeouts(),c=o?l.appear:l.enter;!e&&!n||i.default.disabled?this.safeSetState({status:"entered"},(function(){t.props.onEntered(u)})):(this.props.onEnter(u,s),this.safeSetState({status:"entering"},(function(){t.props.onEntering(u,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(u,s)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:r.default.findDOMNode(this);t&&!i.default.disabled?(this.props.onExit(o),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(o)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(o)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.default.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],u=o[1];this.props.addEndListener(a,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.default.createElement(o.default.Provider,{value:null},"function"==typeof r?r(e,i):n.default.cloneElement(n.default.Children.only(r),i))},u}(n.default.Component);function s(){}u.contextType=o.default,u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:s,onEntering:s,onEntered:s,onExit:s,onExiting:s,onExited:s},u.UNMOUNTED="unmounted",u.EXITED="exited",u.ENTERING="entering",u.ENTERED="entered",u.EXITING="exiting";var l=u;t.default=l}));t(Rm);Rm.EXITING,Rm.ENTERED,Rm.ENTERING,Rm.EXITED,Rm.UNMOUNTED;var Bm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};t.default=n,e.exports=t.default}));t(Bm);var Lm=n((function(e,t){t.__esModule=!0,t.default=function(e){e.offsetHeight},e.exports=t.default}));t(Lm);var zm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=Lp(sd),i=Lp(cd),o=Lp(ld),a=Lp(cm),u=Lp(Om),s=Lp(Fm),l=Lp(H),c=Ip(Rm),f=Lp(Bm),d=Lp(Lm),p={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};var h=((n={})[c.EXITED]="collapse",n[c.EXITING]="collapsing",n[c.ENTERING]="collapsing",n[c.ENTERED]="collapse show",n),m={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,dimension:"height",getDimensionValue:function(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],r=p[e];return n+parseInt((0,u.default)(t,r[0]),10)+parseInt((0,u.default)(t,r[1]),10)}},g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(e){e.style[t.getDimension()]="0"},t.handleEntering=function(e){var n=t.getDimension();e.style[n]=t._getScrollDimensionValue(e,n)},t.handleEntered=function(e){e.style[t.getDimension()]=null},t.handleExit=function(e){var n=t.getDimension();e.style[n]=t.props.getDimensionValue(n,e)+"px",(0,d.default)(e)},t.handleExiting=function(e){e.style[t.getDimension()]=null},t}(0,o.default)(t,e);var n=t.prototype;return n.getDimension=function(){return"function"==typeof this.props.dimension?this.props.dimension():this.props.dimension},n._getScrollDimensionValue=function(e,t){return e["scroll"+t[0].toUpperCase()+t.slice(1)]+"px"},n.render=function(){var e=this,t=this.props,n=t.onEnter,o=t.onEntering,u=t.onEntered,d=t.onExit,p=t.onExiting,m=t.className,g=t.children,v=(0,i.default)(t,["onEnter","onEntering","onEntered","onExit","onExiting","className","children"]);delete v.dimension,delete v.getDimensionValue;var y=(0,f.default)(this.handleEnter,n),b=(0,f.default)(this.handleEntering,o),x=(0,f.default)(this.handleEntered,u),w=(0,f.default)(this.handleExit,d),_=(0,f.default)(this.handleExiting,p);return l.default.createElement(c.default,(0,r.default)({addEndListener:s.default},v,{"aria-expanded":v.role?v.in:null,onEnter:y,onEntering:b,onEntered:x,onExit:w,onExiting:_}),(function(t,n){return l.default.cloneElement(g,(0,r.default)({},n,{className:(0,a.default)(m,g.props.className,h[t],"width"===e.getDimension()&&"width")}))}))},t}(l.default.Component);g.defaultProps=m;var v=g;t.default=v,e.exports=t.default}));t(zm);var Im=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Ip(H),o=Lp(zm),a=Lp(xm),u=i.default.forwardRef((function(e,t){var u=e.children,s=e.eventKey,l=(0,r.default)(e,["children","eventKey"]),c=(0,i.useContext)(a.default);return i.default.createElement(o.default,(0,n.default)({ref:t,in:c===s},l),i.default.createElement("div",null,i.default.Children.only(u)))}));u.displayName="AccordionCollapse";var s=u;t.default=s,e.exports=t.default}));t(Im);var $m=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(wm),u=Lp(bm),s=Lp(Im),l=Lp(xm),c=o.default.forwardRef((function(e,t){var a=(0,gm.useUncontrolled)(e,{activeKey:"onSelect"}),s=a.as,c=void 0===s?"div":s,f=a.activeKey,d=a.bsPrefix,p=a.children,h=a.className,m=a.onSelect,g=(0,r.default)(a,["as","activeKey","bsPrefix","children","className","onSelect"]);return d=(0,ym.useBootstrapPrefix)(d,"accordion"),o.default.createElement(l.default.Provider,{value:f},o.default.createElement(u.default.Provider,{value:m},o.default.createElement(c,(0,n.default)({ref:t},g,{className:(0,i.default)(h,d)}),p)))}));c.Toggle=a.default,c.Collapse=s.default;var f=c;t.default=f,e.exports=t.default}));t($m);var Um=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(e){var t=(0,H.useRef)(e);return(0,H.useEffect)((function(){t.current=e}),[e]),t};t.default=n}));t(Um);var qm=n((function(e,t){t.__esModule=!0,t.default=function(e){var t=(0,r.default)(e);return(0,H.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])};var n,r=(n=Um)&&n.__esModule?n:{default:n}}));t(qm);var Wm=n((function(e,t){t.__esModule=!0,t.default=function(e){return e.replace(n,(function(e,t){return t.toUpperCase()}))};var n=/-(.)/g;e.exports=t.default}));t(Wm);var Hm=n((function(e,t){t.__esModule=!0,t.default=function(e,t){var u=void 0===t?{}:t,s=u.displayName,l=void 0===s?(h=e,h[0].toUpperCase()+(0,o.default)(h).slice(1)):s,c=u.Component,f=void 0===c?"div":c,d=u.defaultProps,p=a.default.forwardRef((function(t,o){var u=t.className,s=t.bsPrefix,l=t.as,c=void 0===l?f:l,d=(0,r.default)(t,["className","bsPrefix","as"]),p=(0,ym.useBootstrapPrefix)(s,e);return a.default.createElement(c,(0,n.default)({ref:o,className:(0,i.default)(u,p)},d))}));var h;return p.defaultProps=d,p.displayName=l,p};var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(Wm),a=Lp(H);e.exports=t.default}));t(Hm);var Vm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(H),i=Lp(cm);t.default=function(e){return r.default.forwardRef((function(t,o){return r.default.createElement("div",(0,n.default)({},t,{ref:o,className:(0,i.default)(t.className,e)}))}))},e.exports=t.default}));t(Vm);var Gm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=Lp(sd),i=Lp(cd),o=Lp(cm),a=Lp(Fm),u=Ip(H),s=Ip(Rm),l=Lp(Lm),c=((n={})[s.ENTERING]="show",n[s.ENTERED]="show",n),f=u.default.forwardRef((function(e,t){var n=e.className,f=e.children,d=(0,i.default)(e,["className","children"]),p=(0,u.useCallback)((function(e){(0,l.default)(e),d.onEnter&&d.onEnter(e)}),[d]);return u.default.createElement(s.default,(0,r.default)({ref:t,addEndListener:a.default},d,{onEnter:p}),(function(e,t){return u.default.cloneElement(f,(0,r.default)({},t,{className:(0,o.default)("fade",n,f.props.className,c[e])}))}))}));f.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},f.displayName="Fade";var d=f;t.default=d,e.exports=t.default}));t(Gm);var Ym=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(Xd),o=Lp(H),a=Lp(cm),u={label:i.default.string.isRequired,onClick:i.default.func},s=o.default.forwardRef((function(e,t){var i=e.label,u=e.onClick,s=e.className,l=(0,r.default)(e,["label","onClick","className"]);return o.default.createElement("button",(0,n.default)({ref:t,type:"button",className:(0,a.default)("close",s),onClick:u},l),o.default.createElement("span",{"aria-hidden":"true"},""),o.default.createElement("span",{className:"sr-only"},i))}));s.displayName="CloseButton",s.propTypes=u,s.defaultProps={label:"Close"};var l=s;t.default=l,e.exports=t.default}));t(Ym);var Xm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(Bm);function a(e){return!e||"#"===e.trim()}var u=i.default.forwardRef((function(e,t){var u=e.as,s=void 0===u?"a":u,l=e.disabled,c=e.onKeyDown,f=(0,r.default)(e,["as","disabled","onKeyDown"]),d=function(e){var t=f.href,n=f.onClick;(l||a(t))&&e.preventDefault(),l?e.stopPropagation():n&&n(e)};return a(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),l&&(f.tabIndex=-1,f["aria-disabled"]=!0),i.default.createElement(s,(0,n.default)({ref:t},f,{onClick:d,onKeyDown:(0,o.default)((function(e){" "===e.key&&(e.preventDefault(),d(e))}),c)}))}));u.displayName="SafeAnchor";var s=u;t.default=s,e.exports=t.default}));t(Xm);var Km=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(qm),u=Lp(Hm),s=Lp(Vm),l=Lp(Gm),c=Lp(Ym),f=Lp(Xm),d={show:!0,transition:l.default,closeLabel:"Close alert"},p={show:"onClose"},h=o.default.forwardRef((function(e,t){var u=(0,gm.useUncontrolled)(e,p),s=u.bsPrefix,l=u.show,f=u.closeLabel,d=u.className,h=u.children,m=u.variant,g=u.onClose,v=u.dismissible,y=u.transition,b=(0,r.default)(u,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),x=(0,ym.useBootstrapPrefix)(s,"alert"),w=(0,a.default)((function(e){g(!1,e)})),_=o.default.createElement("div",(0,n.default)({role:"alert"},y?b:void 0,{ref:t,className:(0,i.default)(d,x,m&&x+"-"+m,v&&x+"-dismissible")}),v&&o.default.createElement(c.default,{onClick:w,label:f}),h);return y?o.default.createElement(y,(0,n.default)({unmountOnExit:!0},b,{in:l}),_):l?_:null})),m=(0,s.default)("h4");m.displayName="DivStyledAsH4",h.displayName="Alert",h.defaultProps=d,h.Link=(0,u.default)("alert-link",{Component:f.default}),h.Heading=(0,u.default)("alert-heading",{Component:m});var g=h;t.default=g,e.exports=t.default}));t(Km);var Qm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.variant,s=e.pill,l=e.className,c=e.as,f=void 0===c?"span":c,d=(0,r.default)(e,["bsPrefix","variant","pill","className","as"]),p=(0,ym.useBootstrapPrefix)(a,"badge");return o.default.createElement(f,(0,n.default)({ref:t},d,{className:(0,i.default)(l,p,s&&p+"-pill",u&&p+"-"+u)}))}));a.displayName="Badge",a.defaultProps={pill:!1};var u=a;t.default=u,e.exports=t.default}));t(Qm);var Jm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Xm),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.active,l=e.children,c=e.className,f=e.as,d=void 0===f?"li":f,p=e.linkAs,h=void 0===p?a.default:p,m=e.linkProps,g=e.href,v=e.title,y=e.target,b=(0,r.default)(e,["bsPrefix","active","children","className","as","linkAs","linkProps","href","title","target"]),x=(0,ym.useBootstrapPrefix)(u,"breadcrumb-item");return o.default.createElement(d,(0,n.default)({ref:t},b,{className:(0,i.default)(x,c,{active:s}),"aria-current":s?"page":void 0}),s?l:o.default.createElement(h,(0,n.default)({},m,{href:g,title:v,target:y}),l))}));u.displayName="BreadcrumbItem",u.defaultProps={active:!1,linkProps:{}};var s=u;t.default=s,e.exports=t.default}));t(Jm);var Zm=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Jm),u=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.listProps,l=e.children,c=e.label,f=e.as,d=void 0===f?"nav":f,p=(0,r.default)(e,["bsPrefix","className","listProps","children","label","as"]),h=(0,ym.useBootstrapPrefix)(a,"breadcrumb");return o.default.createElement(d,(0,n.default)({"aria-label":c,className:u,ref:t},p),o.default.createElement("ol",(0,n.default)({},s,{className:(0,i.default)(h,s.className)}),l))}));u.displayName="Breadcrumb",u.defaultProps={label:"breadcrumb",listProps:{}},u.Item=a.default;var s=u;t.default=s,e.exports=t.default}));t(Zm);var eg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Xm),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.variant,l=e.size,c=e.active,f=e.className,d=e.block,p=e.type,h=e.as,m=(0,r.default)(e,["bsPrefix","variant","size","active","className","block","type","as"]),g=(0,ym.useBootstrapPrefix)(u,"btn"),v=(0,i.default)(f,g,c&&"active",g+"-"+s,d&&g+"-block",l&&g+"-"+l);if(m.href)return o.default.createElement(a.default,(0,n.default)({},m,{as:h,ref:t,className:(0,i.default)(v,m.disabled&&"disabled")}));t&&(m.ref=t),h||(m.type=p);var y=h||"button";return o.default.createElement(y,(0,n.default)({},m,{className:v}))}));u.displayName="Button",u.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};var s=u;t.default=s,e.exports=t.default}));t(eg);var tg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.size,s=e.toggle,l=e.vertical,c=e.className,f=e.as,d=void 0===f?"div":f,p=(0,r.default)(e,["bsPrefix","size","toggle","vertical","className","as"]),h=(0,ym.useBootstrapPrefix)(a,"btn-group"),m=h;return l&&(m=h+"-vertical"),o.default.createElement(d,(0,n.default)({},p,{ref:t,className:(0,i.default)(c,m,u&&h+"-"+u,s&&h+"-toggle")}))}));a.displayName="ButtonGroup",a.defaultProps={vertical:!1,toggle:!1,role:"group"};var u=a;t.default=u,e.exports=t.default}));t(tg);var ng=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=(0,r.default)(e,["bsPrefix","className"]),l=(0,ym.useBootstrapPrefix)(a,"btn-toolbar");return o.default.createElement("div",(0,n.default)({},s,{ref:t,className:(0,i.default)(u,l)}))}));a.displayName="ButtonToolbar",a.defaultProps={role:"toolbar"};var u=a;t.default=u,e.exports=t.default}));t(ng);var rg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(rg);var ig=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.variant,l=e.as,c=void 0===l?"img":l,f=(0,r.default)(e,["bsPrefix","className","variant","as"]),d=(0,ym.useBootstrapPrefix)(a,"card-img");return o.default.createElement(c,(0,n.default)({ref:t,className:(0,i.default)(s?d+"-"+s:d,u)},f))}));a.displayName="CardImg",a.defaultProps={variant:null};var u=a;t.default=u,e.exports=t.default}));t(ig);var og=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Hm),u=Lp(Vm),s=Lp(rg),l=Lp(ig),c=(0,u.default)("h5"),f=(0,u.default)("h6"),d=(0,a.default)("card-body"),p=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,l=e.bg,c=e.text,f=e.border,p=e.body,h=e.children,m=e.as,g=void 0===m?"div":m,v=(0,r.default)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=(0,ym.useBootstrapPrefix)(a,"card"),b=(0,o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return o.default.createElement(s.default.Provider,{value:b},o.default.createElement(g,(0,n.default)({ref:t},v,{className:(0,i.default)(u,y,l&&"bg-"+l,c&&"text-"+c,f&&"border-"+f)}),p?o.default.createElement(d,null,h):h))}));p.displayName="Card",p.defaultProps={body:!1},p.Img=l.default,p.Title=(0,a.default)("card-title",{Component:c}),p.Subtitle=(0,a.default)("card-subtitle",{Component:f}),p.Body=d,p.Link=(0,a.default)("card-link",{Component:"a"}),p.Text=(0,a.default)("card-text",{Component:"p"}),p.Header=(0,a.default)("card-header"),p.Footer=(0,a.default)("card-footer"),p.ImgOverlay=(0,a.default)("card-img-overlay");var h=p;t.default=h,e.exports=t.default}));t(og);var ag=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("card-columns");t.default=n,e.exports=t.default}));t(ag);var ug=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("card-deck");t.default=n,e.exports=t.default}));t(ug);var sg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("card-group");t.default=n,e.exports=t.default}));t(sg);var lg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(e,t){var n=(0,H.useRef)(!0);(0,H.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};t.default=n}));t(lg);var cg=n((function(e,t){t.__esModule=!0,t.default=function(){var e=(0,H.useRef)(!0),t=(0,H.useRef)((function(){return e.current}));return(0,H.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}}));t(cg);var fg=n((function(e,t){t.__esModule=!0,t.default=function(e){var t=(0,H.useRef)(e);return t.current=e,t}}));t(fg);var dg=n((function(e,t){t.__esModule=!0,t.default=function(e){var t=(0,r.default)(e);(0,H.useEffect)((function(){return function(){return t.current()}}),[])};var n,r=(n=fg)&&n.__esModule?n:{default:n}}));t(dg);var pg=n((function(e,t){t.__esModule=!0,t.default=function(){var e=(0,n.default)(),t=(0,H.useRef)();return(0,r.default)((function(){return clearTimeout(t.current)})),(0,H.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=o?t.current=setTimeout(r,i):function e(t,n,r){var i=r-Date.now();t.current=i<=o?setTimeout(n,i):setTimeout((function(){return e(t,n,r)}),o)}(t,r,Date.now()+i))},clear:n}}),[])};var n=i(cg),r=i(dg);function i(e){return e&&e.__esModule?e:{default:e}}var o=Math.pow(2,31)-1}));t(pg);var hg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("carousel-caption",{Component:"div"});t.default=n,e.exports=t.default}));t(hg);var mg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("carousel-item");t.default=n,e.exports=t.default}));t(mg);var gg=n((function(e,t){t.__esModule=!0,t.map=function(e,t){var r=0;return n.default.Children.map(e,(function(e){return n.default.isValidElement(e)?t(e,r++):e}))},t.forEach=function(e,t){var r=0;n.default.Children.forEach(e,(function(e){n.default.isValidElement(e)&&t(e,r++)}))};var n=Lp(H)}));t(gg);gg.map,gg.forEach;var vg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(qm),o=Lp(lg),a=Lp(pg),u=Lp(cm),s=Lp(Fm),l=Lp(Rm),c=Ip(H),f=Lp(hg),d=Lp(mg),p=Lp(Xm),h=Lp(Lm),m={slide:!0,fade:!1,controls:!0,indicators:!0,defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:c.default.createElement("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:c.default.createElement("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var g=c.default.forwardRef((function(e,t){var f=(0,gm.useUncontrolled)(e,{activeIndex:"onSelect"}),d=f.as,m=void 0===d?"div":d,g=f.bsPrefix,v=f.slide,y=f.fade,b=f.controls,x=f.indicators,w=f.activeIndex,_=f.onSelect,E=f.onSlide,k=f.onSlid,C=f.interval,S=f.keyboard,A=f.onKeyDown,O=f.pause,M=f.onMouseOver,D=f.onMouseOut,P=f.wrap,T=f.touch,F=f.onTouchStart,N=f.onTouchMove,j=f.onTouchEnd,R=f.prevIcon,B=f.prevLabel,L=f.nextIcon,z=f.nextLabel,I=f.className,$=f.children,U=(0,r.default)(f,["as","bsPrefix","slide","fade","controls","indicators","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","className","children"]),q=(0,ym.useBootstrapPrefix)(g,"carousel"),W=(0,c.useRef)(null),H=(0,c.useState)("next"),V=H[0],G=H[1],Y=(0,c.useState)(!1),X=Y[0],K=Y[1],Q=(0,c.useState)(w),J=Q[0],Z=Q[1];X||w===J||(W.current?(G(W.current),W.current=null):G(w>J?"next":"prev"),v&&K(!0),Z(w));var ee=c.default.Children.toArray($).filter(c.default.isValidElement).length,te=(0,c.useCallback)((function(e){if(!X){var t=J-1;if(t<0){if(!P)return;t=ee-1}W.current="prev",_(t,e)}}),[X,J,_,P,ee]),ne=(0,i.default)((function(e){if(!X){var t=J+1;if(t>=ee){if(!P)return;t=0}W.current="next",_(t,e)}})),re=(0,c.useRef)();(0,c.useImperativeHandle)(t,(function(){return{element:re.current,prev:te,next:ne}}));var ie=(0,i.default)((function(){!document.hidden&&function(e){if(!(e&&e.style&&e.parentNode&&e.parentNode.style))return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(re.current)&&ne()})),oe="next"===V?"left":"right";(0,o.default)((function(){v||(E&&E(J,oe),k&&k(J,oe))}),[J]);var ae=q+"-item-"+V,ue=q+"-item-"+oe,se=(0,c.useCallback)((function(e){(0,h.default)(e),E&&E(J,oe)}),[E,J,oe]),le=(0,c.useCallback)((function(){K(!1),k&&k(J,oe)}),[k,J,oe]),ce=(0,c.useCallback)((function(e){if(S&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void te(e);case"ArrowRight":return e.preventDefault(),void ne(e)}A&&A(e)}),[S,A,te,ne]),fe=(0,c.useState)(!1),de=fe[0],pe=fe[1],he=(0,c.useCallback)((function(e){"hover"===O&&pe(!0),M&&M(e)}),[O,M]),me=(0,c.useCallback)((function(e){pe(!1),D&&D(e)}),[D]),ge=(0,c.useRef)(0),ve=(0,c.useRef)(0),ye=(0,c.useState)(!1),be=ye[0],xe=ye[1],we=(0,a.default)(),_e=(0,c.useCallback)((function(e){ge.current=e.touches[0].clientX,ve.current=0,T&&xe(!0),F&&F(e)}),[T,F]),Ee=(0,c.useCallback)((function(e){e.touches&&e.touches.length>1?ve.current=0:ve.current=e.touches[0].clientX-ge.current,N&&N(e)}),[N]),ke=(0,c.useCallback)((function(e){if(T){var t=ve.current;if(Math.abs(t)<=40)return;t>0?te(e):ne(e)}we.set((function(){xe(!1)}),C),j&&j(e)}),[T,te,ne,we,C,j]),Ce=null!=C&&!de&&!be&&!X,Se=(0,c.useRef)();(0,c.useEffect)((function(){if(Ce)return Se.current=setInterval(document.visibilityState?ie:ne,C),function(){clearInterval(Se.current)}}),[Ce,ne,C,ie]);var Ae=(0,c.useMemo)((function(){return x&&Array.from({length:ee},(function(e,t){return function(e){_(t,e)}}))}),[x,ee,_]);return c.default.createElement(m,(0,n.default)({ref:re},U,{onKeyDown:ce,onMouseOver:he,onMouseOut:me,onTouchStart:_e,onTouchMove:Ee,onTouchEnd:ke,className:(0,u.default)(I,q,v&&"slide",y&&q+"-fade")}),x&&c.default.createElement("ol",{className:q+"-indicators"},(0,gg.map)($,(function(e,t){return c.default.createElement("li",{key:t,className:t===J?"active":null,onClick:Ae[t]})}))),c.default.createElement("div",{className:q+"-inner"},(0,gg.map)($,(function(e,t){var n=t===J;return v?c.default.createElement(l.default,{in:n,onEnter:n?se:null,onEntered:n?le:null,addEndListener:s.default},(function(t){return c.default.cloneElement(e,{className:(0,u.default)(e.props.className,n&&"entered"!==t&&ae,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&ue)})})):c.default.cloneElement(e,{className:(0,u.default)(e.props.className,n&&"active")})}))),b&&c.default.createElement(c.default.Fragment,null,(P||0!==w)&&c.default.createElement(p.default,{className:q+"-control-prev",onClick:te},R,B&&c.default.createElement("span",{className:"sr-only"},B)),(P||w!==ee-1)&&c.default.createElement(p.default,{className:q+"-control-next",onClick:ne},L,z&&c.default.createElement("span",{className:"sr-only"},z))))}));g.displayName="Carousel",g.defaultProps=m,g.Caption=f.default,g.Item=d.default;var v=g;t.default=v,e.exports=t.default}));t(vg);var yg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=["xl","lg","md","sm","xs"],u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.className,l=e.as,c=void 0===l?"div":l,f=(0,r.default)(e,["bsPrefix","className","as"]),d=(0,ym.useBootstrapPrefix)(u,"col"),p=[],h=[];return a.forEach((function(e){var t,n,r,i=f[e];if(delete f[e],null!=i&&"object"==typeof i){var o=i.span;t=void 0===o||o,n=i.offset,r=i.order}else t=i;var a="xs"!==e?"-"+e:"";null!=t&&p.push(!0===t?""+d+a:""+d+a+"-"+t),null!=r&&h.push("order"+a+"-"+r),null!=n&&h.push("offset"+a+"-"+n)})),p.length||p.push(d),o.default.createElement(c,(0,n.default)({},f,{ref:t,className:i.default.apply(void 0,[s].concat(p,h))}))}));u.displayName="Col";var s=u;t.default=s,e.exports=t.default}));t(yg);var bg=n((function(e,t){var n;t.__esModule=!0,t.default=function(e,t){if(!n){var r=document.body,i=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;n=function(e,t){return i.call(e,t)}}return n(e,t)},e.exports=t.default}));t(bg);var xg=n((function(e,t){t.__esModule=!0,t.default=function(e,t){return n(e.querySelectorAll(t))};var n=Function.prototype.bind.call(Function.prototype.call,[].slice);e.exports=t.default}));t(xg);var wg=n((function(e,t){t.__esModule=!0,t.default=function(e){var t=(0,H.useRef)(null);return(0,H.useEffect)((function(){t.current=e})),t.current}}));t(wg);var _g=n((function(e,t){t.__esModule=!0,t.default=function(){return(0,H.useState)(null)}}));t(_g);var Eg=n((function(e,t){t.__esModule=!0,t.default=function(){return(0,H.useReducer)((function(e){return!e}),!1)[1]}}));t(Eg);var kg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(kg);var Cg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=(n=cg)&&n.__esModule?n:{default:n};var i=function(e){var t=(0,r.default)();return[e[0],(0,H.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};t.default=i}));t(Cg);var Sg=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="top",r="bottom",i="right",o="left",a=[n,r,i,o],u=a.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),s=[].concat(a,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),l=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function c(e){return e.split("-")[0]}function f(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function d(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function p(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function h(e){return e?(e.nodeName||"").toLowerCase():null}function m(e){return p(e).getComputedStyle(e)}function g(e){return e instanceof p(e).Element||e instanceof Element}function v(e){return e instanceof p(e).HTMLElement||e instanceof HTMLElement}function y(e){return["table","td","th"].indexOf(h(e))>=0}function b(e){return v(e)&&"fixed"!==m(e).position?e.offsetParent:null}function x(e){for(var t=p(e),n=b(e);n&&y(n);)n=b(n);return n&&"body"===h(n)&&"static"===m(n).position?t:n||t}function w(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function _(e,t,n){return Math.max(e,Math.min(t,n))}function E(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},e)}function k(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function C(e){return(g(e)?e.ownerDocument:e.document).documentElement}var S={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A(e){var t,a=e.popper,u=e.popperRect,s=e.placement,l=e.offsets,c=e.position,f=e.gpuAcceleration,d=e.adaptive,h=function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}}(l),m=h.x,g=h.y,v=l.hasOwnProperty("x"),y=l.hasOwnProperty("y"),b=o,w=n,_=window;if(d){var E=x(a);E===p(a)&&(E=C(a)),s===n&&(w=r,g-=E.clientHeight-u.height,g*=f?1:-1),s===o&&(b=i,m-=E.clientWidth-u.width,m*=f?1:-1)}var k,A=Object.assign({position:c},d&&S);return f?Object.assign({},A,((k={})[w]=y?"0":"",k[b]=v?"0":"",k.transform=(_.devicePixelRatio||1)<2?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",k)):Object.assign({},A,((t={})[w]=y?g+"px":"",t[b]=v?m+"px":"",t.transform="",t))}var O={passive:!0};var M={left:"right",right:"left",bottom:"top",top:"bottom"};function D(e){return e.replace(/left|right|bottom|top/g,(function(e){return M[e]}))}var P={start:"end",end:"start"};function T(e){return e.replace(/start|end/g,(function(e){return P[e]}))}function F(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function N(e){var t=p(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(e){return F(C(e)).left+N(e).scrollLeft}function R(e,t,n){var r;void 0===n&&(n=!1);var i,o,a=F(e),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return n||("body"!==h(t)&&(u=(i=t)!==p(i)&&v(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:N(i)),v(t)?((s=F(t)).x+=t.clientLeft,s.y+=t.clientTop):(r=C(t))&&(s.x=j(r))),{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}function B(e){return"html"===h(e)?e:e.assignedSlot||e.parentNode||e.host||C(e)}function L(e,t){void 0===t&&(t=[]);var n=function e(t){if(["html","body","#document"].indexOf(h(t))>=0)return t.ownerDocument.body;if(v(t)){var n=m(t),r=n.overflow,i=n.overflowX,o=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+o+i))return t}return e(B(t))}(e),r="body"===h(n),i=p(n),o=r?[i].concat(i.visualViewport||[]):n,a=t.concat(o);return r?a:a.concat(L(B(o)))}function z(e){return parseFloat(e)||0}function I(e){var t=p(e),n=function(e){var t=v(e)?m(e):{};return{top:z(t.borderTopWidth),right:z(t.borderRightWidth),bottom:z(t.borderBottomWidth),left:z(t.borderLeftWidth)}}(e),r="html"===h(e),i=j(e),o=e.clientWidth+n.right,a=e.clientHeight+n.bottom;return r&&t.innerHeight-e.clientHeight>50&&(a=t.innerHeight-n.bottom),{top:r?0:e.clientTop,right:e.clientLeft>n.left?n.right:r?t.innerWidth-o-i:e.offsetWidth-o,bottom:r?t.innerHeight-a:e.offsetHeight-a,left:r?i:e.clientLeft}}function $(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function U(e,t){return"viewport"===t?$(function(e){var t=p(e),n=t.visualViewport,r=t.innerWidth,i=t.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=n.width,i=n.height),{width:r,height:i,x:0,y:0}}(e)):v(t)?F(t):$(function(e){var t=p(e),n=N(e),r=R(C(e),t);return r.height=Math.max(r.height,t.innerHeight),r.width=Math.max(r.width,t.innerWidth),r.x=-n.scrollLeft,r.y=-n.scrollTop,r}(C(e)))}function q(e,t,n){var r="clippingParents"===t?function(e){var t=L(e),n=["absolute","fixed"].indexOf(m(e).position)>=0&&v(e)?x(e):e;return g(n)?t.filter((function(e){return g(e)&&d(e,n)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=U(e,n),i=I(v(n)?n:C(e));return t.top=Math.max(r.top+i.top,t.top),t.right=Math.min(r.right-i.right,t.right),t.bottom=Math.min(r.bottom-i.bottom,t.bottom),t.left=Math.max(r.left+i.left,t.left),t}),U(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function W(e){return e.split("-")[1]}function H(e){var t,a=e.reference,u=e.element,s=e.placement,l=s?c(s):null,f=s?W(s):null,d=a.x+a.width/2-u.width/2,p=a.y+a.height/2-u.height/2;switch(l){case n:t={x:d,y:a.y-u.height};break;case r:t={x:d,y:a.y+a.height};break;case i:t={x:a.x+a.width,y:p};break;case o:t={x:a.x-u.width,y:p};break;default:t={x:a.x,y:a.y}}var h=l?w(l):null;if(null!=h){var m="y"===h?"height":"width";switch(f){case"start":t[h]=Math.floor(t[h])-Math.floor(a[m]/2-u[m]/2);break;case"end":t[h]=Math.floor(t[h])+Math.ceil(a[m]/2-u[m]/2)}}return t}function V(e,t){void 0===t&&(t={});var o=t,u=o.placement,s=void 0===u?e.placement:u,l=o.boundary,c=void 0===l?"clippingParents":l,f=o.rootBoundary,d=void 0===f?"viewport":f,p=o.elementContext,h=void 0===p?"popper":p,m=o.altBoundary,v=void 0!==m&&m,y=o.padding,b=void 0===y?0:y,x=E("number"!=typeof b?b:k(b,a)),w="popper"===h?"reference":"popper",_=e.elements.reference,S=e.rects.popper,A=e.elements[v?w:h],O=q(g(A)?A:A.contextElement||C(e.elements.popper),c,d),M=F(_),D=H({reference:M,element:S,strategy:"absolute",placement:s}),P=$(Object.assign({},S,{},D)),T="popper"===h?P:M,N={top:O.top-T.top+x.top,bottom:T.bottom-O.bottom+x.bottom,left:O.left-T.left+x.left,right:T.right-O.right+x.right},j=e.modifiersData.offset;if("popper"===h&&j){var R=j[s];Object.keys(N).forEach((function(e){var t=[i,r].indexOf(e)>=0?1:-1,o=[n,r].indexOf(e)>=0?"y":"x";N[e]+=R[o]*t}))}return N}function G(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,l=n.padding,f=n.flipVariations,d=n.allowedAutoPlacements,p=void 0===d?s:d,h=W(r),m=(h?f?u:u.filter((function(e){return W(e)===h})):a).filter((function(e){return p.indexOf(e)>=0})).reduce((function(t,n){return t[n]=V(e,{placement:n,boundary:i,rootBoundary:o,padding:l})[c(n)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}function Y(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function X(e){return[n,i,r,o].some((function(t){return e[t]>=0}))}function K(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(i){n.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var i=t.get(r);i&&e(i)}})),r.push(i)}(e)})),r}var Q={placement:"bottom",modifiers:[],strategy:"absolute"};function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}const Z=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Q:i;return function(e,t,n){void 0===n&&(n=o);var i,a,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Q,{},o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],c=!1,d={state:u,setOptions:function(n){p(),u.options=Object.assign({},o,{},u.options,{},n),u.scrollParents={reference:g(e)?L(e):e.contextElement?L(e.contextElement):[],popper:L(t)};var i=function(e){var t=K(e);return l.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,{},t,{options:Object.assign({},n.options,{},t.options),data:Object.assign({},n.data,{},t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,u.options.modifiers)));return u.orderedModifiers=i.filter((function(e){return e.enabled})),u.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:u,name:t,instance:d,options:r});s.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=u.elements,t=e.reference,n=e.popper;if(J(t,n)){u.rects={reference:R(t,x(n),"fixed"===u.options.strategy),popper:f(n)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach((function(e){return u.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<u.orderedModifiers.length;r++)if(!0!==u.reset){var i=u.orderedModifiers[r],o=i.fn,a=i.options,s=void 0===a?{}:a,l=i.name;"function"==typeof o&&(u=o({state:u,options:s,name:l,instance:d})||u)}else u.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(u)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){p(),c=!0}};if(!J(e,t))return d;function p(){s.forEach((function(e){return e()})),s=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=V(t,{elementContext:"reference"}),u=V(t,{altBoundary:!0}),s=Y(a,r),l=Y(u,i,o),c=X(s),f=X(l);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=H({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,u={placement:c(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,{},A(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},A(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,u=void 0===a||a,s=p(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,O)})),u&&s.addEventListener("resize",n.update,O),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,O)})),u&&s.removeEventListener("resize",n.update,O)}},data:{}},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,a=e.name,u=r.offset,l=void 0===u?[0,0]:u,f=s.reduce((function(e,r){return e[r]=function(e,t,r){var a=c(e),u=[o,n].indexOf(a)>=0?-1:1,s="function"==typeof r?r(Object.assign({},t,{placement:e})):r,l=s[0],f=s[1];return l=l||0,f=(f||0)*u,[o,i].indexOf(a)>=0?{x:f,y:l}:{x:l,y:f}}(r,t.rects,l),e}),{}),d=f[t.placement],p=d.x,h=d.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=h),t.modifiersData[a]=f}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var s=a.fallbackPlacements,l=a.padding,f=a.boundary,d=a.rootBoundary,p=a.altBoundary,h=a.flipVariations,m=void 0===h||h,g=a.allowedAutoPlacements,v=t.options.placement,y=c(v),b=s||(y===v||!m?[D(v)]:function(e){if("auto"===c(e))return[];var t=D(e);return[T(e),t,T(t)]}(v)),x=[v].concat(b).reduce((function(e,n){return e.concat("auto"===c(n)?G(t,{placement:n,boundary:f,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,_=t.rects.popper,E=new Map,k=!0,C=x[0],S=0;S<x.length;S++){var A=x[S],O=c(A),M="start"===W(A),P=[n,r].indexOf(O)>=0,F=P?"width":"height",N=V(t,{placement:A,boundary:f,rootBoundary:d,altBoundary:p,padding:l}),j=P?M?i:o:M?r:n;w[F]>_[F]&&(j=D(j));var R=D(j),B=[N[O]<=0,N[j]<=0,N[R]<=0];if(B.every((function(e){return e}))){C=A,k=!1;break}E.set(A,B)}if(k)for(var L=function(e){var t=x.find((function(t){var n=E.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=m?3:1;z>0;z--){if("break"===L(z))break}t.placement!==C&&(t.modifiersData[u]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,u=e.name,s=a.mainAxis,l=void 0===s||s,d=a.altAxis,p=void 0!==d&&d,h=a.boundary,m=a.rootBoundary,g=a.altBoundary,v=a.padding,y=a.tether,b=void 0===y||y,E=a.tetherOffset,k=void 0===E?0:E,C=V(t,{boundary:h,rootBoundary:m,padding:v,altBoundary:g}),S=c(t.placement),A=W(t.placement),O=!A,M=w(S),D="x"===M?"y":"x",P=t.modifiersData.popperOffsets,T=t.rects.reference,F=t.rects.popper,N="function"==typeof k?k(Object.assign({},t.rects,{placement:t.placement})):k,j={x:0,y:0};if(P){if(l){var R="y"===M?n:o,B="y"===M?r:i,L="y"===M?"height":"width",z=P[M],I=P[M]+C[R],$=P[M]-C[B],U=b?-F[L]/2:0,q="start"===A?T[L]:F[L],H="start"===A?-F[L]:-T[L],G=t.elements.arrow,Y=b&&G?f(G):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=X[R],Q=X[B],J=_(0,T[L],Y[L]),Z=O?T[L]/2-U-J-K-N:q-J-K-N,ee=O?-T[L]/2+U+J+Q+N:H+J+Q+N,te=t.elements.arrow&&x(t.elements.arrow),ne=te?"y"===M?te.clientTop||0:te.clientLeft||0:0,re=t.modifiersData.offset?t.modifiersData.offset[t.placement][M]:0,ie=P[M]+Z-re-ne,oe=P[M]+ee-re,ae=_(b?Math.min(I,ie):I,z,b?Math.max($,oe):$);P[M]=ae,j[M]=ae-z}if(p){var ue="x"===M?n:o,se="x"===M?r:i,le=P[D],ce=_(le+C[ue],le,le-C[se]);P[D]=ce,j[D]=ce-le}t.modifiersData[u]=j}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,a=e.state,u=e.name,s=a.elements.arrow,l=a.modifiersData.popperOffsets,d=c(a.placement),p=w(d),h=[o,i].indexOf(d)>=0?"height":"width";if(s&&l){var m=a.modifiersData[u+"#persistent"].padding,g=f(s),v="y"===p?n:o,y="y"===p?r:i,b=a.rects.reference[h]+a.rects.reference[p]-l[p]-a.rects.popper[h],E=l[p]-a.rects.reference[p],k=a.elements.arrow&&x(a.elements.arrow),C=k?"y"===p?k.clientHeight||0:k.clientWidth||0:0,S=b/2-E/2,A=m[v],O=C-g[h]-m[y],M=C/2-g[h]/2+S,D=_(A,M,O),P=p;a.modifiersData[u]=((t={})[P]=D,t.centerOffset=D-M,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,u=n.padding,s=void 0===u?0:u;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&d(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:E("number"!=typeof s?s:k(s,a))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}]});t.createPopper=Z,t.placements=s}));t(Sg);Sg.createPopper,Sg.placements;var Ag=n((function(e,t){t.__esModule=!0,t.toModifierMap=function(e){var t={};if(!Array.isArray(e))return e||t;return null==e||e.forEach((function(e){t[e.name]=e})),t},t.toModifierArray=u,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(Cg),o={position:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"},a={};function u(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}var s=function(e,t,s){var l=void 0===s?{}:s,c=l.enabled,f=void 0===c||c,d=l.placement,p=void 0===d?"bottom":d,h=l.strategy,m=void 0===h?"absolute":h,g=l.eventsEnabled,v=void 0===g||g,y=l.modifiers,b=(0,r.default)(l,["enabled","placement","strategy","eventsEnabled","modifiers"]),x=(0,H.useRef)(),w=(0,H.useCallback)((function(){x.current&&x.current.update()}),[]),_=(0,i.default)((0,H.useState)({placement:p,scheduleUpdate:w,outOfBoundaries:!1,styles:o,arrowStyles:a})),E=_[0],k=_[1],C=(0,H.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"afterWrite",requires:["computeStyles"],fn:function(e){var t,r,i;k({scheduleUpdate:w,outOfBoundaries:!!(null==(t=e.state.modifiersData.hide)?void 0:t.isReferenceHidden),placement:e.state.placement,styles:(0,n.default)({},null==(r=e.state.styles)?void 0:r.popper),arrowStyles:(0,n.default)({},null==(i=e.state.styles)?void 0:i.arrow),state:e.state})}}}),[w,k]),S=u(y),A=S.find((function(e){return"eventListeners"===e.name}));return!A&&v&&(S=[].concat(S,[A={name:"eventListeners",enabled:!0}])),(0,H.useEffect)((function(){w()}),[E.placement,w]),(0,H.useEffect)((function(){x.current&&f&&x.current.setOptions({placement:p,strategy:m,modifiers:[].concat(S,[C])})}),[m,p,A.enabled,C,f]),(0,H.useEffect)((function(){if(f&&null!=e&&null!=t)return x.current=(0,Sg.createPopper)(e,t,(0,n.default)({},b,{placement:p,strategy:m,modifiers:[].concat(S,[C])})),function(){null!=x.current&&(x.current.destroy(),x.current=void 0,k((function(e){return(0,n.default)({},e,{styles:o,arrowStyles:a})})))}}),[f,e,t]),E};t.default=s}));t(Ag);Ag.toModifierMap,Ag.toModifierArray;var Og=n((function(e,t){t.__esModule=!0,t.default=function(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(16&e.compareDocumentPosition(t))},e.exports=t.default}));t(Og);var Mg=function(){},Dg=n((function(e,t){t.__esModule=!0,t.default=function(e){if(e&&"setState"in e)return n.default.findDOMNode(e);return null!=e?e:null};var n=Lp(zl);e.exports=t.default}));t(Dg);var Pg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(_m),r=Lp(Dg);t.default=function(e){return(0,n.default)((0,r.default)(e))},e.exports=t.default}));t(Pg);var Tg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(Og),r=Lp(Tm),i=Lp(qm),o=Lp(Mg),a=Lp(Pg),u=function(){};var s=function(e){return e&&("current"in e?e.current:e)};var l=function(e,t,l){var c=void 0===l?{}:l,f=c.disabled,d=c.clickTrigger,p=void 0===d?"click":d,h=(0,H.useRef)(!1),m=t||u,g=(0,H.useCallback)((function(t){var r,i=s(e);(0,o.default)(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),h.current=!(i&&(r=t,!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey))&&function(e){return 0===e.button}(t)&&!(0,n.default)(i,t.target))}),[e]),v=(0,i.default)((function(e){h.current||m(e)})),y=(0,i.default)((function(e){27===e.keyCode&&m(e)}));(0,H.useEffect)((function(){if(!f&&null!=e){var t=(0,a.default)(s(e)),n=(0,r.default)(t,p,g,!0),i=(0,r.default)(t,p,v),o=(0,r.default)(t,"keyup",y),l=[];return"ontouchstart"in t.documentElement&&(l=[].slice.call(t.body.children).map((function(e){return(0,r.default)(e,"mousemove",u)}))),function(){n(),i(),o(),l.forEach((function(e){return e()}))}}}),[e,f,p,g,v,y])};t.default=l,e.exports=t.default}));t(Tg);var Fg=n((function(e,t){t.__esModule=!0,t.useDropdownMenu=f,t.default=void 0;var n=Lp(cd),r=Lp(sd),i=Lp(Xd),o=Ip(H),a=Lp(_g),u=Lp(kg),s=Ip(Ag),l=Lp(Tg),c=function(){};function f(e){var t;void 0===e&&(e={});var n=(0,o.useContext)(u.default),i=(0,a.default)(),f=i[0],d=i[1],p=(0,o.useRef)(!1),h=e,m=h.flip,g=h.rootCloseEvent,v=h.popperConfig,y=void 0===v?{}:v,b=h.usePopper,x=void 0===b?!!n:b,w=null==(null==n?void 0:n.show)?e.show:n.show,_=null==(null==n?void 0:n.alignEnd)?e.alignEnd:n.alignEnd;w&&!p.current&&(p.current=!0);var E=function(e){null==n||n.toggle(!1,e)},k=n||{},C=k.drop,S=k.setMenu,A=k.menuElement,O=k.toggleElement,M=_?"bottom-end":"bottom-start";"up"===C?M=_?"top-end":"top-start":"right"===C?M=_?"right-end":"right-start":"left"===C&&(M=_?"left-end":"left-start");var D,P=(0,s.toModifierMap)(y.modifiers),T=(0,s.default)(O,A,(0,r.default)({},y,{placement:M,enabled:!(!x||!w),modifiers:(0,r.default)({},P,{eventListeners:{enabled:!!w},arrow:(0,r.default)({},P.arrow,{enabled:!!f,options:(0,r.default)({},null==(t=P.arrow)?void 0:t.options,{element:f})}),flip:(0,r.default)({enabled:!!m},P.flip)})})),F={ref:S||c,"aria-labelledby":null==O?void 0:O.id},N={show:w,alignEnd:_,hasShown:p.current,close:E};return D=x?(0,r.default)({},T,{},N,{props:(0,r.default)({},F,{style:T.styles}),arrowProps:{ref:d,style:T.arrowStyles}}):(0,r.default)({},N,{props:F}),(0,l.default)(A,E,{clickTrigger:g,disabled:!(D&&w)}),D}var d={children:i.default.func.isRequired,show:i.default.bool,alignEnd:i.default.bool,flip:i.default.bool,usePopper:i.default.oneOf([!0,!1]),popperConfig:i.default.object,rootCloseEvent:i.default.string};function p(e){var t=e.children,r=f((0,n.default)(e,["children"]));return o.default.createElement(o.default.Fragment,null,r.hasShown?t(r):null)}p.displayName="ReactOverlaysDropdownMenu",p.propTypes=d,p.defaultProps={usePopper:!0};var h=p;t.default=h}));t(Fg);Fg.useDropdownMenu;var Ng=n((function(e,t){t.__esModule=!0,t.useDropdownToggle=a,t.default=void 0;var n=Lp(Xd),r=Ip(H),i=Lp(kg),o=function(){};function a(){var e=(0,r.useContext)(i.default)||{},t=e.show,n=void 0!==t&&t,a=e.toggle,u=void 0===a?o:a;return[{ref:e.setToggle||o,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:u}]}var u={children:n.default.func.isRequired};function s(e){var t=e.children,n=a(),i=n[0],o=n[1],u=o.show,s=o.toggle;return r.default.createElement(r.default.Fragment,null,t({show:u,toggle:s,props:i}))}s.displayName="ReactOverlaysDropdownToggle",s.propTypes=u;var l=s;t.default=l}));t(Ng);Ng.useDropdownToggle;var jg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(bg),r=Lp(xg),i=Ip(H),o=Lp(Xd),a=Lp(wg),u=Lp(_g),s=Lp(Eg),l=Lp(qm),c=Lp(kg),f=Lp(Fg),d=Lp(Ng),p={children:o.default.func.isRequired,drop:o.default.oneOf(["up","left","right","down"]),focusFirstItemOnShow:o.default.oneOf([!1,!0,"keyboard"]),itemSelector:o.default.string,alignEnd:o.default.bool,show:o.default.bool,defaultShow:o.default.bool,onToggle:o.default.func};function h(e){var t=e.drop,o=e.alignEnd,f=e.defaultShow,d=e.show,p=e.onToggle,h=e.itemSelector,m=void 0===h?"* > *":h,g=e.focusFirstItemOnShow,v=e.children,y=(0,s.default)(),b=(0,gm.useUncontrolledProp)(d,f,p),x=b[0],w=b[1],_=(0,u.default)(),E=_[0],k=_[1],C=(0,i.useRef)(null),S=C.current,A=(0,i.useCallback)((function(e){C.current=e,y()}),[y]),O=(0,a.default)(x),M=(0,i.useRef)(null),D=(0,i.useRef)(!1),P=(0,i.useCallback)((function(e){w(!x,e)}),[w,x]),T=(0,i.useMemo)((function(){return{toggle:P,drop:t,show:x,alignEnd:o,menuElement:S,toggleElement:E,setMenu:A,setToggle:k}}),[P,t,x,o,S,E,A,k]);S&&O&&!x&&(D.current=S.contains(document.activeElement));var F=(0,l.default)((function(){E&&E.focus&&E.focus()})),N=(0,l.default)((function(){var e=M.current,t=g;if(null==t&&(t=!(!C.current||!(0,n.default)(C.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var i=(0,r.default)(C.current,m)[0];i&&i.focus&&i.focus()}}));(0,i.useEffect)((function(){x?N():D.current&&(D.current=!1,F())}),[x,D,F,N]),(0,i.useEffect)((function(){M.current=null}));var j=function(e,t){if(!C.current)return null;var n=(0,r.default)(C.current,m),i=n.indexOf(e)+t;return n[i=Math.max(0,Math.min(i,n.length))]};return i.default.createElement(c.default.Provider,{value:T},v({props:{onKeyDown:function(e){var t=e.key,n=e.target;if(!/input|textarea/i.test(n.tagName)||!(" "===t||"Escape"!==t&&C.current&&C.current.contains(n)))switch(M.current=e.type,t){case"ArrowUp":var r=j(n,-1);return r&&r.focus&&r.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),x){var i=j(n,1);i&&i.focus&&i.focus()}else P(e);return;case"Escape":case"Tab":w(!1,e)}}}}))}h.displayName="ReactOverlaysDropdown",h.propTypes=p,h.Menu=f.default,h.Toggle=d.default;var m=h;t.default=m,e.exports=t.default}));t(jg);var Rg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(Rg);var Bg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(qm),u=Lp(Xm),s=Ip(bm),l=Lp(Rg),c={as:u.default,disabled:!1},f=o.default.forwardRef((function(e,t){var u=e.bsPrefix,c=e.className,f=e.children,d=e.eventKey,p=e.disabled,h=e.href,m=e.onClick,g=e.onSelect,v=e.active,y=e.as,b=(0,r.default)(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),x=(0,ym.useBootstrapPrefix)(u,"dropdown-item"),w=(0,o.useContext)(s.default),_=((0,o.useContext)(l.default)||{}).activeKey,E=(0,s.makeEventKey)(d,h),k=null==v&&null!=E?(0,s.makeEventKey)(_)===E:v,C=(0,a.default)((function(e){p||(m&&m(e),w&&w(E,e),g&&g(E,e))}));return o.default.createElement(y,(0,n.default)({},b,{ref:t,href:h,disabled:p,className:(0,i.default)(c,x,k&&"active",p&&"disabled"),onClick:C}),f)}));f.displayName="DropdownItem",f.defaultProps=c;var d=f;t.default=d,e.exports=t.default}));t(Bg);var Lg=n((function(e,t){t.__esModule=!0,t.mergeRefs=r,t.default=void 0;var n=function(e){return e&&"function"!=typeof e?function(t){e.current=t}:e};function r(e,t){var r=n(e),i=n(t);return function(e){r&&r(e),i&&i(e)}}var i=function(e,t){return(0,H.useMemo)((function(){return r(e,t)}),[e,t])};t.default=i}));t(Lg);Lg.mergeRefs;var zg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(zg);var Ig=n((function(e,t){t.__esModule=!0,t.default=function(e,t){return e};Lp(fm),Lp(Lg);e.exports=t.default}));t(Ig);var $g=n((function(e,t){t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default}));t($g);var Ug=n((function(e,t){t.__esModule=!0,t.default=function(){var e=(0,H.useRef)(null),t=(0,H.useRef)(null);return[(0,H.useCallback)((function(r){r&&((0,n.default)(r,"popover")||(0,n.default)(r,"dropdown-menu"))&&(t.current=function(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)||0,r=parseFloat(t.marginRight)||0,i=parseFloat(t.marginBottom)||0,o=parseFloat(t.marginLeft)||0;return{top:n,right:r,bottom:i,left:o}}(r),r.style.margin=0,e.current=r)}),[]),[(0,H.useMemo)((function(){return{name:"offset",options:{offset:function(e){var n=e.placement;if(!t.current)return[0,0];var r=t.current,i=r.top,o=r.left,a=r.bottom,u=r.right;switch(n.split("-")[0]){case"top":return[0,a];case"left":return[0,u];case"bottom":return[0,i];case"right":return[0,o];default:return[0,0]}}}}}),[t])]]};var n=Lp($g);e.exports=t.default}));t(Ug);var qg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Lg),u=Lp(zg),s=Lp(Ig),l=Lp(Ug),c=o.default.forwardRef((function(e,t){var c=e.bsPrefix,f=e.className,d=e.alignRight,p=e.rootCloseEvent,h=e.flip,m=e.show,g=e.renderOnMount,v=e.as,y=void 0===v?"div":v,b=e.popperConfig,x=void 0===b?{}:b,w=(0,r.default)(e,["bsPrefix","className","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),_=(0,o.useContext)(u.default),E=(0,ym.useBootstrapPrefix)(c,"dropdown-menu"),k=(0,l.default)(),C=k[0],S=k[1],A=(0,Fg.useDropdownMenu)({flip:h,rootCloseEvent:p,show:m,alignEnd:d,usePopper:!_,popperConfig:(0,n.default)({},x,{modifiers:S.concat(x.modifiers||[])})}),O=A.hasShown,M=A.placement,D=A.show,P=A.alignEnd,T=A.close,F=A.props;if(F.ref=(0,a.default)(C,(0,a.default)((0,s.default)(t,"DropdownMenu"),F.ref)),!O&&!g)return null;"string"!=typeof y&&(F.show=D,F.close=T,F.alignRight=P);var N=w.style;return M&&(N=(0,n.default)({},N,{},F.style),w["x-placement"]=M),o.default.createElement(y,(0,n.default)({},w,F,{style:N,className:(0,i.default)(f,E,D&&"show",P&&E+"-right")}))}));c.displayName="DropdownMenu",c.defaultProps={alignRight:!1,flip:!0};var f=c;t.default=f,e.exports=t.default}));t(qg);var Wg=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,i,o){var a=r||"<<anonymous>>",u=o||n;if(null==t[n])return new Error("The "+i+" `"+u+"` is required to make `"+a+"` accessible for users of assistive technologies such as screen readers.");for(var s=arguments.length,l=Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];return e.apply(void 0,[t,n,r,i,o].concat(l))}},e.exports=t.default}));t(Wg);var Hg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=(Lp(Wg),Lp(H)),a=Lp(Lg),u=Lp(eg),s=Lp(Ig),l=o.default.forwardRef((function(e,t){var l=e.bsPrefix,c=e.split,f=e.className,d=e.children,p=e.childBsPrefix,h=e.as,m=void 0===h?u.default:h,g=(0,r.default)(e,["bsPrefix","split","className","children","childBsPrefix","as"]),v=(0,ym.useBootstrapPrefix)(l,"dropdown-toggle");void 0!==p&&(g.bsPrefix=p);var y=(0,Ng.useDropdownToggle)(),b=y[0],x=y[1].toggle;return b.ref=(0,a.default)(b.ref,(0,s.default)(t,"DropdownToggle")),o.default.createElement(m,(0,n.default)({onClick:x,className:(0,i.default)(f,v,c&&v+"-split")},b,g),d)}));l.displayName="DropdownToggle";var c=l;t.default=c,e.exports=t.default}));t(Hg);var Vg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(jg),u=Lp(qm),s=Lp(Bg),l=Lp(qg),c=Lp(Hg),f=Lp(bm),d=Lp(Hm),p=o.default.forwardRef((function(e,t){var s=(0,gm.useUncontrolled)(e,{show:"onToggle"}),l=s.bsPrefix,c=s.drop,d=s.show,p=s.className,h=s.alignRight,m=s.onSelect,g=s.onToggle,v=s.focusFirstItemOnShow,y=s.as,b=void 0===y?"div":y,x=(s.navbar,(0,r.default)(s,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),w=(0,o.useContext)(f.default),_=(0,ym.useBootstrapPrefix)(l,"dropdown"),E=(0,u.default)((function(e,t,n){void 0===n&&(n=t.type),t.currentTarget===document&&(n="rootClose"),g(e,t,{source:n})})),k=(0,u.default)((function(e,t){w&&w(e,t),m&&m(e,t),E(!1,t,"select")}));return o.default.createElement(f.default.Provider,{value:k},o.default.createElement(a.default,{drop:c,show:d,alignEnd:h,onToggle:E,focusFirstItemOnShow:v,itemSelector:"."+_+"-item:not(.disabled):not(:disabled)"},(function(e){var r=e.props;return o.default.createElement(b,(0,n.default)({},x,r,{ref:t,className:(0,i.default)(p,d&&"show",(!c||"down"===c)&&_,"up"===c&&"dropup","right"===c&&"dropright","left"===c&&"dropleft")}))})))}));p.displayName="Dropdown",p.defaultProps={navbar:!1},p.Toggle=c.default,p.Menu=l.default,p.Item=s.default,p.Header=(0,d.default)("dropdown-header",{defaultProps:{role:"heading"}}),p.Divider=(0,d.default)("dropdown-divider",{defaultProps:{role:"separator"}});var h=p;t.default=h,e.exports=t.default}));t(Vg);var Gg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(Xd),a=Lp(Vg),u={id:o.default.any,href:o.default.string,onClick:o.default.func,title:o.default.node.isRequired,disabled:o.default.bool,menuRole:o.default.string,renderMenuOnMount:o.default.bool,rootCloseEvent:o.default.string,bsPrefix:o.default.string,variant:o.default.string,size:o.default.string},s=i.default.forwardRef((function(e,t){var o=e.title,u=e.children,s=e.bsPrefix,l=e.rootCloseEvent,c=e.variant,f=e.size,d=e.menuRole,p=e.renderMenuOnMount,h=e.disabled,m=e.href,g=e.id,v=(0,r.default)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id"]);return i.default.createElement(a.default,(0,n.default)({ref:t},v),i.default.createElement(a.default.Toggle,{id:g,href:m,size:f,variant:c,disabled:h,childBsPrefix:s},o),i.default.createElement(a.default.Menu,{role:d,renderOnMount:p,rootCloseEvent:l},u))}));s.displayName="DropdownButton",s.propTypes=u;var l=s;t.default=l,e.exports=t.default}));t(Gg);var Yg=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var u=i||"<<anonymous>>",s=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+s+"` was not specified in `"+u+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),f=6;f<l;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,u,o,s].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default}));t(Yg);var Xg=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function i(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,r.default)(i)};var n,r=(n=Yg)&&n.__esModule?n:{default:n};e.exports=t.default}));t(Xg);var Kg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Xd),u={type:a.default.string.isRequired,as:a.default.elementType},s=o.default.forwardRef((function(e,t){var a=e.as,u=void 0===a?"div":a,s=e.className,l=e.type,c=(0,r.default)(e,["as","className","type"]);return o.default.createElement(u,(0,n.default)({},c,{ref:t,className:(0,i.default)(s,l&&l+"-feedback")}))}));s.displayName="Feedback",s.propTypes=u,s.defaultProps={type:"valid"};var l=s;t.default=l,e.exports=t.default}));t(Kg);var Qg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext({controlId:void 0});t.default=n,e.exports=t.default}));t(Qg);var Jg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Qg),u=o.default.forwardRef((function(e,t){var u=e.id,s=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,f=e.isValid,d=e.isInvalid,p=e.isStatic,h=e.as,m=void 0===h?"input":h,g=(0,r.default)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),v=(0,o.useContext)(a.default),y=v.controlId,b=v.custom?[l,"custom-control-input"]:[s,"form-check-input"],x=b[0],w=b[1];return s=(0,ym.useBootstrapPrefix)(x,w),o.default.createElement(m,(0,n.default)({},g,{ref:t,id:u||y,className:(0,i.default)(c,s,f&&"is-valid",d&&"is-invalid",p&&"position-static")}))}));u.displayName="FormCheckInput",u.defaultProps={type:"checkbox"};var s=u;t.default=s,e.exports=t.default}));t(Jg);var Zg=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Qg),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.bsCustomPrefix,l=e.className,c=e.htmlFor,f=(0,r.default)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),d=(0,o.useContext)(a.default),p=d.controlId,h=d.custom?[s,"custom-control-label"]:[u,"form-check-label"],m=h[0],g=h[1];return u=(0,ym.useBootstrapPrefix)(m,g),o.default.createElement("label",(0,n.default)({},f,{ref:t,htmlFor:c||p,className:(0,i.default)(l,u)}))}));u.displayName="FormCheckLabel";var s=u;t.default=s,e.exports=t.default}));t(Zg);var ev=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=(Lp(Xg),Ip(H)),a=Lp(Kg),u=Lp(Jg),s=Lp(Zg),l=Lp(Qg),c=o.default.forwardRef((function(e,t){var c=e.id,f=e.bsPrefix,d=e.bsCustomPrefix,p=e.inline,h=e.disabled,m=e.isValid,g=e.isInvalid,v=e.feedback,y=e.className,b=e.style,x=e.title,w=e.type,_=e.label,E=e.children,k=e.custom,C=e.as,S=void 0===C?"input":C,A=(0,r.default)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),O="switch"===w||k,M=O?[d,"custom-control"]:[f,"form-check"],D=M[0],P=M[1];f=(0,ym.useBootstrapPrefix)(D,P);var T=(0,o.useContext)(l.default).controlId,F=(0,o.useMemo)((function(){return{controlId:c||T,custom:O}}),[T,O,c]),N=null!=_&&!1!==_&&!E,j=o.default.createElement(u.default,(0,n.default)({},A,{type:"switch"===w?"checkbox":w,ref:t,isValid:m,isInvalid:g,isStatic:!N,disabled:h,as:S}));return o.default.createElement(l.default.Provider,{value:F},o.default.createElement("div",{style:b,className:(0,i.default)(y,f,O&&"custom-"+w,p&&f+"-inline")},E||o.default.createElement(o.default.Fragment,null,j,N&&o.default.createElement(s.default,{title:x},_),(m||g)&&o.default.createElement(a.default,{type:m?"valid":"invalid"},v))))}));c.displayName="FormCheck",c.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},c.Input=u.default,c.Label=s.default;var f=c;t.default=f,e.exports=t.default}));t(ev);var tv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Qg),u=o.default.forwardRef((function(e,t){var u=e.id,s=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,f=e.isValid,d=e.isInvalid,p=e.lang,h=e.as,m=void 0===h?"input":h,g=(0,r.default)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),v=(0,o.useContext)(a.default),y=v.controlId,b=v.custom?[l,"custom-file-input"]:[s,"form-control-file"],x=b[0],w=b[1];return s=(0,ym.useBootstrapPrefix)(x,w),o.default.createElement(m,(0,n.default)({},g,{ref:t,id:u||y,type:"file",lang:p,className:(0,i.default)(c,s,f&&"is-valid",d&&"is-invalid")}))}));u.displayName="FormFileInput";var s=u;t.default=s,e.exports=t.default}));t(tv);var nv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Qg),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.bsCustomPrefix,l=e.className,c=e.htmlFor,f=(0,r.default)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),d=(0,o.useContext)(a.default),p=d.controlId,h=d.custom?[s,"custom-file-label"]:[u,"form-file-label"],m=h[0],g=h[1];return u=(0,ym.useBootstrapPrefix)(m,g),o.default.createElement("label",(0,n.default)({},f,{ref:t,htmlFor:c||p,className:(0,i.default)(l,u),"data-browse":f["data-browse"]}))}));u.displayName="FormFileLabel";var s=u;t.default=s,e.exports=t.default}));t(nv);var rv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=(Lp(Xg),Lp(Kg)),u=Lp(tv),s=Lp(nv),l=Lp(Qg),c=o.default.forwardRef((function(e,t){var c=e.id,f=e.bsPrefix,d=e.bsCustomPrefix,p=e.disabled,h=e.isValid,m=e.isInvalid,g=e.feedback,v=e.className,y=e.style,b=e.label,x=e.children,w=e.custom,_=e.lang,E=e["data-browse"],k=e.as,C=void 0===k?"div":k,S=e.inputAs,A=void 0===S?"input":S,O=(0,r.default)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),M=w?[d,"custom"]:[f,"form-file"],D=M[0],P=M[1];f=(0,ym.useBootstrapPrefix)(D,P);var T=(0,o.useContext)(l.default).controlId,F=(0,o.useMemo)((function(){return{controlId:c||T,custom:w}}),[T,w,c]),N=null!=b&&!1!==b&&!x,j=o.default.createElement(u.default,(0,n.default)({},O,{ref:t,isValid:h,isInvalid:m,disabled:p,as:A,lang:_}));return o.default.createElement(l.default.Provider,{value:F},o.default.createElement(C,{style:y,className:(0,i.default)(v,f,w&&"custom-file")},x||o.default.createElement(o.default.Fragment,null,w?o.default.createElement(o.default.Fragment,null,j,N&&o.default.createElement(s.default,{"data-browse":E},b)):o.default.createElement(o.default.Fragment,null,N&&o.default.createElement(s.default,null,b),j),(h||m)&&o.default.createElement(a.default,{type:h?"valid":"invalid"},g))))}));c.displayName="FormFile",c.defaultProps={disabled:!1,isValid:!1,isInvalid:!1},c.Input=u.default,c.Label=s.default;var f=c;t.default=f,e.exports=t.default}));t(rv);var iv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=(Lp(Xg),Ip(H)),a=(Lp(Mg),Lp(Kg)),u=Lp(Qg),s=o.default.forwardRef((function(e,t){var a,s,l=e.bsPrefix,c=e.bsCustomPrefix,f=e.type,d=e.size,p=e.id,h=e.className,m=e.isValid,g=e.isInvalid,v=e.plaintext,y=e.readOnly,b=e.custom,x=e.as,w=void 0===x?"input":x,_=(0,r.default)(e,["bsPrefix","bsCustomPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),E=(0,o.useContext)(u.default).controlId,k=b?[c,"custom"]:[l,"form-control"],C=k[0],S=k[1];if(l=(0,ym.useBootstrapPrefix)(C,S),v)(s={})[l+"-plaintext"]=!0,a=s;else if("file"===f){var A;(A={})[l+"-file"]=!0,a=A}else if("range"===f){var O;(O={})[l+"-range"]=!0,a=O}else if("select"===w&&b){var M;(M={})[l+"-select"]=!0,M[l+"-select-"+d]=d,a=M}else{var D;(D={})[l]=!0,D[l+"-"+d]=d,a=D}return o.default.createElement(w,(0,n.default)({},_,{type:f,ref:t,readOnly:y,id:p||E,className:(0,i.default)(h,a,m&&"is-valid",g&&"is-invalid")}))}));s.displayName="FormControl",s.Feedback=a.default;var l=s;t.default=l,e.exports=t.default}));t(iv);var ov=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Qg),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.className,l=e.children,c=e.controlId,f=e.as,d=void 0===f?"div":f,p=(0,r.default)(e,["bsPrefix","className","children","controlId","as"]);u=(0,ym.useBootstrapPrefix)(u,"form-group");var h=(0,o.useMemo)((function(){return{controlId:c}}),[c]);return o.default.createElement(a.default.Provider,{value:h},o.default.createElement(d,(0,n.default)({},p,{ref:t,className:(0,i.default)(s,u)}),l))}));u.displayName="FormGroup";var s=u;t.default=s,e.exports=t.default}));t(ov);var av=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=(Lp(Mg),Lp(yg)),u=Lp(Qg),s=o.default.forwardRef((function(e,t){var s=e.as,l=void 0===s?"label":s,c=e.bsPrefix,f=e.column,d=e.srOnly,p=e.className,h=e.htmlFor,m=(0,r.default)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),g=(0,o.useContext)(u.default).controlId;c=(0,ym.useBootstrapPrefix)(c,"form-label");var v="col-form-label";"string"==typeof f&&(v=v+"-"+f);var y=(0,i.default)(p,c,d&&"sr-only",f&&v);return h=h||g,f?o.default.createElement(a.default,(0,n.default)({as:"label",className:y,htmlFor:h},m)):o.default.createElement(l,(0,n.default)({ref:t,className:y,htmlFor:h},m))}));s.displayName="FormLabel",s.defaultProps={column:!1,srOnly:!1};var l=s;t.default=l,e.exports=t.default}));t(av);var uv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.as,l=void 0===s?"small":s,c=e.muted,f=(0,r.default)(e,["bsPrefix","className","as","muted"]);return a=(0,ym.useBootstrapPrefix)(a,"form-text"),o.default.createElement(l,(0,n.default)({},f,{ref:t,className:(0,i.default)(u,a,c&&"text-muted")}))}));a.displayName="FormText";var u=a;t.default=u,e.exports=t.default}));t(uv);var sv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(H),i=Lp(ev),o=r.default.forwardRef((function(e,t){return r.default.createElement(i.default,(0,n.default)({},e,{ref:t,type:"switch"}))}));o.displayName="Switch",o.Input=i.default.Input,o.Label=i.default.Label;var a=o;t.default=a,e.exports=t.default}));t(sv);var lv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(ev),u=Lp(rv),s=Lp(iv),l=Lp(ov),c=Lp(av),f=Lp(uv),d=Lp(sv),p=Lp(Hm),h=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.inline,s=e.className,l=e.validated,c=e.as,f=void 0===c?"form":c,d=(0,r.default)(e,["bsPrefix","inline","className","validated","as"]);return a=(0,ym.useBootstrapPrefix)(a,"form"),o.default.createElement(f,(0,n.default)({},d,{ref:t,className:(0,i.default)(s,l&&"was-validated",u&&a+"-inline")}))}));h.displayName="Form",h.defaultProps={inline:!1},h.Row=(0,p.default)("form-row"),h.Group=l.default,h.Control=s.default,h.Check=a.default,h.File=u.default,h.Switch=d.default,h.Label=c.default,h.Text=f.default;var m=h;t.default=m,e.exports=t.default}));t(lv);var cv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.fluid,s=e.as,l=void 0===s?"div":s,c=e.className,f=(0,r.default)(e,["bsPrefix","fluid","as","className"]),d=(0,ym.useBootstrapPrefix)(a,"container"),p="string"==typeof u?"-"+u:"-fluid";return o.default.createElement(l,(0,n.default)({ref:t},f,{className:(0,i.default)(c,u?""+d+p:d)}))}));a.displayName="Container",a.defaultProps={fluid:!1};var u=a;t.default=u,e.exports=t.default}));t(cv);var fv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.fluid,l=e.rounded,c=e.roundedCircle,f=e.thumbnail,d=(0,r.default)(e,["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"]);a=(0,ym.useBootstrapPrefix)(a,"img");var p=(0,i.default)(s&&a+"-fluid",l&&"rounded",c&&"rounded-circle",f&&a+"-thumbnail");return o.default.createElement("img",(0,n.default)({ref:t},d,{className:(0,i.default)(u,p)}))}));a.displayName="Image",a.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var u=a;t.default=u,e.exports=t.default}));t(fv);var dv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(Xd),a=Lp(H),u=Lp(fv),s={bsPrefix:o.default.string,fluid:o.default.bool,rounded:o.default.bool,roundedCircle:o.default.bool,thumbnail:o.default.bool},l=a.default.forwardRef((function(e,t){var o=e.className,s=(0,r.default)(e,["className"]);return a.default.createElement(u.default,(0,n.default)({ref:t},s,{className:(0,i.default)(o,"figure-img")}))}));l.displayName="FigureImage",l.propTypes=s,l.defaultProps={fluid:!0};var c=l;t.default=c,e.exports=t.default}));t(dv);var pv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("figure-caption",{Component:"figcaption"});t.default=n,e.exports=t.default}));t(pv);var hv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(Hm),r=Lp(dv),i=Lp(pv),o=(0,n.default)("figure",{Component:"figure"});o.Image=r.default,o.Caption=i.default;var a=o;t.default=a,e.exports=t.default}));t(hv);var mv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Hm),u=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.size,s=e.className,l=e.as,c=void 0===l?"div":l,f=(0,r.default)(e,["bsPrefix","size","className","as"]);return a=(0,ym.useBootstrapPrefix)(a,"input-group"),o.default.createElement(c,(0,n.default)({ref:t},f,{className:(0,i.default)(s,a,u&&a+"-"+u)}))})),s=(0,a.default)("input-group-append"),l=(0,a.default)("input-group-prepend"),c=(0,a.default)("input-group-text",{Component:"span"});u.displayName="InputGroup",u.Text=c,u.Radio=function(e){return o.default.createElement(c,null,o.default.createElement("input",(0,n.default)({type:"radio"},e)))},u.Checkbox=function(e){return o.default.createElement(c,null,o.default.createElement("input",(0,n.default)({type:"checkbox"},e)))},u.Append=s,u.Prepend=l;var f=u;t.default=f,e.exports=t.default}));t(mv);var gv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(cm),a=i.default.forwardRef((function(e,t){var a,u=e.as,s=void 0===u?"div":u,l=e.className,c=e.fluid,f=e.bsPrefix,d=(0,r.default)(e,["as","className","fluid","bsPrefix"]),p=((a={})[f=(0,ym.useBootstrapPrefix)(f,"jumbotron")]=!0,a[f+"-fluid"]=c,a);return i.default.createElement(s,(0,n.default)({ref:t},d,{className:(0,o.default)(l,p)}))}));a.defaultProps={fluid:!1},a.displayName="Jumbotron";var u=a;t.default=u,e.exports=t.default}));t(gv);var vv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext(null);t.default=n,e.exports=t.default}));t(vv);var yv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(xg),o=Ip(H),a=Lp(Eg),u=Lp(Lg),s=Lp(Rg),l=Ip(bm),c=Lp(vv),f=function(){},d=o.default.forwardRef((function(e,t){var d,p,h=e.as,m=void 0===h?"ul":h,g=e.onSelect,v=e.activeKey,y=e.role,b=e.onKeyDown,x=(0,r.default)(e,["as","onSelect","activeKey","role","onKeyDown"]),w=(0,a.default)(),_=(0,o.useRef)(!1),E=(0,o.useContext)(l.default),k=(0,o.useContext)(c.default);k&&(y=y||"tablist",v=k.activeKey,d=k.getControlledId,p=k.getControllerId);var C=(0,o.useRef)(null),S=function(e){if(!C.current)return null;var t=(0,i.default)(C.current,"[data-rb-event-key]:not(.disabled)"),n=C.current.querySelector(".active"),r=t.indexOf(n);if(-1===r)return null;var o=r+e;return o>=t.length&&(o=0),o<0&&(o=t.length-1),t[o]},A=function(e,t){null!=e&&(g&&g(e,t),E&&E(e,t))};(0,o.useEffect)((function(){if(C.current&&_.current){var e=C.current.querySelector("[data-rb-event-key].active");e&&e.focus()}_.current=!1}));var O=(0,u.default)(t,C);return o.default.createElement(l.default.Provider,{value:A},o.default.createElement(s.default.Provider,{value:{role:y,activeKey:(0,l.makeEventKey)(v),getControlledId:d||f,getControllerId:p||f}},o.default.createElement(m,(0,n.default)({},x,{onKeyDown:function(e){var t;switch(b&&b(e),e.key){case"ArrowLeft":case"ArrowUp":t=S(-1);break;case"ArrowRight":case"ArrowDown":t=S(1);break;default:return}t&&(e.preventDefault(),A(t.dataset.rbEventKey,e),_.current=!0,w())},ref:O,role:y}))))}));t.default=d,e.exports=t.default}));t(yv);var bv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(qm),u=(Lp(Mg),Lp(Rg)),s=Ip(bm),l=o.default.forwardRef((function(e,t){var l=e.active,c=e.className,f=e.tabIndex,d=e.eventKey,p=e.onSelect,h=e.onClick,m=e.as,g=(0,r.default)(e,["active","className","tabIndex","eventKey","onSelect","onClick","as"]),v=(0,s.makeEventKey)(d,g.href),y=(0,o.useContext)(s.default),b=(0,o.useContext)(u.default),x=l;if(b){g.role||"tablist"!==b.role||(g.role="tab");var w=b.getControllerId(v),_=b.getControlledId(v);g["data-rb-event-key"]=v,g.id=w||g.id,g["aria-controls"]=_||g["aria-controls"],x=null==l&&null!=v?b.activeKey===v:l}"tab"===g.role&&(g.tabIndex=x?f:-1,g["aria-selected"]=x);var E=(0,a.default)((function(e){h&&h(e),null!=v&&(p&&p(v,e),y&&y(v,e))}));return o.default.createElement(m,(0,n.default)({},g,{ref:t,onClick:E,className:(0,i.default)(c,x&&"active")}))}));l.defaultProps={disabled:!1};var c=l;t.default=c,e.exports=t.default}));t(bv);var xv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(bv),u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.active,l=e.disabled,c=e.className,f=e.variant,d=e.action,p=e.as,h=e.eventKey,m=e.onClick,g=(0,r.default)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);u=(0,ym.useBootstrapPrefix)(u,"list-group-item");var v=(0,o.useCallback)((function(e){if(l)return e.preventDefault(),void e.stopPropagation();m&&m(e)}),[l,m]);return o.default.createElement(a.default,(0,n.default)({ref:t},g,{eventKey:(0,bm.makeEventKey)(h,g.href),as:p||(d?g.href?"a":"button":"div"),onClick:v,className:(0,i.default)(c,u,s&&"active",l&&"disabled",f&&u+"-"+f,d&&u+"-action")}))}));u.defaultProps={variant:null,active:!1,disabled:!1},u.displayName="ListGroupItem";var s=u;t.default=s,e.exports=t.default}));t(xv);var wv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=(Lp(Mg),Lp(yv)),u=Lp(xv),s=o.default.forwardRef((function(e,t){var u,s=(0,gm.useUncontrolled)(e,{activeKey:"onSelect"}),l=s.className,c=s.bsPrefix,f=s.variant,d=s.horizontal,p=s.as,h=void 0===p?"div":p,m=(0,r.default)(s,["className","bsPrefix","variant","horizontal","as"]);return c=(0,ym.useBootstrapPrefix)(c,"list-group"),u=d?!0===d?"horizontal":"horizontal-"+d:null,o.default.createElement(a.default,(0,n.default)({ref:t},m,{as:h,className:(0,i.default)(l,c,f&&c+"-"+f,u&&c+"-"+u)}))}));s.defaultProps={variant:null,horizontal:null},s.displayName="ListGroup",s.Item=u.default;var l=s;t.default=l,e.exports=t.default}));t(wv);var _v=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Hm),u=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.as,l=void 0===s?"div":s,c=(0,r.default)(e,["bsPrefix","className","as"]),f=(0,ym.useBootstrapPrefix)(a,"media");return o.default.createElement(l,(0,n.default)({},c,{ref:t,className:(0,i.default)(u,f)}))}));u.displayName="Media",u.Body=(0,a.default)("media-body");var s=u;t.default=s,e.exports=t.default}));t(_v);var Ev=n((function(e,t){t.__esModule=!0,t.default=function(e){if((!n&&0!==n||e)&&r.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n};var n,r=Lp(Mm);e.exports=t.default}));t(Ev);var kv=n((function(e,t){t.__esModule=!0,t.default=function(e){void 0===e&&(e=(0,n.default)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(t){return e.body}};var n=Lp(_m);e.exports=t.default}));t(kv);var Cv=n((function(e,t){t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,n.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var n=Lp($g);e.exports=t.default}));t(Cv);var Sv=n((function(e,t){function n(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=n(e.className,t):e.setAttribute("class",n(e.className&&e.className.baseVal||"",t))},e.exports=t.default}));t(Sv);var Av=n((function(e,t){t.__esModule=!0,t.default=function(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE},e.exports=t.default}));t(Av);var Ov=n((function(e,t){t.__esModule=!0,t.default=function(e){return"window"in e&&e.window===e?e:(0,n.default)(e)&&e.defaultView||!1};var n=Lp(Av);e.exports=t.default}));t(Ov);var Mv=n((function(e,t){t.__esModule=!0,t.default=function(e){return(0,n.default)(e)||(t=e,t&&"body"===t.tagName.toLowerCase())?function(e){var t=(0,n.default)(e)?(0,r.default)():(0,r.default)(e),i=(0,n.default)(e)||t.defaultView;return t.body.clientWidth<i.innerWidth}(e):e.scrollHeight>e.clientHeight;var t};var n=Lp(Ov),r=Lp(_m);e.exports=t.default}));t(Mv);var Dv=n((function(e,t){t.__esModule=!0,t.ariaHidden=i,t.hideSiblings=function(e,t){var n=t.dialog,o=t.backdrop;r(e,[n,o],(function(e){return i(!0,e)}))},t.showSiblings=function(e,t){var n=t.dialog,o=t.backdrop;r(e,[n,o],(function(e){return i(!1,e)}))};var n=["template","script","style"],r=function(e,t,r){[].forEach.call(e.children,(function(e){var i,o,a;-1===t.indexOf(e)&&(o=(i=e).nodeType,a=i.tagName,1===o&&-1===n.indexOf(a.toLowerCase()))&&r(e)}))};function i(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}}));t(Dv);Dv.ariaHidden,Dv.hideSiblings,Dv.showSiblings;var Pv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(Cv),r=Lp(Sv),i=Lp(Om),o=Lp(Ev),a=Lp(Mv);var u=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,a=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=(0,o.default)()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,i.default)(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),(0,i.default)(t,n)},t.removeContainerStyle=function(e,t){var n=e.style;Object.keys(n).forEach((function(e){t.style[e]=n[e]}))},t.add=function(e,t,r){var i=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&(0,Dv.hideSiblings)(t,e),-1!==o)return this.data[o].modals.push(e),i;var u={modals:[e],classes:r?r.split(/\s+/):[],overflowing:(0,a.default)(t)};return this.handleContainerOverflow&&this.setContainerStyle(u,t),u.classes.forEach(n.default.bind(null,t)),this.containers.push(t),this.data.push(u),i},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),i=this.data[n],o=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.classes.forEach(r.default.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(i,o),this.hideSiblingNodes&&(0,Dv.showSiblings)(o,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var a=i.modals[i.modals.length-1],u=a.backdrop,s=a.dialog;(0,Dv.ariaHidden)(!1,s),(0,Dv.ariaHidden)(!1,u)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();t.default=u,e.exports=t.default}));t(Pv);var Tv=n((function(e,t){t.__esModule=!0,t.default=function(e,t){var n=(0,H.useState)((function(){return r(e)})),i=n[0],o=n[1];if(!i){var a=r(e);a&&o(a)}return(0,H.useEffect)((function(){t&&i&&t(i)}),[t,i]),(0,H.useEffect)((function(){var t=r(e);t!==i&&o(t)}),[e,i]),i},t.resolveContainerRef=void 0;var n=Lp(_m),r=function(e){var t;return"undefined"==typeof document?null:null==e?(0,n.default)().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};t.resolveContainerRef=r}));t(Tv);Tv.resolveContainerRef;var Fv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=Lp(sd),i=Lp(cd),o=Lp(kv),a=Lp(Og),u=Lp(Mm),s=Lp(Tm),l=Lp(Xd),c=Ip(H),f=Lp(zl),d=Lp(cg),p=Lp(dg),h=Lp(wg),m=Lp(qm),g=Lp(Pv),v=Lp(Tv);function y(e){var t=e||(n||(n=new g.default),n),r=(0,c.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,n){return t.add(r.current,e,n)},remove:function(){return t.remove(r.current)},isTopModal:function(){return t.isTopModal(r.current)},setDialogRef:(0,c.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,c.useCallback)((function(e){r.current.backdrop=e}),[])})}var b=(0,c.forwardRef)((function(e,t){var n=e.show,l=void 0!==n&&n,g=e.role,b=void 0===g?"dialog":g,x=e.className,w=e.style,_=e.children,E=e.backdrop,k=void 0===E||E,C=e.keyboard,S=void 0===C||C,A=e.onBackdropClick,O=e.onEscapeKeyDown,M=e.transition,D=e.backdropTransition,P=e.autoFocus,T=void 0===P||P,F=e.enforceFocus,N=void 0===F||F,j=e.restoreFocus,R=void 0===j||j,B=e.restoreFocusOptions,L=e.renderDialog,z=e.renderBackdrop,I=void 0===z?function(e){return c.default.createElement("div",e)}:z,$=e.manager,U=e.container,q=e.containerClassName,W=e.onShow,H=e.onHide,V=void 0===H?function(){}:H,G=e.onExit,Y=e.onExited,X=e.onExiting,K=e.onEnter,Q=e.onEntering,J=e.onEntered,Z=(0,i.default)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),ee=(0,v.default)(U),te=y($),ne=(0,d.default)(),re=(0,h.default)(l),ie=(0,c.useState)(!l),oe=ie[0],ae=ie[1],ue=(0,c.useRef)(null);(0,c.useImperativeHandle)(t,(function(){return te}),[te]),u.default&&!re&&l&&(ue.current=(0,o.default)()),M||l||oe?l&&oe&&ae(!1):ae(!0);var se=(0,m.default)((function(){if(te.add(ee,q),he.current=(0,s.default)(document,"keydown",de),pe.current=(0,s.default)(document,"focus",(function(){return setTimeout(ce)}),!0),W&&W(),T){var e=(0,o.default)(document);te.dialog&&e&&!(0,a.default)(te.dialog,e)&&(ue.current=e,te.dialog.focus())}})),le=(0,m.default)((function(){var e;(te.remove(),null==he.current||he.current(),null==pe.current||pe.current(),R)&&(null==(e=ue.current)||null==e.focus||e.focus(B),ue.current=null)}));(0,c.useEffect)((function(){l&&ee&&se()}),[l,ee,se]),(0,c.useEffect)((function(){oe&&le()}),[oe,le]),(0,p.default)((function(){le()}));var ce=(0,m.default)((function(){if(N&&ne()&&te.isTopModal()){var e=(0,o.default)();te.dialog&&e&&!(0,a.default)(te.dialog,e)&&te.dialog.focus()}})),fe=(0,m.default)((function(e){e.target===e.currentTarget&&(null==A||A(e),!0===k&&V())})),de=function(e){S&&27===e.keyCode&&te.isTopModal()&&(null==O||O(e),V())},pe=(0,c.useRef)(),he=(0,c.useRef)(),me=M;if(!ee||!(l||me&&!oe))return null;var ge=(0,r.default)({role:b,ref:te.setDialogRef,"aria-modal":"dialog"===b||void 0},Z,{style:w,className:x,tabIndex:-1}),ve=L?L(ge):c.default.createElement("div",ge,c.default.cloneElement(_,{role:"document"}));me&&(ve=c.default.createElement(me,{appear:!0,unmountOnExit:!0,in:!!l,onExit:G,onExiting:X,onExited:function(){ae(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==Y||Y.apply(void 0,t)},onEnter:K,onEntering:Q,onEntered:J},ve));var ye=null;if(k){var be=D;ye=I({ref:te.setBackdropRef,onClick:fe}),be&&(ye=c.default.createElement(be,{appear:!0,in:!!l},ye))}return c.default.createElement(c.default.Fragment,null,f.default.createPortal(c.default.createElement(c.default.Fragment,null,ye,ve),ee))})),x={show:l.default.bool,container:l.default.any,onShow:l.default.func,onHide:l.default.func,backdrop:l.default.oneOfType([l.default.bool,l.default.oneOf(["static"])]),renderDialog:l.default.func,renderBackdrop:l.default.func,onEscapeKeyDown:l.default.func,onBackdropClick:l.default.func,containerClassName:l.default.string,keyboard:l.default.bool,transition:l.default.elementType,backdropTransition:l.default.elementType,autoFocus:l.default.bool,enforceFocus:l.default.bool,restoreFocus:l.default.bool,restoreFocusOptions:l.default.shape({preventScroll:l.default.bool}),onEnter:l.default.func,onEntering:l.default.func,onEntered:l.default.func,onExit:l.default.func,onExiting:l.default.func,onExited:l.default.func,manager:l.default.instanceOf(g.default)};b.displayName="Modal",b.propTypes=x;var w=Object.assign(b,{Manager:g.default});t.default=w,e.exports=t.default}));t(Fv);var Nv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(ld),r=Lp(Om),i=Lp(xg),o=Lp(Ev),a=Lp(Pv),u=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s=".sticky-top",l=".navbar-toggler",c=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).adjustAndStore=function(e,t,n){var i,o=t.style[e];t.dataset[e]=o,(0,r.default)(t,((i={})[e]=parseFloat((0,r.default)(t,e))+n+"px",i))},t.restore=function(e,t){var n,i=t.dataset[e];void 0!==i&&(delete t.dataset[e],(0,r.default)(t,((n={})[e]=i,n)))},t}(0,n.default)(t,e);var a=t.prototype;return a.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var a=(0,o.default)();(0,i.default)(n,u).forEach((function(e){return r.adjustAndStore("paddingRight",e,a)})),(0,i.default)(n,s).forEach((function(e){return r.adjustAndStore("margingRight",e,-a)})),(0,i.default)(n,l).forEach((function(e){return r.adjustAndStore("margingRight",e,a)}))}},a.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),(0,i.default)(n,u).forEach((function(e){return r.restore("paddingRight",e)})),(0,i.default)(n,s).forEach((function(e){return r.restore("margingRight",e)})),(0,i.default)(n,l).forEach((function(e){return r.restore("margingRight",e)}))},t}(a.default);t.default=c,e.exports=t.default}));t(Nv);var jv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("modal-body");t.default=n,e.exports=t.default}));t(jv);var Rv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext({onHide:function(){}});t.default=n,e.exports=t.default}));t(Rv);var Bv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.centered,l=e.size,c=e.children,f=e.scrollable,d=(0,r.default)(e,["bsPrefix","className","centered","size","children","scrollable"]),p=(a=(0,ym.useBootstrapPrefix)(a,"modal"))+"-dialog";return o.default.createElement("div",(0,n.default)({},d,{ref:t,className:(0,i.default)(p,u,l&&a+"-"+l,s&&p+"-centered",f&&p+"-scrollable")}),o.default.createElement("div",{className:a+"-content"},c))}));a.displayName="ModalDialog";var u=a;t.default=u,e.exports=t.default}));t(Bv);var Lv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("modal-footer");t.default=n,e.exports=t.default}));t(Lv);var zv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(qm),u=Lp(Ym),s=Lp(Rv),l=o.default.forwardRef((function(e,t){var l=e.bsPrefix,c=e.closeLabel,f=e.closeButton,d=e.onHide,p=e.className,h=e.children,m=(0,r.default)(e,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);l=(0,ym.useBootstrapPrefix)(l,"modal-header");var g=(0,o.useContext)(s.default),v=(0,a.default)((function(){g&&g.onHide(),d&&d()}));return o.default.createElement("div",(0,n.default)({ref:t},m,{className:(0,i.default)(p,l)}),h,f&&o.default.createElement(u.default,{label:c,onClick:v}))}));l.displayName="ModalHeader",l.defaultProps={closeLabel:"Close",closeButton:!1};var c=l;t.default=c,e.exports=t.default}));t(zv);var Iv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(Hm),r=(0,Lp(Vm).default)("h4"),i=(0,n.default)("modal-title",{Component:r});t.default=i,e.exports=t.default}));t(Iv);var $v=n((function(e,t){t.__esModule=!0,t.default=void 0;var n,r=Lp(cd),i=Lp(sd),o=Lp(ld),a=Lp(cm),u=Lp(Dm),s=Lp(Mm),l=Lp(_m),c=Lp(Pm),f=Lp(Ev),d=Lp(H),p=Lp(Fv),h=Lp(Nv),m=Lp(Gm),g=Lp(jv),v=Lp(Rv),y=Lp(Bv),b=Lp(Lv),x=Lp(zv),w=Lp(Iv),_={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:y.default};function E(e){return d.default.createElement(m.default,e)}function k(e){return d.default.createElement(m.default,e)}var C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).state={style:{}},t.modalContext={onHide:function(){return t.props.onHide()}},t.setModalRef=function(e){t._modal=e},t.handleDialogMouseDown=function(){t._waitingForMouseUp=!0},t.handleMouseUp=function(e){t._waitingForMouseUp&&e.target===t._modal.dialog&&(t._ignoreBackdropClick=!0),t._waitingForMouseUp=!1},t.handleClick=function(e){t._ignoreBackdropClick||e.target!==e.currentTarget?t._ignoreBackdropClick=!1:t.props.onHide()},t.handleEnter=function(e){var n;e&&(e.style.display="block",t.updateDialogStyle(e));for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.props.onEnter&&(n=t.props).onEnter.apply(n,[e].concat(i))},t.handleEntering=function(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.props.onEntering&&(n=t.props).onEntering.apply(n,[e].concat(i)),(0,u.default)(window,"resize",t.handleWindowResize)},t.handleExited=function(e){var n;e&&(e.style.display="");for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t.props.onExited&&(n=t.props).onExited.apply(n,i),(0,c.default)(window,"resize",t.handleWindowResize)},t.handleWindowResize=function(){t.updateDialogStyle(t._modal.dialog)},t.getModalManager=function(){return t.props.manager?t.props.manager:(n||(n=new h.default),n)},t.renderBackdrop=function(e){var n=t.props,r=n.bsPrefix,o=n.backdropClassName,u=n.animation;return d.default.createElement("div",(0,i.default)({},e,{className:(0,a.default)(r+"-backdrop",o,!u&&"show")}))},t}(0,o.default)(t,e);var m=t.prototype;return m.componentWillUnmount=function(){(0,c.default)(window,"resize",this.handleWindowResize)},m.updateDialogStyle=function(e){if(s.default){var t=this.getModalManager().isContainerOverflowing(this._modal),n=e.scrollHeight>(0,l.default)(e).documentElement.clientHeight;this.setState({style:{paddingRight:t&&!n?(0,f.default)():void 0,paddingLeft:!t&&n?(0,f.default)():void 0}})}},m.render=function(){var e=this.props,t=e.bsPrefix,n=e.className,o=e.style,u=e.dialogClassName,s=e.children,l=e.dialogAs,c=e["aria-labelledby"],f=e.show,h=e.animation,m=e.backdrop,g=e.keyboard,y=e.onEscapeKeyDown,b=e.onShow,x=e.onHide,w=e.container,_=e.autoFocus,C=e.enforceFocus,S=e.restoreFocus,A=e.restoreFocusOptions,O=e.onEntered,M=e.onExit,D=e.onExiting,P=(e.onExited,e.onEntering,e.onEnter,e.onEntering,e.backdropClassName,(0,r.default)(e,["bsPrefix","className","style","dialogClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onExited","onEntering","onEnter","onEntering","backdropClassName"])),T=!0===m?this.handleClick:null,F=(0,i.default)({},o,{},this.state.style);return h||(F.display="block"),d.default.createElement(v.default.Provider,{value:this.modalContext},d.default.createElement(p.default,{show:f,backdrop:m,container:w,keyboard:g,autoFocus:_,enforceFocus:C,restoreFocus:S,restoreFocusOptions:A,onEscapeKeyDown:y,onShow:b,onHide:x,onEntered:O,onExit:M,onExiting:D,manager:this.getModalManager(),ref:this.setModalRef,style:F,className:(0,a.default)(n,t),containerClassName:t+"-open",transition:h?E:void 0,backdropTransition:h?k:void 0,renderBackdrop:this.renderBackdrop,onClick:T,onMouseUp:this.handleMouseUp,onEnter:this.handleEnter,onEntering:this.handleEntering,onExited:this.handleExited,"aria-labelledby":c},d.default.createElement(l,(0,i.default)({},P,{onMouseDown:this.handleDialogMouseDown,className:u}),s)))},t}(d.default.Component);C.defaultProps=_;var S=(0,ym.createBootstrapComponent)(C,"modal");S.Body=g.default,S.Header=x.default,S.Title=w.default,S.Footer=b.default,S.Dialog=y.default,S.TRANSITION_DURATION=300,S.BACKDROP_TRANSITION_DURATION=150;var A=S;t.default=A,e.exports=t.default}));t($v);var Uv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.children,l=e.as,c=void 0===l?"div":l,f=(0,r.default)(e,["bsPrefix","className","children","as"]);return a=(0,ym.useBootstrapPrefix)(a,"nav-item"),o.default.createElement(c,(0,n.default)({},f,{ref:t,className:(0,i.default)(u,a)}),s)}));a.displayName="NavItem";var u=a;t.default=u,e.exports=t.default}));t(Uv);var qv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Lp(Xm),u=Lp(bv),s={disabled:!1,as:a.default},l=o.default.forwardRef((function(e,t){var a=e.bsPrefix,s=e.disabled,l=e.className,c=e.href,f=e.eventKey,d=e.onSelect,p=e.as,h=(0,r.default)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return a=(0,ym.useBootstrapPrefix)(a,"nav-link"),o.default.createElement(u.default,(0,n.default)({},h,{href:c,ref:t,eventKey:f,as:p,disabled:s,onSelect:d,className:(0,i.default)(l,a,s&&"disabled")}))}));l.displayName="NavLink",l.defaultProps=s;var c=l;t.default=c,e.exports=t.default}));t(qv);var Wv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=(Lp(Xg),Ip(H)),a=Lp(zg),u=Lp(rg),s=Lp(yv),l=Lp(Uv),c=Lp(qv),f=o.default.forwardRef((function(e,t){var l,c,f,d=(0,gm.useUncontrolled)(e,{activeKey:"onSelect"}),p=d.as,h=void 0===p?"div":p,m=d.bsPrefix,g=d.variant,v=d.fill,y=d.justify,b=d.navbar,x=d.className,w=d.children,_=d.activeKey,E=(0,r.default)(d,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]);m=(0,ym.useBootstrapPrefix)(m,"nav");var k=(0,o.useContext)(a.default),C=(0,o.useContext)(u.default);return k?(c=k.bsPrefix,b=null==b||b):C&&(f=C.cardHeaderBsPrefix),o.default.createElement(s.default,(0,n.default)({as:h,ref:t,activeKey:_,className:(0,i.default)(x,(l={},l[m]=!b,l[c+"-nav"]=b,l[f+"-"+g]=!!f,l[m+"-"+g]=!!g,l[m+"-fill"]=v,l[m+"-justified"]=y,l))},E),w)}));f.displayName="Nav",f.defaultProps={justify:!1,fill:!1},f.Item=l.default,f.Link=c.default;var d=f;t.default=d,e.exports=t.default}));t(Wv);var Hv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.as,l=(0,r.default)(e,["bsPrefix","className","as"]);a=(0,ym.useBootstrapPrefix)(a,"navbar-brand");var c=s||(l.href?"a":"span");return o.default.createElement(c,(0,n.default)({},l,{ref:t,className:(0,i.default)(u,a)}))}));a.displayName="NavbarBrand";var u=a;t.default=u,e.exports=t.default}));t(Hv);var Vv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(zm),a=Lp(zg),u=i.default.forwardRef((function(e,t){var u=e.children,s=e.bsPrefix,l=(0,r.default)(e,["children","bsPrefix"]);return s=(0,ym.useBootstrapPrefix)(s,"navbar-collapse"),i.default.createElement(a.default.Consumer,null,(function(e){return i.default.createElement(o.default,(0,n.default)({in:!(!e||!e.expanded)},l),i.default.createElement("div",{ref:t,className:s},u))}))}));u.displayName="NavbarCollapse";var s=u;t.default=s,e.exports=t.default}));t(Vv);var Gv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(qm),u=Lp(zg),s=o.default.forwardRef((function(e,t){var s=e.bsPrefix,l=e.className,c=e.children,f=e.label,d=e.as,p=void 0===d?"button":d,h=e.onClick,m=(0,r.default)(e,["bsPrefix","className","children","label","as","onClick"]);s=(0,ym.useBootstrapPrefix)(s,"navbar-toggler");var g=(0,o.useContext)(u.default)||{},v=g.onToggle,y=g.expanded,b=(0,a.default)((function(e){h&&h(e),v&&v()}));return"button"===p&&(m.type="button"),o.default.createElement(p,(0,n.default)({},m,{ref:t,onClick:b,"aria-label":f,className:(0,i.default)(l,s,!y&&"collapsed")}),c||o.default.createElement("span",{className:s+"-icon"}))}));s.displayName="NavbarToggle",s.defaultProps={label:"Toggle navigation"};var l=s;t.default=l,e.exports=t.default}));t(Gv);var Yv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(Hm),u=Lp(Hv),s=Lp(Vv),l=Lp(Gv),c=Lp(zg),f=Lp(bm),d=o.default.forwardRef((function(e,t){var a=(0,gm.useUncontrolled)(e,{expanded:"onToggle"}),u=a.bsPrefix,s=a.expand,l=a.variant,d=a.bg,p=a.fixed,h=a.sticky,m=a.className,g=a.children,v=a.as,y=void 0===v?"nav":v,b=a.expanded,x=a.onToggle,w=a.onSelect,_=a.collapseOnSelect,E=(0,r.default)(a,["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"]);u=(0,ym.useBootstrapPrefix)(u,"navbar");var k=(0,o.useCallback)((function(){w&&w.apply(void 0,arguments),_&&b&&x(!1)}),[w,_,b,x]);void 0===E.role&&"nav"!==y&&(E.role="navigation");var C=u+"-expand";"string"==typeof s&&(C=C+"-"+s);var S=(0,o.useMemo)((function(){return{onToggle:function(){return x(!b)},bsPrefix:u,expanded:b}}),[u,b,x]);return o.default.createElement(c.default.Provider,{value:S},o.default.createElement(f.default.Provider,{value:k},o.default.createElement(y,(0,n.default)({ref:t},E,{className:(0,i.default)(m,u,s&&C,l&&u+"-"+l,d&&"bg-"+d,h&&"sticky-"+h,p&&"fixed-"+p)}),g)))}));d.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},d.displayName="Navbar",d.Brand=u.default,d.Toggle=l.default,d.Collapse=s.default,d.Text=(0,a.default)("navbar-text",{Component:"span"});var p=d;t.default=p,e.exports=t.default}));t(Yv);var Xv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(Xd),a=Lp(Vg),u=Lp(Uv),s=Lp(qv),l={id:o.default.any,onClick:o.default.func,title:o.default.node.isRequired,disabled:o.default.bool,active:o.default.bool,menuRole:o.default.string,renderMenuOnMount:o.default.bool,rootCloseEvent:o.default.string,bsPrefix:o.default.string},c=i.default.forwardRef((function(e,t){var o=e.id,l=e.title,c=e.children,f=e.bsPrefix,d=e.rootCloseEvent,p=e.menuRole,h=e.disabled,m=e.active,g=e.renderMenuOnMount,v=(0,r.default)(e,["id","title","children","bsPrefix","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount"]);return i.default.createElement(a.default,(0,n.default)({ref:t},v,{as:u.default}),i.default.createElement(a.default.Toggle,{id:o,eventKey:null,active:m,disabled:h,childBsPrefix:f,as:s.default},l),i.default.createElement(a.default.Menu,{role:p,renderOnMount:g,rootCloseEvent:d},c))}));c.displayName="NavDropdown",c.propTypes=l,c.Item=a.default.Item,c.Divider=a.default.Divider,c.Header=a.default.Header;var f=c;t.default=f,e.exports=t.default}));t(Xv);var Kv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(Xd),o=Ip(H),a=Lp(zl),u=Lp(_g),s=Lp(Lg),l=Ip(Ag),c=Lp(Tg),f=Lp(Tv),d=o.default.forwardRef((function(e,t){var i,d,p=e.flip,h=e.placement,m=e.containerPadding,g=void 0===m?5:m,v=e.popperConfig,y=void 0===v?{}:v,b=e.transition,x=(0,u.default)(),w=x[0],_=x[1],E=(0,u.default)(),k=E[0],C=E[1],S=(0,s.default)(_,t),A=(0,f.default)(e.container),O=(0,f.default)(e.target),M=(0,o.useState)(!e.show),D=M[0],P=M[1],T=(0,l.toModifierMap)(y.modifiers),F=(0,l.default)(O,w,(0,n.default)({},y,{placement:h||"bottom",modifiers:(0,n.default)({},T,{eventListeners:{enabled:!!e.show},preventOverflow:(0,n.default)({},T.preventOverflow,{options:(0,n.default)({padding:g||5},null==(i=T.preventOverflow)?void 0:i.options)}),arrow:(0,n.default)({},T.arrow,{enabled:!!k,options:(0,n.default)({},null==(d=T.arrow)?void 0:d.options,{element:k})}),flip:(0,n.default)({enabled:!!p},T.flip)})})),N=F.styles,j=F.arrowStyles,R=(0,r.default)(F,["styles","arrowStyles"]);e.show?D&&P(!1):e.transition||D||P(!0);var B=e.show||b&&!D;if((0,c.default)(w,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!B)return null;var L=e.children((0,n.default)({},R,{show:!!e.show,props:{style:N,ref:S},arrowProps:{style:j,ref:C}}));if(b){var z=e.onExit,I=e.onExiting,$=e.onEnter,U=e.onEntering,q=e.onEntered;L=o.default.createElement(b,{in:e.show,appear:!0,onExit:z,onExiting:I,onExited:function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:$,onEntering:U,onEntered:q},L)}return A?a.default.createPortal(L,A):null}));d.displayName="Overlay",d.propTypes={show:i.default.bool,placement:i.default.oneOf(Sg.placements),target:i.default.any,container:i.default.any,flip:i.default.bool,children:i.default.func.isRequired,containerPadding:i.default.number,popperConfig:i.default.object,rootClose:i.default.bool,rootCloseEvent:i.default.oneOf(["click","mousedown"]),rootCloseDisabled:i.default.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return e.rootClose?(o=i.default.func).isRequired.apply(o,[e].concat(n)):i.default.func.apply(i.default,[e].concat(n))},transition:i.default.elementType,onEnter:i.default.func,onEntering:i.default.func,onEntered:i.default.func,onExit:i.default.func,onExiting:i.default.func,onExited:i.default.func};var p=d;t.default=p,e.exports=t.default}));t(Kv);var Qv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Ip(H),o=Lp(cm),a=Lp(Kv),u=Lp(Dg),s=Lp(Ug),l=Lp(Gm),c={transition:l.default,rootClose:!1,show:!1,placement:"top"};function f(e){var t=e.children,c=e.transition,f=e.popperConfig,d=void 0===f?{}:f,p=(0,r.default)(e,["children","transition","popperConfig"]),h=(0,i.useRef)({}),m=(0,s.default)(),g=m[0],v=m[1];return c=!0===c?l.default:c||null,i.default.createElement(a.default,(0,n.default)({},p,{ref:g,popperConfig:(0,n.default)({},d,{modifiers:v.concat(d.modifiers||[])}),transition:c}),(function(e){var a=e.props,s=e.arrowProps,l=e.show,f=e.state,d=e.scheduleUpdate,p=e.placement,m=e.outOfBoundaries,g=(0,r.default)(e,["props","arrowProps","show","state","scheduleUpdate","placement","outOfBoundaries"]);!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n((0,u.default)(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r((0,u.default)(e))})}(a,s);var v=Object.assign(h.current,{state:f,scheduleUpdate:d,placement:p,outOfBoundaries:m});return"function"==typeof t?t((0,n.default)({},g,{},a,{placement:p,show:l,popper:v,arrowProps:s})):i.default.cloneElement(t,(0,n.default)({},g,{},a,{placement:p,arrowProps:s,popper:v,className:(0,o.default)(t.props.className,!c&&l&&"show"),style:(0,n.default)({},t.props.style,{},a.style)}))}))}f.defaultProps=c;var d=f;t.default=d,e.exports=t.default}));t(Qv);var Jv=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(ld),o=Lp(Og),a=Ip(H),u=Lp(pg),s=Lp(Dg),l=(Lp(Mg),Lp(Qv)),c=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.default)(t,e),t.prototype.render=function(){return this.props.children},t}(a.default.Component);function f(e,t,n){var r=t.currentTarget,i=t.relatedTarget||t.nativeEvent[n];i&&i===r||(0,o.default)(r,i)||e(t)}function d(e){var t=e.trigger,i=e.overlay,o=e.children,d=e.popperConfig,p=void 0===d?{}:d,h=e.defaultShow,m=e.delay,g=e.placement,v=e.flip,y=void 0===v?g&&-1!==g.indexOf("auto"):v,b=(0,r.default)(e,["trigger","overlay","children","popperConfig","defaultShow","delay","placement","flip"]),x=(0,a.useRef)(null),w=(0,u.default)(),_=(0,a.useRef)(),E=(0,a.useState)(!!h),k=E[0],C=E[1],S=function(e){return e&&"object"==typeof e?e:{show:e,hide:e}}(m),A=a.default.Children.only(o),O=A.props,M=O.onFocus,D=O.onBlur,P=O.onClick,T=(0,a.useCallback)((function(){return(0,s.default)(x.current)}),[]),F=(0,a.useCallback)((function(){w.clear(),_.current="show",S.show?w.set((function(){"show"===_.current&&C(!0)}),S.show):C(!0)}),[S.show,w]),N=(0,a.useCallback)((function(){w.clear(),_.current="hide",S.hide?w.set((function(){"hide"===_.current&&C(!1)}),S.hide):C(!1)}),[S.hide,w]),j=(0,a.useCallback)((function(e){F(e),M&&M(e)}),[F,M]),R=(0,a.useCallback)((function(e){N(e),D&&D(e)}),[N,D]),B=(0,a.useCallback)((function(e){C((function(e){return!e})),P&&P(e)}),[P]),L=(0,a.useCallback)((function(e){f(F,e,"fromElement")}),[F]),z=(0,a.useCallback)((function(e){f(N,e,"toElement")}),[N]),I={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){t.elements.reference.removeAttribute("aria-describedby")}},fn:function(e){var t=e.state.elements,n=t.popper,r=t.reference;if(k&&r){var i=n.getAttribute("role")||"";n.id&&"tooltip"===i.toLowerCase()&&r.setAttribute("aria-describedby",n.id)}}},$=null==t?[]:[].concat(t),U={};return-1!==$.indexOf("click")&&(U.onClick=B),-1!==$.indexOf("focus")&&(U.onFocus=j,U.onBlur=R),-1!==$.indexOf("hover")&&(U.onMouseOver=L,U.onMouseOut=z),a.default.createElement(a.default.Fragment,null,a.default.createElement(c,{ref:x},(0,a.cloneElement)(A,U)),a.default.createElement(l.default,(0,n.default)({},b,{popperConfig:(0,n.default)({},p,{modifiers:[I].concat(p.modifiers||[])}),show:k,onHide:N,target:T,placement:g,flip:y}),i))}d.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var p=d;t.default=p,e.exports=t.default}));t(Jv);var Zv=n((function(e,t){t.__esModule=!0,t.Last=t.Next=t.Ellipsis=t.Prev=t.First=t.default=void 0;var n=Lp(ld),r=Lp(sd),i=Lp(cd),o=Lp(cm),a=Lp(H),u=Lp(Xm),s=a.default.forwardRef((function(e,t){var n=e.active,s=e.disabled,l=e.className,c=e.style,f=e.activeLabel,d=e.children,p=(0,i.default)(e,["active","disabled","className","style","activeLabel","children"]),h=n||s?"span":u.default;return a.default.createElement("li",{ref:t,style:c,className:(0,o.default)(l,"page-item",{active:n,disabled:s})},a.default.createElement(h,(0,r.default)({className:"page-link",disabled:s},p),d,n&&f&&a.default.createElement("span",{className:"sr-only"},f)))}));s.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},s.displayName="PageItem";var l=s;function c(e,t,r){var o,u;return void 0===r&&(r=e),u=o=function(e){function o(){return e.apply(this,arguments)||this}return(0,n.default)(o,e),o.prototype.render=function(){var e=this.props,n=e.children,o=(0,i.default)(e,["children"]);return delete o.active,a.default.createElement(s,o,a.default.createElement("span",{"aria-hidden":"true"},n||t),a.default.createElement("span",{className:"sr-only"},r))},o}(a.default.Component),o.displayName=e,u}t.default=l;var f=c("First","");t.First=f;var d=c("Prev","","Previous");t.Prev=d;var p=c("Ellipsis","","More");t.Ellipsis=p;var h=c("Next","");t.Next=h;var m=c("Last","");t.Last=m}));t(Zv);Zv.Last,Zv.Next,Zv.Ellipsis,Zv.Prev,Zv.First;var ey=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=Ip(Zv),u=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.children,l=e.size,c=(0,r.default)(e,["bsPrefix","className","children","size"]),f=(0,ym.useBootstrapPrefix)(a,"pagination");return o.default.createElement("ul",(0,n.default)({ref:t},c,{className:(0,i.default)(u,f,l&&f+"-"+l)}),s)}));u.First=a.First,u.Prev=a.Prev,u.Ellipsis=a.Ellipsis,u.Item=a.default,u.Next=a.Next,u.Last=a.Last;var s=u;t.default=s,e.exports=t.default}));t(ey);var ty=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.as,u=void 0===a?"div":a,s=e.bsPrefix,l=e.className,c=e.children,f=(0,r.default)(e,["as","bsPrefix","className","children"]);return s=(0,ym.useBootstrapPrefix)(s,"popover-header"),o.default.createElement(u,(0,n.default)({ref:t},f,{className:(0,i.default)(s,l)}),c)}));t.default=a,e.exports=t.default}));t(ty);var ny=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.as,u=void 0===a?"div":a,s=e.bsPrefix,l=e.className,c=e.children,f=(0,r.default)(e,["as","bsPrefix","className","children"]);return s=(0,ym.useBootstrapPrefix)(s,"popover-body"),o.default.createElement(u,(0,n.default)({ref:t},f,{className:(0,i.default)(l,s)}),c)}));t.default=a,e.exports=t.default}));t(ny);var ry=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=(Lp(Wg),Lp(ty)),u=Lp(ny),s=o.default.forwardRef((function(e,t){var a=e.bsPrefix,s=e.placement,l=e.className,c=e.style,f=e.children,d=e.content,p=e.arrowProps,h=(e.popper,e.show,(0,r.default)(e,["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"])),m=(0,ym.useBootstrapPrefix)(a,"popover");return o.default.createElement("div",(0,n.default)({ref:t,role:"tooltip",style:c,"x-placement":s,className:(0,i.default)(l,m,"bs-popover-"+s)},h),o.default.createElement("div",(0,n.default)({className:"arrow"},p,{style:p?(0,n.default)({},p.style,{margin:0}):void 0})),d?o.default.createElement(u.default,null,f):f)}));s.defaultProps={placement:"right"},s.Title=a.default,s.Content=u.default;var l=s;t.default=l,e.exports=t.default}));t(ry);var iy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H);function a(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function u(e,t){var u,s=e.min,l=e.now,c=e.max,f=e.label,d=e.srOnly,p=e.striped,h=e.animated,m=e.className,g=e.style,v=e.variant,y=e.bsPrefix,b=(0,r.default)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return o.default.createElement("div",(0,n.default)({ref:t},b,{role:"progressbar",className:(0,i.default)(m,y+"-bar",(u={},u["bg-"+v]=v,u[y+"-bar-animated"]=h,u[y+"-bar-striped"]=h||p,u)),style:(0,n.default)({width:a(l,s,c)+"%"},g),"aria-valuenow":l,"aria-valuemin":s,"aria-valuemax":c}),d?o.default.createElement("span",{className:"sr-only"},f):f)}var s=o.default.forwardRef((function(e,t){var a=e.isChild,s=(0,r.default)(e,["isChild"]);if(s.bsPrefix=(0,ym.useBootstrapPrefix)(s.bsPrefix,"progress"),a)return u(s,t);var l=s.min,c=s.now,f=s.max,d=s.label,p=s.srOnly,h=s.striped,m=s.animated,g=s.bsPrefix,v=s.variant,y=s.className,b=s.children,x=(0,r.default)(s,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return o.default.createElement("div",(0,n.default)({ref:t},x,{className:(0,i.default)(y,g)}),b?(0,gg.map)(b,(function(e){return(0,o.cloneElement)(e,{isChild:!0})})):u({min:l,now:c,max:f,label:d,srOnly:p,striped:h,animated:m,bsPrefix:g,variant:v},t))}));s.displayName="ProgressBar",s.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1};var l=s;t.default=l,e.exports=t.default}));t(iy);var oy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.children,l=e.aspectRatio,c=(0,r.default)(e,["bsPrefix","className","children","aspectRatio"]),f=(0,ym.useBootstrapPrefix)(a,"embed-responsive"),d=o.default.Children.only(s);return o.default.createElement("div",(0,n.default)({ref:t},c,{className:(0,i.default)(f,u,l&&f+"-"+l)}),o.default.cloneElement(d,{className:(0,i.default)(d.props.className,f+"-item")}))}));a.defaultProps={aspectRatio:"1by1"};var u=a;t.default=u,e.exports=t.default}));t(oy);var ay=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=["xl","lg","md","sm","xs"],u=o.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.className,l=e.noGutters,c=e.as,f=void 0===c?"div":c,d=(0,r.default)(e,["bsPrefix","className","noGutters","as"]),p=(0,ym.useBootstrapPrefix)(u,"row"),h=p+"-cols",m=[];return a.forEach((function(e){var t,n=d[e];delete d[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"==typeof n?n.cols:n)&&m.push(""+h+r+"-"+t)})),o.default.createElement(f,(0,n.default)({ref:t},d,{className:i.default.apply(void 0,[s,p,l&&"no-gutters"].concat(m))}))}));u.displayName="Row",u.defaultProps={noGutters:!1};var s=u;t.default=s,e.exports=t.default}));t(ay);var uy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.variant,s=e.animation,l=e.size,c=e.children,f=e.as,d=void 0===f?"div":f,p=e.className,h=(0,r.default)(e,["bsPrefix","variant","animation","size","children","as","className"]),m=(a=(0,ym.useBootstrapPrefix)(a,"spinner"))+"-"+s;return o.default.createElement(d,(0,n.default)({ref:t},h,{className:(0,i.default)(p,m,l&&m+"-"+l,u&&"text-"+u)}),c)}));a.displayName="Spinner";var u=a;t.default=u,e.exports=t.default}));t(uy);var sy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=Lp(Xd),a=Lp(eg),u=Lp(tg),s=Lp(Vg),l={id:o.default.any,toggleLabel:o.default.string,href:o.default.string,target:o.default.string,onClick:o.default.func,title:o.default.node.isRequired,type:o.default.string,disabled:o.default.bool,menuRole:o.default.string,renderMenuOnMount:o.default.bool,rootCloseEvent:o.default.string,bsPrefix:o.default.string,variant:o.default.string,size:o.default.string},c=i.default.forwardRef((function(e,t){var o=e.id,l=e.bsPrefix,c=e.size,f=e.variant,d=e.title,p=e.type,h=e.toggleLabel,m=e.children,g=e.onClick,v=e.href,y=e.target,b=e.menuRole,x=e.renderMenuOnMount,w=e.rootCloseEvent,_=(0,r.default)(e,["id","bsPrefix","size","variant","title","type","toggleLabel","children","onClick","href","target","menuRole","renderMenuOnMount","rootCloseEvent"]);return i.default.createElement(s.default,(0,n.default)({ref:t},_,{as:u.default}),i.default.createElement(a.default,{size:c,variant:f,disabled:_.disabled,bsPrefix:l,href:v,target:y,onClick:g,type:p},d),i.default.createElement(s.default.Toggle,{split:!0,id:o,size:c,variant:f,disabled:_.disabled,childBsPrefix:l},i.default.createElement("span",{className:"sr-only"},h)),i.default.createElement(s.default.Menu,{role:b,renderOnMount:x,rootCloseEvent:w},m))}));c.propTypes=l,c.defaultProps={toggleLabel:"Toggle dropdown",type:"button"},c.displayName="SplitButton";var f=c;t.default=f,e.exports=t.default}));t(sy);var ly=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Ip(H),r=Lp(vv),i=Lp(bm),o=function(e){var t=(0,gm.useUncontrolled)(e,{activeKey:"onSelect"}),o=t.id,a=t.generateChildId,u=t.onSelect,s=t.activeKey,l=t.transition,c=t.mountOnEnter,f=t.unmountOnExit,d=t.children,p=(0,n.useMemo)((function(){return a||function(e,t){return o?o+"-"+t+"-"+e:null}}),[o,a]),h=(0,n.useMemo)((function(){return{onSelect:u,activeKey:s,transition:l,mountOnEnter:c,unmountOnExit:f,getControlledId:function(e){return p(e,"tabpane")},getControllerId:function(e){return p(e,"tab")}}}),[u,s,l,c,f,p]);return n.default.createElement(r.default.Provider,{value:h},n.default.createElement(i.default.Provider,{value:u},d))};t.default=o,e.exports=t.default}));t(ly);var cy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.as,s=void 0===u?"div":u,l=e.className,c=(0,r.default)(e,["bsPrefix","as","className"]),f=(0,ym.useBootstrapPrefix)(a,"tab-content");return o.default.createElement(s,(0,n.default)({ref:t},c,{className:(0,i.default)(l,f)}))}));t.default=a,e.exports=t.default}));t(cy);var fy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(vv),u=Ip(bm),s=Lp(Gm);var l=o.default.forwardRef((function(e,t){var l=function(e){var t=(0,o.useContext)(a.default);if(!t)return e;var i=t.activeKey,l=t.getControlledId,c=t.getControllerId,f=(0,r.default)(t,["activeKey","getControlledId","getControllerId"]),d=!1!==e.transition&&!1!==f.transition,p=(0,u.makeEventKey)(e.eventKey);return(0,n.default)({},e,{active:null==e.active&&null!=p?(0,u.makeEventKey)(i)===p:e.active,id:l(e.eventKey),"aria-labelledby":c(e.eventKey),transition:d&&(e.transition||f.transition||s.default),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:f.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:f.unmountOnExit})}(e),c=l.bsPrefix,f=l.className,d=l.active,p=l.onEnter,h=l.onEntering,m=l.onEntered,g=l.onExit,v=l.onExiting,y=l.onExited,b=l.mountOnEnter,x=l.unmountOnExit,w=l.transition,_=l.as,E=void 0===_?"div":_,k=(l.eventKey,(0,r.default)(l,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),C=(0,ym.useBootstrapPrefix)(c,"tab-pane");if(!d&&!w&&x)return null;var S=o.default.createElement(E,(0,n.default)({},k,{ref:t,role:"tabpanel","aria-hidden":!d,className:(0,i.default)(f,C,{active:d})}));return w&&(S=o.default.createElement(w,{in:d,onEnter:p,onEntering:h,onEntered:m,onExit:g,onExiting:v,onExited:y,mountOnEnter:b,unmountOnExit:x},S)),o.default.createElement(a.default.Provider,{value:null},o.default.createElement(u.default.Provider,{value:null},S))}));l.displayName="TabPane";var c=l;t.default=c,e.exports=t.default}));t(fy);var dy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(ld),r=Lp(H),i=Lp(ly),o=Lp(cy),a=Lp(fy),u=function(e){function t(){return e.apply(this,arguments)||this}return(0,n.default)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(r.default.Component);u.Container=i.default,u.Content=o.default,u.Pane=a.default;var s=u;t.default=s,e.exports=t.default}));t(dy);var py=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.className,s=e.striped,l=e.bordered,c=e.borderless,f=e.hover,d=e.size,p=e.variant,h=e.responsive,m=(0,r.default)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),g=(0,ym.useBootstrapPrefix)(a,"table"),v=(0,i.default)(u,g,p&&g+"-"+p,d&&g+"-"+d,s&&g+"-striped",l&&g+"-bordered",c&&g+"-borderless",f&&g+"-hover"),y=o.default.createElement("table",(0,n.default)({},m,{className:v,ref:t}));if(h){var b=g+"-responsive";return"string"==typeof h&&(b=b+"-"+h),o.default.createElement("div",{className:b},y)}return y}));t.default=a,e.exports=t.default}));t(py);var hy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=(Lp(Wg),Lp(Wv)),a=Lp(qv),u=Lp(Uv),s=Lp(ly),l=Lp(cy),c=Lp(fy);function f(e){var t=e.props,n=t.title,r=t.eventKey,o=t.disabled,s=t.tabClassName,l=t.id;return null==n?null:i.default.createElement(u.default,{as:a.default,eventKey:r,disabled:o,id:l,className:s},n)}var d=i.default.forwardRef((function(e,t){var a=(0,gm.useUncontrolled)(e,{activeKey:"onSelect"}),u=a.id,d=a.onSelect,p=a.transition,h=a.mountOnEnter,m=a.unmountOnExit,g=a.children,v=a.activeKey,y=void 0===v?function(e){var t;return(0,gg.forEach)(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(g):v,b=(0,r.default)(a,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return i.default.createElement(s.default,{ref:t,id:u,activeKey:y,onSelect:d,transition:p,mountOnEnter:h,unmountOnExit:m},i.default.createElement(o.default,(0,n.default)({},b,{role:"tablist",as:"nav"}),(0,gg.map)(g,f)),i.default.createElement(l.default,null,(0,gg.map)(g,(function(e){var t=(0,n.default)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,i.default.createElement(c.default,t)}))))}));d.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},d.displayName="Tabs";var p=d;t.default=p,e.exports=t.default}));t(hy);var my=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(eg),u=function(){},s=o.default.forwardRef((function(e,t){var s=e.children,l=e.name,c=e.className,f=e.checked,d=e.type,p=e.onChange,h=e.value,m=e.disabled,g=e.inputRef,v=(0,r.default)(e,["children","name","className","checked","type","onChange","value","disabled","inputRef"]),y=(0,o.useState)(!1),b=y[0],x=y[1],w=(0,o.useCallback)((function(e){"INPUT"===e.target.tagName&&x(!0)}),[]),_=(0,o.useCallback)((function(e){"INPUT"===e.target.tagName&&x(!1)}),[]);return o.default.createElement(a.default,(0,n.default)({},v,{ref:t,className:(0,i.default)(c,b&&"focus",m&&"disabled"),type:null,active:!!f,as:"label"}),o.default.createElement("input",{name:l,type:d,value:h,ref:g,autoComplete:"off",checked:!!f,disabled:!!m,onFocus:w,onBlur:_,onChange:p||u}),s)}));s.displayName="ToggleButton";var l=s;t.default=l,e.exports=t.default}));t(my);var gy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(H),o=(Lp(fm),Lp(Bm)),a=Lp(tg),u=Lp(my),s=i.default.forwardRef((function(e,t){var u=(0,gm.useUncontrolled)(e,{value:"onChange"}),s=u.children,l=u.type,c=u.name,f=u.value,d=u.onChange,p=(0,r.default)(u,["children","type","name","value","onChange"]),h=function(){return null==f?[]:[].concat(f)};return"radio"!==l||c||invariant(!1),i.default.createElement(a.default,(0,n.default)({},p,{ref:t,toggle:!0}),(0,gg.map)(s,(function(e){var t=h(),n=e.props,r=n.value,a=n.onChange;return i.default.cloneElement(e,{type:l,name:e.name||c,checked:-1!==t.indexOf(r),onChange:(0,o.default)(a,(function(e){return function(e,t){var n=h(),r=-1!==n.indexOf(e);"radio"!==l?d(r?n.filter((function(t){return t!==e})):[].concat(n,[e]),t):r||d(e,t)}(r,e)}))})})))}));s.defaultProps={type:"radio"},s.Button=u.default;var l=s;t.default=l,e.exports=t.default}));t(gy);var vy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Lp(H),a=(Lp(Wg),o.default.forwardRef((function(e,t){var a=e.bsPrefix,u=e.placement,s=e.className,l=e.style,c=e.children,f=e.arrowProps,d=(e.popper,e.show,(0,r.default)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));return a=(0,ym.useBootstrapPrefix)(a,"tooltip"),o.default.createElement("div",(0,n.default)({ref:t,style:l,role:"tooltip","x-placement":u,className:(0,i.default)(s,a,"bs-tooltip-"+u)},d),o.default.createElement("div",(0,n.default)({className:"arrow"},f)),o.default.createElement("div",{className:a+"-inner"},c))})));a.defaultProps={placement:"right"},a.displayName="Tooltip";var u=a;t.default=u,e.exports=t.default}));t(vy);var yy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(H).default.createContext({onClose:function(){}});t.default=n,e.exports=t.default}));t(yy);var by=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Lp(cm),o=Ip(H),a=Lp(qm),u=Lp(Ym),s=Lp(yy),l=o.default.forwardRef((function(e,t){var l=e.bsPrefix,c=e.closeLabel,f=e.closeButton,d=e.className,p=e.children,h=(0,r.default)(e,["bsPrefix","closeLabel","closeButton","className","children"]);l=(0,ym.useBootstrapPrefix)(l,"toast-header");var m=(0,o.useContext)(s.default),g=(0,a.default)((function(e){m&&m.onClose&&m.onClose(e)}));return o.default.createElement("div",(0,n.default)({ref:t},h,{className:(0,i.default)(l,d)}),p,f&&o.default.createElement(u.default,{label:c,onClick:g,className:"ml-2 mb-1","data-dismiss":"toast"}))}));l.displayName="ToastHeader",l.defaultProps={closeLabel:"Close",closeButton:!0};var c=l;t.default=c,e.exports=t.default}));t(by);var xy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=(0,Lp(Hm).default)("toast-body");t.default=n,e.exports=t.default}));t(xy);var wy=n((function(e,t){t.__esModule=!0,t.default=void 0;var n=Lp(sd),r=Lp(cd),i=Ip(H),o=Lp(cm),a=Lp(pg),u=Lp(Gm),s=Lp(by),l=Lp(xy),c=Lp(yy),f={animation:!0,autohide:!1,delay:3e3,show:!0,transition:u.default},d=i.default.forwardRef((function(e,t){var u=e.bsPrefix,s=e.className,l=e.children,f=e.transition,d=e.show,p=e.animation,h=e.delay,m=e.autohide,g=e.onClose,v=(0,r.default)(e,["bsPrefix","className","children","transition","show","animation","delay","autohide","onClose"]);u=(0,ym.useBootstrapPrefix)("toast");var y=(0,i.useRef)(h),b=(0,i.useRef)(g);(0,i.useEffect)((function(){y.current=h,b.current=g}),[h,g]);var x=(0,a.default)(),w=(0,i.useCallback)((function(){m&&d&&b.current()}),[m,d]);x.set(w,y.current);var _=(0,i.useMemo)((function(){return f&&p}),[f,p]),E=i.default.createElement("div",(0,n.default)({},v,{ref:t,className:(0,o.default)(u,s,!_&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}),l),k={onClose:g};return i.default.createElement(c.default.Provider,{value:k},_?i.default.createElement(f,{in:d,unmountOnExit:!0},E):E)}));d.defaultProps=f,d.displayName="Toast",d.Body=l.default,d.Header=s.default;var p=d;t.default=p,e.exports=t.default}));t(wy);var _y=n((function(e,t){t.__esModule=!0,t.useAccordionToggle=void 0;var n=Lp($m);t.Accordion=n.default;var r=Ip(wm);t.AccordionToggle=r.default,t.useAccordionToggle=r.useAccordionToggle;var i=Lp(Im);t.AccordionCollapse=i.default;var o=Lp(Km);t.Alert=o.default;var a=Lp(Qm);t.Badge=a.default;var u=Lp(Zm);t.Breadcrumb=u.default;var s=Lp(Jm);t.BreadcrumbItem=s.default;var l=Lp(eg);t.Button=l.default;var c=Lp(tg);t.ButtonGroup=c.default;var f=Lp(ng);t.ButtonToolbar=f.default;var d=Lp(og);t.Card=d.default;var p=Lp(ag);t.CardColumns=p.default;var h=Lp(ug);t.CardDeck=h.default;var m=Lp(ig);t.CardImg=m.default;var g=Lp(sg);t.CardGroup=g.default;var v=Lp(vg);t.Carousel=v.default;var y=Lp(mg);t.CarouselItem=y.default;var b=Lp(Ym);t.CloseButton=b.default;var x=Lp(yg);t.Col=x.default;var w=Lp(zm);t.Collapse=w.default;var _=Lp(Vg);t.Dropdown=_.default;var E=Lp(Gg);t.DropdownButton=E.default;var k=Lp(Bg);t.DropdownItem=k.default;var C=Lp(Gm);t.Fade=C.default;var S=Lp(lv);t.Form=S.default;var A=Lp(iv);t.FormControl=A.default;var O=Lp(ev);t.FormCheck=O.default;var M=Lp(rv);t.FormFile=M.default;var D=Lp(sv);t.Switch=D.default;var P=Lp(ov);t.FormGroup=P.default;var T=Lp(av);t.FormLabel=T.default;var F=Lp(uv);t.FormText=F.default;var N=Lp(cv);t.Container=N.default;var j=Lp(fv);t.Image=j.default;var R=Lp(hv);t.Figure=R.default;var B=Lp(mv);t.InputGroup=B.default;var L=Lp(gv);t.Jumbotron=L.default;var z=Lp(wv);t.ListGroup=z.default;var I=Lp(xv);t.ListGroupItem=I.default;var $=Lp(_v);t.Media=$.default;var U=Lp($v);t.Modal=U.default;var q=Lp(jv);t.ModalBody=q.default;var W=Lp(Bv);t.ModalDialog=W.default;var H=Lp(Lv);t.ModalFooter=H.default;var V=Lp(Iv);t.ModalTitle=V.default;var G=Lp(Wv);t.Nav=G.default;var Y=Lp(Yv);t.Navbar=Y.default;var X=Lp(Hv);t.NavbarBrand=X.default;var K=Lp(Xv);t.NavDropdown=K.default;var Q=Lp(Uv);t.NavItem=Q.default;var J=Lp(qv);t.NavLink=J.default;var Z=Lp(Qv);t.Overlay=Z.default;var ee=Lp(Jv);t.OverlayTrigger=ee.default;var te=Lp(Zv);t.PageItem=te.default;var ne=Lp(ey);t.Pagination=ne.default;var re=Lp(ry);t.Popover=re.default;var ie=Lp(ny);t.PopoverContent=ie.default;var oe=Lp(ty);t.PopoverTitle=oe.default;var ae=Lp(iy);t.ProgressBar=ae.default;var ue=Lp(oy);t.ResponsiveEmbed=ue.default;var se=Lp(ay);t.Row=se.default;var le=Lp(Xm);t.SafeAnchor=le.default;var ce=Lp(uy);t.Spinner=ce.default;var fe=Lp(sy);t.SplitButton=fe.default;var de=Lp(dy);t.Tab=de.default;var pe=Lp(ly);t.TabContainer=pe.default;var he=Lp(cy);t.TabContent=he.default;var me=Lp(py);t.Table=me.default;var ge=Lp(fy);t.TabPane=ge.default;var ve=Lp(hy);t.Tabs=ve.default;var ye=Lp(ym);t.ThemeProvider=ye.default;var be=Lp(my);t.ToggleButton=be.default;var xe=Lp(gy);t.ToggleButtonGroup=xe.default;var we=Lp(vy);t.Tooltip=we.default;var _e=Lp(wy);t.Toast=_e.default;var Ee=Lp(xy);t.ToastBody=Ee.default;var ke=Lp(by);t.ToastHeader=ke.default}));t(_y);_y.useAccordionToggle,_y.Accordion,_y.AccordionToggle,_y.AccordionCollapse,_y.Alert,_y.Badge,_y.Breadcrumb,_y.BreadcrumbItem;var Ey=_y.Button,ky=(_y.ButtonGroup,_y.ButtonToolbar,_y.Card,_y.CardColumns,_y.CardDeck,_y.CardImg,_y.CardGroup,_y.Carousel,_y.CarouselItem,_y.CloseButton,_y.Col,_y.Collapse,_y.Dropdown,_y.DropdownButton,_y.DropdownItem,_y.Fade,_y.Form),Cy=(_y.FormControl,_y.FormCheck,_y.FormFile,_y.Switch,_y.FormGroup,_y.FormLabel,_y.FormText,_y.Container,_y.Image);_y.Figure,_y.InputGroup,_y.Jumbotron,_y.ListGroup,_y.ListGroupItem,_y.Media,_y.Modal,_y.ModalBody,_y.ModalDialog,_y.ModalFooter,_y.ModalTitle,_y.Nav,_y.Navbar,_y.NavbarBrand,_y.NavDropdown,_y.NavItem,_y.NavLink,_y.Overlay,_y.OverlayTrigger,_y.PageItem,_y.Pagination,_y.Popover,_y.PopoverContent,_y.PopoverTitle,_y.ProgressBar,_y.ResponsiveEmbed,_y.Row,_y.SafeAnchor,_y.Spinner,_y.SplitButton,_y.Tab,_y.TabContainer,_y.TabContent,_y.Table,_y.TabPane,_y.Tabs,_y.ThemeProvider,_y.ToggleButton,_y.ToggleButtonGroup,_y.Tooltip,_y.Toast,_y.ToastBody,_y.ToastHeader;const Sy=am(Cy).contramap(Uf({alt:"image"})),Ay=Sy.contramap(Uf({src:"assets/logo.svg"})),Oy=Sy.contramap(Uf({src:"assets/logo_text.svg"})),My=Bc((e,t)=>{const[n,r]=X(!1),i=Y(null),o=()=>r(!0),a=()=>r(!1);return G(()=>{const e=i.current;if(e)return e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",a),()=>{e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",a)}},[i.current]),t.contramap(Gf({[e]:n,[`set${e[0].toUpperCase()}${e.slice(1)}`]:r,ref:i}))}),Dy=Bc((e,t)=>{const n=Y(null),r=t=>{n.current&&!n.current.contains(t.target)&&e()};return G(()=>(document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}),[n.current]),t.contramap(Gf({ref:n}))});function Py(e){return"/"===e.charAt(0)}function Ty(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Fy=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&Py(e),a=t&&Py(t),u=o||a;if(e&&Py(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var l=0,c=i.length;0<=c;c--){var f=i[c];"."===f?Ty(i,c):".."===f?(Ty(i,c),l++):l&&(Ty(i,c),l--)}if(!u)for(;l--;l)i.unshift("..");!u||""===i[0]||i[0]&&Py(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d},Ny=n((function(e){e.exports=Fy}));function jy(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var Ry=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"!=typeof t&&"object"!=typeof n)return!1;var r=jy(t),i=jy(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))},By=n((function(e){e.exports=Ry})),Ly=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){if(!e)throw new Error("Invariant failed")}}));t(Ly);var zy=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(Ny),i=n(By),o=n(Ly);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return"/"===e.charAt(0)?e:"/"+e}function s(e){return"/"===e.charAt(0)?e.substr(1):e}function l(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function c(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function p(e,t,n,i){var o;"string"==typeof e?(o=f(e)).state=t:(void 0===(o=a({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=r(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function h(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"==typeof window||!window.document||!window.document.createElement);function g(e,t){t(window.confirm(e))}function v(){try{return window.history.state||{}}catch(e){return{}}}var y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+s(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:s,decodePath:u},slash:{encodePath:u,decodePath:u}};function b(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function x(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function w(e){window.location.replace(b(window.location.href)+"#"+e)}function _(e,t,n){return Math.min(Math.max(e,t),n)}t.createBrowserHistory=function(e){void 0===e&&(e={}),m||o(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,s=i.forceRefresh,f=void 0!==s&&s,y=i.getUserConfirmation,b=void 0===y?g:y,x=i.keyLength,w=void 0===x?6:x,_=e.basename?c(u(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return _&&(o=l(o,_)),p(o,r,n)}function k(){return Math.random().toString(36).substr(2,w)}var C=h();function S(e){a(L,e),L.length=t.length,C.notifyListeners(L.location,L.action)}function A(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(E(e.state))}function O(){D(E(v()))}var M=!1;function D(e){M?(M=!1,S()):C.confirmTransitionTo(e,"POP",b,(function(t){t?S({action:"POP",location:e}):function(e){var t=L.location,n=T.indexOf(t.key);-1===n&&(n=0);var r=T.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(M=!0,N(i))}(e)}))}var P=E(v()),T=[P.key];function F(e){return _+d(e)}function N(e){t.go(e)}var j=0;function R(e){1===(j+=e)&&1===e?(window.addEventListener("popstate",A),r&&window.addEventListener("hashchange",O)):0===j&&(window.removeEventListener("popstate",A),r&&window.removeEventListener("hashchange",O))}var B=!1,L={length:t.length,action:"POP",location:P,createHref:F,push:function(e,r){var i=p(e,r,k(),L.location);C.confirmTransitionTo(i,"PUSH",b,(function(e){if(e){var r=F(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),f)window.location.href=r;else{var u=T.indexOf(L.location.key),s=T.slice(0,u+1);s.push(i.key),T=s,S({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=p(e,r,k(),L.location);C.confirmTransitionTo(o,i,b,(function(e){if(e){var r=F(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),f)window.location.replace(r);else{var s=T.indexOf(L.location.key);-1!==s&&(T[s]=o.key),S({action:i,location:o})}else window.location.replace(r)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return B||(R(1),B=!0),function(){return B&&(B=!1,R(-1)),t()}},listen:function(e){var t=C.appendListener(e);return R(1),function(){R(-1),t()}}};return L},t.createHashHistory=function(e){void 0===e&&(e={}),m||o(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?g:r,s=n.hashType,f=void 0===s?"slash":s,v=e.basename?c(u(e.basename)):"",_=y[f],E=_.encodePath,k=_.decodePath;function C(){var e=k(x());return v&&(e=l(e,v)),p(e)}var S=h();function A(e){a(z,e),z.length=t.length,S.notifyListeners(z.location,z.action)}var O=!1,M=null;function D(){var e=x(),t=E(e);if(e!==t)w(t);else{var n=C(),r=z.location;if(!O&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(M===d(n))return;M=null,function(e){O?(O=!1,A()):S.confirmTransitionTo(e,"POP",i,(function(t){t?A({action:"POP",location:e}):function(e){var t=z.location,n=N.lastIndexOf(d(t));-1===n&&(n=0);var r=N.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(O=!0,j(i))}(e)}))}(n)}}var P=x(),T=E(P);P!==T&&w(T);var F=C(),N=[d(F)];function j(e){t.go(e)}var R=0;function B(e){1===(R+=e)&&1===e?window.addEventListener("hashchange",D):0===R&&window.removeEventListener("hashchange",D)}var L=!1,z={length:t.length,action:"POP",location:F,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=b(window.location.href)),n+"#"+E(v+d(e))},push:function(e,t){var n=p(e,void 0,void 0,z.location);S.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=d(n),r=E(v+t);if(x()!==r){M=t,function(e){window.location.hash=e}(r);var i=N.lastIndexOf(d(z.location)),o=N.slice(0,i+1);o.push(t),N=o,A({action:"PUSH",location:n})}else A()}}))},replace:function(e,t){var n="REPLACE",r=p(e,void 0,void 0,z.location);S.confirmTransitionTo(r,n,i,(function(e){if(e){var t=d(r),i=E(v+t);x()!==i&&(M=t,w(i));var o=N.indexOf(d(z.location));-1!==o&&(N[o]=t),A({action:n,location:r})}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return L||(B(1),L=!0),function(){return L&&(L=!1,B(-1)),t()}},listen:function(e){var t=S.appendListener(e);return B(1),function(){B(-1),t()}}};return z},t.createMemoryHistory=function(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,u=void 0===o?0:o,s=t.keyLength,l=void 0===s?6:s,c=h();function f(e){a(x,e),x.length=x.entries.length,c.notifyListeners(x.location,x.action)}function m(){return Math.random().toString(36).substr(2,l)}var g=_(u,0,i.length-1),v=i.map((function(e){return p(e,void 0,"string"==typeof e?m():e.key||m())})),y=d;function b(e){var t=_(x.index+e,0,x.entries.length-1),r=x.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var x={length:v.length,action:"POP",location:v[g],index:g,entries:v,createHref:y,push:function(e,t){var r=p(e,t,m(),x.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=p(e,t,m(),x.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(x.entries[x.index]=i,f({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=x.index+e;return 0<=t&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return x},t.createLocation=p,t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&i(e.state,t.state)},t.parsePath=f,t.createPath=d}));t(zy);zy.createBrowserHistory,zy.createHashHistory,zy.createMemoryHistory,zy.createLocation,zy.locationsAreEqual,zy.parsePath,zy.createPath;var Iy=n((function(e){e.exports=zy}));function $y(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var Uy=$y(H),qy=$y(ld),Wy=$y(Xd),Hy=($y(Vd),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{});function Vy(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Gy=Uy.createContext||function(e,t){var n,r,i,o="__create-react-context-"+((Hy[i="__global_unique_id__"]=(Hy[i]||0)+1)+"__"),a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=Vy(t.props.value),t}qy(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(H.Component);a.childContextTypes=((n={})[o]=Wy.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}qy(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(H.Component);return u.contextTypes=((r={})[o]=Wy.object,r),{Provider:a,Consumer:u}},Yy=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Xy=lb,Ky=tb,Qy=function(e,t){return rb(tb(e,t),t)},Jy=rb,Zy=sb,eb=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function tb(e,t){for(var n,r=[],i=0,o=0,a="",u=t&&t.delimiter||"/";null!=(n=eb.exec(e));){var s=n[0],l=n[1],c=n.index;if(a+=e.slice(o,c),o=c+s.length,l)a+=l[1];else{var f=e[o],d=n[2],p=n[3],h=n[4],m=n[5],g=n[6],v=n[7];a&&(r.push(a),a="");var y=null!=d&&null!=f&&f!==d,b="+"===g||"*"===g,x="?"===g||"*"===g,w=n[2]||u,_=h||m;r.push({name:p||i++,prefix:d||"",delimiter:w,optional:x,repeat:b,partial:y,asterisk:!!v,pattern:_?ob(_):v?".*":"[^"+ib(w)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&r.push(a),r}function nb(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function rb(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",ub(t)));return function(t,r){for(var i="",o=t||{},a=(r||{}).pretty?nb:encodeURIComponent,u=0;u<e.length;u++){var s=e[u];if("string"!=typeof s){var l,c=o[s.name];if(null==c){if(s.optional){s.partial&&(i+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(Yy(c)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var f=0;f<c.length;f++){if(l=a(c[f]),!n[u].test(l))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===f?s.prefix:s.delimiter)+l}}else{if(l=s.asterisk?encodeURI(c).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(c),!n[u].test(l))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+l+'"');i+=s.prefix+l}}else i+=s}return i}}function ib(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function ob(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function ab(e,t){return e.keys=t,e}function ub(e){return e&&e.sensitive?"":"i"}function sb(e,t,n){Yy(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<e.length;a++){var u=e[a];if("string"==typeof u)o+=ib(u);else{var s=ib(u.prefix),l="(?:"+u.pattern+")";t.push(u),u.repeat&&(l+="(?:"+s+l+")*"),o+=l=u.optional?u.partial?s+"("+l+")?":"(?:"+s+"("+l+"))?":s+"("+l+")"}}var c=ib(n.delimiter||"/"),f=o.slice(-c.length)===c;return r||(o=(f?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+c+"|$)",ab(new RegExp("^"+o,ub(n)),t)}function lb(e,t,n){return Yy(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ab(e,t)}(e,t):Yy(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(lb(e[i],t,n).source);return ab(new RegExp("(?:"+r.join("|")+")",ub(n)),t)}(e,t,n):function(e,t,n){return sb(tb(e,n),t,n)}(e,t,n)}Xy.parse=Ky,Xy.compile=Qy,Xy.tokensToFunction=Jy,Xy.tokensToRegExp=Zy;var cb=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(H),i=n(Gy),o=n(Ly),a=n(Xy),u=n(Hd);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function c(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var f=function(e){var t=i();return t.displayName=e,t}("Router-History"),d=function(e){var t=i();return t.displayName=e,t}("Router"),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}l(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return r.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},r.createElement(f.Provider,{children:this.props.children||null,value:this.props.history}))},t}(r.Component),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Iy.createMemoryHistory(t.props),t}return l(t,e),t.prototype.render=function(){return r.createElement(p,{history:this.history,children:this.props.children})},t}(r.Component),m=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(r.Component);var g={},v=0;function y(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(g[e])return g[e];var t=a.compile(e);return v<1e4&&(g[e]=t,v++),t}(e)(t,{pretty:!0})}var b={},x=0;function w(e,t){void 0===t&&(t={}),"string"!=typeof t&&!Array.isArray(t)||(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,u=n.strict,s=void 0!==u&&u,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=b[n]||(b[n]={});if(r[e])return r[e];var i=[],o={regexp:a(e,i,t),keys:i};return x<1e4&&(r[e]=o,x++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,u=r.keys,l=i.exec(e);if(!l)return null;var f=l[0],d=l.slice(1),p=e===f;return o&&!p?null:{path:n,url:"/"===n&&""===f?"/":f,isExact:p,params:u.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var _=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return r.createElement(d.Consumer,null,(function(t){t||o(!1);var n=e.props.location||t.location,i=s({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?w(n.pathname,e.props):t.match}),a=e.props,u=a.children,l=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),r.createElement(d.Provider,{value:i},i.match?u?"function"==typeof u?u(i):u:l?r.createElement(l,i):c?c(i):null:"function"==typeof u?u(i):null)}))},t}(r.Component);function E(e){return"/"===e.charAt(0)?e:"/"+e}function k(e,t){if(!e)return t;var n=E(e);return 0!==t.pathname.indexOf(n)?t:s({},t,{pathname:t.pathname.substr(n.length)})}function C(e){return"string"==typeof e?e:Iy.createPath(e)}function S(e){return function(){o(!1)}}function A(){}var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return A},t.handleBlock=function(){return A},t}l(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,a=void 0===o?{}:o;a.action=t,a.location=function(e,t){return e?s({},t,{pathname:E(e)+t.pathname}):t}(i,Iy.createLocation(e)),a.url=C(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,i=e.context,o=void 0===i?{}:i,a=e.location,u=void 0===a?"/":a,l=c(e,["basename","context","location"]),f={createHref:function(e){return E(n+C(e))},action:"POP",location:k(n,Iy.createLocation(u)),push:this.handlePush,replace:this.handleReplace,go:S(),goBack:S(),goForward:S(),listen:this.handleListen,block:this.handleBlock};return r.createElement(p,s({},l,{history:f,staticContext:o}))},t}(r.Component),M=function(e){function t(){return e.apply(this,arguments)||this}return l(t,e),t.prototype.render=function(){var e=this;return r.createElement(d.Consumer,null,(function(t){t||o(!1);var n,i,a=e.props.location||t.location;return r.Children.forEach(e.props.children,(function(e){if(null==i&&r.isValidElement(e)){var o=(n=e).props.path||e.props.from;i=o?w(a.pathname,s({},e.props,{path:o})):t.match}})),i?r.cloneElement(n,{location:a,computedMatch:i}):null}))},t}(r.Component);var D=r.useContext;function P(){return D(d).location}t.MemoryRouter=h,t.Prompt=function(e){var t=e.message,n=e.when,i=void 0===n||n;return r.createElement(d.Consumer,null,(function(e){if(e||o(!1),!i||e.staticContext)return null;var n=e.history.block;return r.createElement(m,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))},t.Redirect=function(e){var t=e.computedMatch,n=e.to,i=e.push,a=void 0!==i&&i;return r.createElement(d.Consumer,null,(function(e){e||o(!1);var i=e.history,u=e.staticContext,l=a?i.push:i.replace,c=Iy.createLocation(t?"string"==typeof n?y(n,t.params):s({},n,{pathname:y(n.pathname,t.params)}):n);return u?(l(c),null):r.createElement(m,{onMount:function(){l(c)},onUpdate:function(e,t){var n=Iy.createLocation(t.to);Iy.locationsAreEqual(n,s({},c,{key:n.key}))||l(c)},to:n})}))},t.Route=_,t.Router=p,t.StaticRouter=O,t.Switch=M,t.__HistoryContext=f,t.__RouterContext=d,t.generatePath=y,t.matchPath=w,t.useHistory=function(){return D(f)},t.useLocation=P,t.useParams=function(){var e=D(d).match;return e?e.params:{}},t.useRouteMatch=function(e){var t=P(),n=D(d).match;return e?w(t.pathname,e):n},t.withRouter=function(e){function t(t){var n=t.wrappedComponentRef,i=c(t,["wrappedComponentRef"]);return r.createElement(d.Consumer,null,(function(t){return t||o(!1),r.createElement(e,s({},i,t,{ref:n}))}))}var n="withRouter("+(e.displayName||e.name)+")";return t.displayName=n,t.WrappedComponent=e,u(t,e)}}));t(cb);cb.MemoryRouter,cb.Prompt,cb.Redirect,cb.Route,cb.Router,cb.StaticRouter,cb.Switch,cb.__HistoryContext,cb.__RouterContext,cb.generatePath,cb.matchPath,cb.useHistory,cb.useLocation,cb.useParams,cb.useRouteMatch,cb.withRouter;var fb=n((function(e){e.exports=cb})),db=n((function(e,t){function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(H),i=n(Ly);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}var s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Iy.createBrowserHistory(t.props),t}return a(t,e),t.prototype.render=function(){return r.createElement(fb.Router,{history:this.history,children:this.props.children})},t}(r.Component),l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Iy.createHashHistory(t.props),t}return a(t,e),t.prototype.render=function(){return r.createElement(fb.Router,{history:this.history,children:this.props.children})},t}(r.Component),c=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?Iy.createLocation(e,null,null,t):e},d=function(e){return e},p=r.forwardRef;void 0===p&&(p=d);var h=p((function(e,t){var n=e.innerRef,i=e.navigate,a=e.onClick,s=u(e,["innerRef","navigate","onClick"]),l=s.target,c=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=d!==p&&t||n,r.createElement("a",c)})),m=p((function(e,t){var n=e.component,a=void 0===n?h:n,s=e.replace,l=e.to,m=e.innerRef,g=u(e,["component","replace","to","innerRef"]);return r.createElement(fb.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=e.history,u=f(c(l,e.location),e.location),h=u?n.createHref(u):"",v=o({},g,{href:h,navigate:function(){var t=c(l,e.location);(s?n.replace:n.push)(t)}});return d!==p?v.ref=t||m:v.innerRef=m,r.createElement(a,v)}))})),g=function(e){return e},v=r.forwardRef;void 0===v&&(v=g);var y=v((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,s=e.activeClassName,l=void 0===s?"active":s,d=e.activeStyle,p=e.className,h=e.exact,y=e.isActive,b=e.location,x=e.sensitive,w=e.strict,_=e.style,E=e.to,k=e.innerRef,C=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return r.createElement(fb.__RouterContext.Consumer,null,(function(e){e||i(!1);var n=b||e.location,u=f(c(E,n),n),s=u.pathname,S=s&&s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=S?fb.matchPath(n.pathname,{path:S,exact:h,sensitive:x,strict:w}):null,O=!!(y?y(A,n):A),M=O?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,l):p,D=O?o({},_,{},d):_,P=o({"aria-current":O&&a||null,className:M,style:D,to:u},C);return g!==v?P.ref=t||k:P.innerRef=k,r.createElement(m,P)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return fb.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return fb.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return fb.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return fb.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return fb.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return fb.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return fb.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return fb.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return fb.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return fb.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return fb.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return fb.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return fb.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return fb.withRouter}}),t.BrowserRouter=s,t.HashRouter=l,t.Link=m,t.NavLink=y}));t(db);db.BrowserRouter,db.HashRouter,db.Link,db.NavLink;var pb=n((function(e){e.exports=db})),hb=pb.Route,mb=pb.Redirect,gb=(pb.BrowserRouter,pb.HashRouter),vb=new RegExp("%[a-f0-9]{2}","gi"),yb=new RegExp("(%[a-f0-9]{2})+","gi");function bb(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],bb(n),bb(r))}function xb(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(vb),n=1;n<t.length;n++)t=(e=bb(t,n).join("")).match(vb);return e}}var wb=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=yb.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=xb(n[0]);r!==n[0]&&(t[n[0]]=r)}n=yb.exec(e)}t["%C2"]="";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}(e)}},_b=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]},Eb=n((function(e,t){function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function r(e,t){return t.encode?t.strict?encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()):encodeURIComponent(e):e}function i(e,t){return t.decode?wb(e):e}function o(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function a(e){const t=(e=o(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function u(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function s(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>i(t,e)):null===n?n:i(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){let[e,a]=_b(t.decode?n.replace(/\+/g," "):n,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:i(a,t),r(i(e,t),a,o)}for(const e of Object.keys(o)){const n=o[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=u(n[e],t);else o[e]=u(n,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=a,t.parse=s,t.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const i=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],o=function(e){switch(e.arrayFormat){case"index":return t=>(n,i)=>{const o=n.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,[r(t,e),"[",o,"]"].join("")]:[...n,[r(t,e),"[",r(o,e),"]=",r(i,e)].join("")]};case"bracket":return t=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,[r(t,e),"[]"].join("")]:[...n,[r(t,e),"[]=",r(i,e)].join("")];case"comma":case"separator":return t=>(n,i)=>null==i||0===i.length?n:0===n.length?[[r(t,e),"=",r(i,e)].join("")]:[[n,r(i,e)].join(e.arrayFormatSeparator)];default:return t=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:null===i?[...n,r(t,e)]:[...n,[r(t,e),"=",r(i,e)].join("")]}}(t),a={};for(const t of Object.keys(e))i(t)||(a[t]=e[t]);const u=Object.keys(a);return!1!==t.sort&&u.sort(t.sort),u.map(n=>{const i=e[n];return void 0===i?"":null===i?r(n,t):Array.isArray(i)?i.reduce(o(n),[]).join("&"):r(n,t)+"="+r(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:o(e).split("?")[0]||"",query:s(a(e),t)}),t.stringifyUrl=(e,n)=>{const r=o(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i),u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url),s=Object.assign(a,e.query);let l=t.stringify(s,n);return l&&(l="?"+l),`${r}${l}${u}`}}));Eb.extract,Eb.parse,Eb.stringify,Eb.parseUrl,Eb.stringifyUrl;const kb=Bc((e,t)=>Gc(Mc(yf,sm()),Ec(e=>im(n=>H.createElement(hb,{path:e,exact:!0},({match:e,location:r})=>e?t.fold(qf([n,e.params,Eb.parse(r.search)])):null))),ad(If(String),Yf))(e)),Cb=Bc((e,t,n)=>im(r=>H.createElement(hb,null,()=>t(r)?H.createElement(mb,{to:{pathname:e}}):n.fold(r)))),Sb=e=>am(gb).contramap(t=>Uf(t,{children:e.fold(t)})),Ab=nm(ed("isDropdownContentShown",!1),sm()),Ob=am(Cy).contramap(Uf({alt:"image"})),Mb={dropdownMenu:{display:"flex",flexDirection:"column",zIndex:9999},dropdownMenuItem:{display:"flex",flexDirection:"row",alignItems:"center",minHeight:42,fontSize:14,paddingLeft:5,paddingRight:5,color:"white","&:hover":{backgroundColor:"#3E4146"}},dropdownMenuItemLabel:{paddingRight:40},dropdownMenuItemImageContainer:{minWidth:30,display:"flex",justifyContent:"center"}},Db=e=>im(t=>Gc(Hh(Xf(["ref"],t)),Ab,Ec(lm({className:t.classes.dropdownContent})))(e)),Pb=e=>im(t=>Gc(Hh(Xf(["ref"],t)),Dy(()=>t.setIsDropdownContentShown(!1)),Ec(lm({className:Oc("dropdown"),onClick:e=>e.setIsDropdownContentShown(!e.isDropdownContentShown)})))(e)),Tb=Jh("isDropdownContentShown","setIsDropdownContentShown",!1),Fb=nm(ed("extraContent",void 0),sm()),Nb=im(e=>Gc(Hh(e),Ec(lm({className:Oc("dropdownMenuItem"),onClick:e.onClick})),yf($l,Fb(e.extraContent)),yf($l,im(e=>H.createElement("span",{className:e.classes.dropdownMenuItemLabel},e.label))),Ec(lm({className:Oc("dropdownMenuItemImageContainer")})))(Ob.contramap(Dc({src:e.icon,width:e.iconWidth,height:e.iconHeight})))),jb=im(e=>Gc(Hh(e),em(Mb),Ec(lm({className:Oc("dropdownMenu")})),Mc(yf,sm()),Ec(Gc(Nb.contramap,Uf)))(e.items)),Rb={overlay:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"20vh"},dialogContentContainer:e=>({backgroundColor:"dark"===e.theme?"#373B40":"white",borderBottomLeftRadius:3,borderBottomRightRadius:3,padding:30}),dialogHeader:e=>({padding:30,paddingTop:15,paddingBottom:15,backgroundColor:"dark"===e.theme?"#545960":"#F8F8F8",borderBottom:"1px solid "+("dark"===e.theme?"#2E3135":"#DDDDDD"),borderTopLeftRadius:3,borderTopRightRadius:3,display:"flex",alignItems:"center","& > img":{cursor:"pointer"}}),headerTitle:e=>({color:"dark"===e.theme?"white":"#495057",fontSize:22,flexGrow:1}),modalDialog:{minWidth:500,boxShadow:"2px 2px 15px rgba(0, 0, 0, 0.6)",borderBottomLeftRadius:3,borderBottomRightRadius:3,borderTopLeftRadius:3,borderTopRightRadius:3}},Bb=am(Cy).contramap(Uf({alt:"image"})),Lb=e=>im(t=>Gc(Hh(t),Ec(lm({className:Oc("overlay")})))(e)),zb=Bc((e,t,n)=>{const r=nm(ed(e+"ModalShow",!1),sm());return Gc(em(Rb),Jh(e+"ModalShow",`set${e}ModalShow`,!1),yf($l,Gc(r,Lb,om(t=>Uf(t,{closeModal:()=>t[`set${e}ModalShow`](!1)})))(t)))(n)}),Ib=im(e=>Gc(Hh(e),Ec(lm({className:Oc("dialogHeader")})),yf($l,Bb.contramap(Dc({src:"assets/close.svg",onClick:e.closeModal}))))(im(e=>H.createElement("div",{className:e.classes.headerTitle},e.title)))),$b=Bc(({title:e},t)=>Gc(Ec(lm({className:Oc("modalDialog")})),yf(Ib.contramap(t=>Gf(t,{title:jf(If(String),Xc,Tc(t))(e)}))),Ec(lm({className:Oc("dialogContentContainer")})))(t));var Ub=t(n((function(e,t){function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r})));const qb=(e,t)=>(n=e,r)=>td(Xc,r.type,t)(n,r);var Wb=Kp({selectedTheme:qb("dark",{CHANGE_THEME:(e,{theme:t})=>t})});var Hb=Kp({selectedProject:qb(null,{CREATE_PROJECT:(e,{project:t})=>t})});var Vb=Kp({all:qb([],{CREATE_PROJECT:Dc([]),ADD_PROFILE:(e,{profile:t})=>[...e,t]}),selected:qb(0,{CREATE_PROJECT:Dc(null),ADD_PROFILE:(e,{profile:t})=>t.id,SELECT_PROFILE:(e,{profile:t})=>t.id})}),Gb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16)}));t(Gb);var Yb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);var i=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")};t.default=i}));t(Yb);var Xb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i=a(Gb),o=a(Yb);function a(e){return e&&e.__esModule?e:{default:e}}var u=0,s=0;var l=function(e,t,a){var l=t&&a||0,c=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:r;if(null==f||null==d){var p=e.random||(e.rng||i.default)();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=r=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:s+1,g=h-u+(m-s)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>u)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,s=m,r=d;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var y=h/4294967296*1e4&268435455;c[l++]=y>>>8&255,c[l++]=255&y,c[l++]=y>>>24&15|16,c[l++]=y>>>16&255,c[l++]=d>>>8|128,c[l++]=255&d;for(var b=0;b<6;++b)c[l+b]=f[b];return t||(0,o.default)(c)};t.default=l}));t(Xb);var Kb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=function(e,i,o,a){var u=o&&a||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof i&&(i=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(i)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=n(i.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,o)for(var l=0;l<16;++l)o[u+l]=s[l];return o||(0,r.default)(s)};try{a.name=e}catch(e){}return a.DNS=i,a.URL=o,a},t.URL=t.DNS=void 0;var n,r=(n=Yb)&&n.__esModule?n:{default:n};const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o}));t(Kb);Kb.URL,Kb.DNS;var Qb=n((function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((u=n(n(t,e),n(i,a)))<<(s=o)|u>>>32-s,r);var u,s}function i(e,t,n,i,o,a,u){return r(t&n|~t&i,e,t,o,a,u)}function o(e,t,n,i,o,a,u){return r(t&i|n&~i,e,t,o,a,u)}function a(e,t,n,i,o,a,u){return r(t^n^i,e,t,o,a,u)}function u(e,t,n,i,o,a,u){return r(n^(t|~i),e,t,o,a,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,n,r,i=[],o=32*e.length;for(t=0;t<o;t+=8)n=e[t>>5]>>>t%32&255,r=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),i.push(r);return i}(function(e,t){var r,s,l,c,f;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var d=1732584193,p=-271733879,h=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)s=d,l=p,c=h,f=m,d=i(d,p,h,m,e[r],7,-680876936),m=i(m,d,p,h,e[r+1],12,-389564586),h=i(h,m,d,p,e[r+2],17,606105819),p=i(p,h,m,d,e[r+3],22,-1044525330),d=i(d,p,h,m,e[r+4],7,-176418897),m=i(m,d,p,h,e[r+5],12,1200080426),h=i(h,m,d,p,e[r+6],17,-1473231341),p=i(p,h,m,d,e[r+7],22,-45705983),d=i(d,p,h,m,e[r+8],7,1770035416),m=i(m,d,p,h,e[r+9],12,-1958414417),h=i(h,m,d,p,e[r+10],17,-42063),p=i(p,h,m,d,e[r+11],22,-1990404162),d=i(d,p,h,m,e[r+12],7,1804603682),m=i(m,d,p,h,e[r+13],12,-40341101),h=i(h,m,d,p,e[r+14],17,-1502002290),p=i(p,h,m,d,e[r+15],22,1236535329),d=o(d,p,h,m,e[r+1],5,-165796510),m=o(m,d,p,h,e[r+6],9,-1069501632),h=o(h,m,d,p,e[r+11],14,643717713),p=o(p,h,m,d,e[r],20,-373897302),d=o(d,p,h,m,e[r+5],5,-701558691),m=o(m,d,p,h,e[r+10],9,38016083),h=o(h,m,d,p,e[r+15],14,-660478335),p=o(p,h,m,d,e[r+4],20,-405537848),d=o(d,p,h,m,e[r+9],5,568446438),m=o(m,d,p,h,e[r+14],9,-1019803690),h=o(h,m,d,p,e[r+3],14,-187363961),p=o(p,h,m,d,e[r+8],20,1163531501),d=o(d,p,h,m,e[r+13],5,-1444681467),m=o(m,d,p,h,e[r+2],9,-51403784),h=o(h,m,d,p,e[r+7],14,1735328473),p=o(p,h,m,d,e[r+12],20,-1926607734),d=a(d,p,h,m,e[r+5],4,-378558),m=a(m,d,p,h,e[r+8],11,-2022574463),h=a(h,m,d,p,e[r+11],16,1839030562),p=a(p,h,m,d,e[r+14],23,-35309556),d=a(d,p,h,m,e[r+1],4,-1530992060),m=a(m,d,p,h,e[r+4],11,1272893353),h=a(h,m,d,p,e[r+7],16,-155497632),p=a(p,h,m,d,e[r+10],23,-1094730640),d=a(d,p,h,m,e[r+13],4,681279174),m=a(m,d,p,h,e[r],11,-358537222),h=a(h,m,d,p,e[r+3],16,-722521979),p=a(p,h,m,d,e[r+6],23,76029189),d=a(d,p,h,m,e[r+9],4,-640364487),m=a(m,d,p,h,e[r+12],11,-421815835),h=a(h,m,d,p,e[r+15],16,530742520),p=a(p,h,m,d,e[r+2],23,-995338651),d=u(d,p,h,m,e[r],6,-198630844),m=u(m,d,p,h,e[r+7],10,1126891415),h=u(h,m,d,p,e[r+14],15,-1416354905),p=u(p,h,m,d,e[r+5],21,-57434055),d=u(d,p,h,m,e[r+12],6,1700485571),m=u(m,d,p,h,e[r+3],10,-1894986606),h=u(h,m,d,p,e[r+10],15,-1051523),p=u(p,h,m,d,e[r+1],21,-2054922799),d=u(d,p,h,m,e[r+8],6,1873313359),m=u(m,d,p,h,e[r+15],10,-30611744),h=u(h,m,d,p,e[r+6],15,-1560198380),p=u(p,h,m,d,e[r+13],21,1309151649),d=u(d,p,h,m,e[r+4],6,-145523070),m=u(m,d,p,h,e[r+11],10,-1120210379),h=u(h,m,d,p,e[r+2],15,718787259),p=u(p,h,m,d,e[r+9],21,-343485551),d=n(d,s),p=n(p,l),h=n(h,c),m=n(m,f);return[d,p,h,m]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e[t/8])<<t%32;return n}(e),8*e.length))};t.default=s}));t(Qb);var Jb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(Kb),r=i(Qb);function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v3",48,r.default);t.default=o}));t(Jb);var Zb=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(Gb),r=i(Yb);function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e,t,i){var o=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||(0,r.default)(a)};t.default=o}));t(Zb);var ex=n((function(e,t){function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=new Array(o.length);for(var a=0;a<o.length;a++)e[a]=o.charCodeAt(a)}e.push(128);var u=e.length/4+2,s=Math.ceil(u/16),l=new Array(s);for(a=0;a<s;a++){l[a]=new Array(16);for(var c=0;c<16;c++)l[a][c]=e[64*a+4*c]<<24|e[64*a+4*c+1]<<16|e[64*a+4*c+2]<<8|e[64*a+4*c+3]}for(l[s-1][14]=8*(e.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(e.length-1)&4294967295,a=0;a<s;a++){for(var f=new Array(80),d=0;d<16;d++)f[d]=l[a][d];for(d=16;d<80;d++)f[d]=r(f[d-3]^f[d-8]^f[d-14]^f[d-16],1);var p=i[0],h=i[1],m=i[2],g=i[3],v=i[4];for(d=0;d<80;d++){var y=Math.floor(d/20),b=r(p,5)+n(y,h,m,g)+v+t[y]+f[d]>>>0;v=g,g=m,m=r(h,30)>>>0,h=p,p=b}i[0]=i[0]+p>>>0,i[1]=i[1]+h>>>0,i[2]=i[2]+m>>>0,i[3]=i[3]+g>>>0,i[4]=i[4]+v>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i}));t(ex);var tx=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(Kb),r=i(ex);function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,n.default)("v5",80,r.default);t.default=o}));t(tx);var nx=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}});var n=a(Xb),r=a(Jb),i=a(Zb),o=a(tx);function a(e){return e&&e.__esModule?e:{default:e}}}));t(nx);var rx=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.uuid=function(){return nx.v4()};const n={v4:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,v5:/(?:^[a-f0-9]{8}-[a-f0-9]{4}-5[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u};t.regex=n;t.isUuid=function(e){return n.v4.test(e)||n.v5.test(e)};t.empty=function(){return"00000000-0000-0000-0000-000000000000"};t.fromString=function(e){return nx.v5(e,"bb5d0ffa-9a4c-4d7c-8fc2-0a7d2220ba45")}}));t(rx);var ix=rx.uuid;rx.regex,rx.isUuid,rx.empty,rx.fromString;const ox=[{id:ix(),label:"LRM",min:0,max:100,range:[{start:20,end:55}]},{id:ix(),label:"LM1",min:0,max:100,range:[{start:34,end:55},{start:10,end:25},{start:80,end:90}]}];var ax=Kp({all:qb(ox,{CREATE_PROJECT:Dc(ox),ADD_MODIFIER:(e,{modifier:t})=>[...e,t],REMOVE_MODIFIER:(e,{modifier:t})=>(console.log("before",e),console.log("modifier",t),console.log("after",ud([t],e)),ud([t],e))}),selected:qb(0,{CREATE_PROJECT:Dc(null),ADD_MODIFIER:(e,{modifier:t})=>t.id,SELECT_MODIFIER:(e,{modifier:t})=>t.id,REMOVE_MODIFIER:Dc(null)})});var ux=Kp({overall:qb([{name:"totalSparsity",label:"Total Sparsity",value:.5,format:"0.0%"},{name:"estimatedSpeedupFactor",label:"Est. Speedup Factor",value:12.5,format:".1f"},{name:"recoverabilityScore",label:"Recoverability Score",value:.023,format:"0"}],{}),time:qb([{name:"current",label:"Est. Current Time",value:.003,format:"0"},{name:"baseline",label:"Est. Baseline Time",value:.981,format:"0"}],{}),parameters:qb([{name:"current",label:"Current Parameters",value:218e5,format:"~s"},{name:"baseline",label:"Baseline Parameters",value:256e5,format:"~s"}],{}),flops:qb([{name:"current",label:"Current FLOPS",value:256e5,format:"~s"},{name:"baseline",label:"Baseline FLOPS",value:256e5,format:"~s"}],{})});var sx=Jp(Kp({theme:Wb,projects:Hb,profiles:Vb,modifiers:ax,metrics:ux}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Qp)(Xp(Ub)));const lx=e=>e.theme.selectedTheme,cx=e=>e.projects.selectedProject,fx=e=>e.profiles.all,dx=e=>e.profiles.all.find(t=>t.id===e.profiles.selected),px=e=>t=>t({type:"SELECT_PROFILE",profile:e}),hx=e=>t=>t({type:"ADD_PROFILE",profile:e||{name:"Custom Profile",id:ix()}}),mx=({name:e,profiles:t})=>n=>{const r=ix();n({type:"CREATE_PROJECT",project:{name:e,id:r}});const i=[{id:ix(),name:"Performance Optimized",speedupFactor:12.5,recoverabilityScore:.023},{id:ix(),name:"Loss Optimized",speedupFactor:10.5,recoverabilityScore:.018},{id:ix(),name:"Uniform",speedupFactor:11.4,recoverabilityScore:.02}];Gc(Gc(n,px),Yc,id(Ec(Gc(n,hx))),bf(i))(t),window.location.hash="#/project/"+r},gx=()=>(e,t)=>{const n=t(),{name:r}=cx(n),i=fx(n);((e,t,n)=>{const r=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{const e=document.createElement("a"),n=URL.createObjectURL(r);e.href=n,e.download=t,document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e),window.URL.revokeObjectURL(n)},0)}})(JSON.stringify({name:r,profiles:i}),r+".nmprj","application/json")},vx=e=>({border:"1px solid #787878",borderRadius:3,backgroundColor:"light"===e.theme?"white":"#484A4A",display:"flex",alignItems:"center",paddingLeft:10,fontSize:15,color:"light"===e.theme?"black":"white"}),yx=(e,t=2)=>{if(0===e)return"0 Bytes";const n=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]},bx={inputContainer:{display:"flex",flexDirection:"row",marginBottom:35},inputLabel:e=>({color:"light"===e.theme?"black":"white",fontSize:15,marginBottom:8}),fileName:e=>({display:"flex",alignItems:"center",color:"light"===e.theme?"black":"white",marginLeft:15,flexGrow:1,height:30}),fileInput:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},browseButton:{display:"flex",height:30,width:80,padding:0,"& > label":{width:80,height:30,paddingTop:2,cursor:"pointer",fontSize:15}},projectInput:e=>({...vx(e),height:30,width:"100%"}),buttonsContainer:{display:"flex",marginTop:50,justifyContent:"flex-end","& > button:first-child":{marginRight:13},"& > button:focus":{boxShadow:"none !important"}}},xx=e=>e.file&&e.projectName,wx=nm(ed("formState","analysing"),sm()),_x=nm(ed("file",null),sm()),Ex=um("div").contramap(e=>({className:e.classes.inputLabel,children:e.label})),kx=um("div").contramap(e=>({className:e.classes.fileName,children:`${e.file.name} (${yx(e.file.size)})`})),Cx=im(e=>Gc(Hh(e),Ec(lm({className:Oc("inputContainer")})),Mc(yf,sm()))([um("input").contramap(Dc({id:"newProjectFileInput",type:"file",accept:".onnx",className:e.classes.fileInput,onChange:Gc(id(()=>{e.projectNameInput.current.focus(),e.projectNameInput.current.select()}),id(e.setProjectName),$f("."),Sf(1),nd("."),Oc("name"),id(e.setFile),Yc,Ac(["target","files"]))})),am(Ey).contramap(Dc({children:um("label").contramap(Dc({for:"newProjectFileInput",children:"Browse"})).fold({}),className:e.classes.browseButton,variant:"light"===e.theme?"outline-primary":"secondary"})),_x(kx)])),Sx=im(e=>Gc(Hh(e),Ec(lm({className:Oc("buttonsContainer")})),Mc(yf,sm()))([am(Ey).contramap(Uf({children:"Cancel",variant:"light"===e.theme?"outline-primary":"secondary",onClick:e.closeModal})),am(Ey).contramap(Uf({children:"Next",variant:"primary",disabled:!xx(e),onClick:()=>"fileSelect"===e.formState?e.setFormState("analysing"):(e.closeModal(),e.dispatch(mx({name:e.projectName})))}))])),Ax=im(e=>Gc(Hh(e),yf(Ex.contramap(Uf({label:"A ONNX model is required to start"}))),Mc(yf,sm()))([Cx,Ex.contramap(Uf({label:"Name this project"})),um("input").contramap(Dc({ref:e.projectNameInput,className:e.classes.projectInput,value:e.projectName,onChange:t=>e.setProjectName(t.target.value)}))])),Ox=im(e=>Gc(Hh(e),Qh,em(bx),Jh("formState","setFormState","fileSelect"),Jh("file","setFile",null),Jh("projectName","setProjectName",null),Zh("projectNameInput"),$b({title:e=>(e=>"analysing"===e.formState)(e)?"Analyzing":"New Project"}),Mc(yf,sm()))([wx(Ax),Sx])),Mx={container:e=>({background:"dark"===e.theme?"linear-gradient(rgb(28, 31, 34) 22%, rgb(0, 0, 0) 100%)":"rgba(149, 167, 183, 1)",height:105,flexShrink:0,zIndex:1,display:"flex",flexDirection:"row",paddingLeft:65,borderBottom:"7px solid "+("dark"===e.theme?"#61676D":"white"),boxShadow:"dark"===e.theme?"rgba(0, 0, 0, 0.498) 0px 2px 2px":"rgba(0, 0, 0, 0.247) 0px 2px 2px"}),addProfileContainer:e=>({cursor:"pointer",background:"dark"===e.theme?"#2A2C2F":"rgba(217, 225, 232, 1)",transition:"background 0.2s ease-in, color 0.2s ease-in",width:75,marginTop:11,marginBottom:8,borderRadius:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",whiteSpace:"normal",color:"dark"===e.theme?"#AAAAAA":"#868E96","&:hover":{background:"dark"===e.theme?"#3E4146":"white",color:"dark"===e.theme?"#AAAAAA":"#495057"}}),addProfileText:{fontSize:12,textAlign:"center",wordSpacing:75,lineHeight:"14px",paddingBottom:5},addProfileIcon:{flexShrink:0}},Dx={profileContainerOuter:e=>({display:"flex",cursor:"pointer",flexDirection:"row",marginRight:e.selected?0:9,marginLeft:e.selected?-9:0,paddingTop:e.selected?9:19,alignItems:"flex-end"}),profileContainer:e=>({height:"100%",position:"relative",transition:"background 0.2s ease-in, color 0.2s ease-in",display:"flex",flexDirection:"column",paddingLeft:(e.selected,10),background:"dark"===e.theme?e.selected?"#61676D":"#3E4146":e.selected?"white":"rgba(217, 225, 232, 1)",width:120,borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomLeftRadius:e.selected?0:5,borderBottomRightRadius:e.selected?0:5,color:"dark"===e.theme?e.selected?"white":"#AAAAAA":e.selected?"#495057":"#868E96",marginBottom:e.selected?0:7,paddingBottom:e.selected?7:0,"&:hover":{background:"dark"===e.theme?"#61676D":"white",color:"dark"===e.theme?"white":"#495057"},boxShadow:"dark"===e.theme?e.selected?"none":"2px 2px 3px rgba(0, 0, 0, 0.501960784313725)":e.selected?"none":"2px 2px 3px rgba(0, 0, 0, 0.250980392156863)"}),name:e=>({paddingTop:e.selected?9:6,whiteSpace:"normal",fontSize:12,flexGrow:1,lineHeight:"15px"}),speedupFactor:{display:"flex",alignItems:"center",fontSize:18,lineHeight:"18px"},speedupFactorImage:{marginLeft:5},recoverabilityScore:{fontSize:12}},Px=nm(ed("selected",!1),sm()),Tx=nm(Gc(Fc,Ac(["profile","speedupFactor"])),sm()),Fx=Sy.contramap(e=>({src:`assets/inverse_corner_left${"light"===e.theme?"_light":""}.svg`,width:9,height:8})),Nx=Sy.contramap(e=>({src:`assets/inverse_corner_right${"light"===e.theme?"_light":""}.svg`,width:9,height:8})),jx=im(e=>Gc(Hh(Uf(e,{selected:e.profile.id===e.selectedProfile.id})),em(Dx),Ec(lm({className:Oc("profileContainerOuter"),onClick:()=>e.dispatch(px(e.profile))})),yf(Px(Fx)),yf($l,Px(Nx)),Ec(lm({className:Oc("profileContainer")})),Mc(yf,sm()))([um("div").contramap(e=>({className:e.classes.name,children:e.profile.name})),Tx(um("div").contramap(e=>({className:e.classes.speedupFactor,children:[e.profile.speedupFactor+"X",Sy.contramap(e=>({className:e.classes.speedupFactorImage,src:"assets/go_up.svg",width:15,height:17})).fold(e)]}))),um("div").contramap(e=>({className:e.classes.recoverabilityScore,children:e.profile.recoverabilityScore}))])),Rx=im(e=>Gc(Hh(e),Mc(yf,sm()),Ec(Gc(jx.contramap,Uf,Lf("profile"))))(e.profiles)),Bx=im(e=>Gc(Hh(e),Ec(lm({className:Oc("addProfileContainer"),onClick:()=>e.dispatch(hx())})),Mc(yf,sm()))([um("span").contramap(Dc({className:e.classes.addProfileText,children:"Add custom profile"})),Sy.contramap(Dc({className:e.classes.addProfileIcon,src:"assets/add_profile.svg",width:16,height:16}))]));var Lx=im(e=>Gc(Hh(e),Qh,Kh("profiles",fx),Kh("selectedProfile",dx),em(Mx),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([Rx,Bx])),zx=n((function(e,t){t.__esModule=!0,t.default=function(e=n,t=n){const r=Object.keys(e),i=Object.keys(t);return e===t||r.length===i.length&&r.every(n=>e[n]===t[n])};const n={}}));t(zx);var Ix=n((function(e,t){!function(e){function t(e,t,n){return e.fields=t||[],e.fname=n,e}function n(e){return null==e?null:e.fields}function r(e){throw Error(e)}function i(e){var t,n,i,o=[],a=null,u=0,s=e.length,l="";function c(){o.push(l+e.substring(t,n)),l="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(i=e[n]))l+=e.substring(t,n),l+=e.substring(++n,++n),t=n;else if(i===a)c(),a=null,u=-1;else{if(a)continue;t===u&&'"'===i||t===u&&"'"===i?(t=n+1,a=i):"."!==i||u?"["===i?(n>t&&c(),u=t=n+1):"]"===i&&(u||r("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&r("Access path missing closing bracket: "+e),a&&r("Access path missing closing quote: "+e),n>t&&(n++,c()),o}var o=Array.isArray;function a(e){return e===Object(e)}function u(e){return"string"==typeof e}function s(e){return o(e)?"["+e.map(s)+"]":a(e)||u(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function l(e,n){var r=i(e),o="return _["+r.map(s).join("][")+"];";return t(Function("_",o),[e=1===r.length?r[0]:e],n||e)}var c=[],f=l("id"),d=t((function(e){return e}),c,"identity"),p=t((function(){return 0}),c,"zero"),h=t((function(){return 1}),c,"one"),m=t((function(){return!0}),c,"true"),g=t((function(){return!1}),c,"false");function v(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}const y=e=>"__proto__"!==e;function b(e,t,n,r){var i,u;if(y(t))if(a(n)&&!o(n))for(i in u=a(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?b(u,i,n[i]):y(i)&&(u[i]=n[i]);else e[t]=n}function x(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function w(e){return e[e.length-1]}function _(e){return null==e||""===e?null:+e}function E(e){return function(t){return e*Math.exp(t)}}function k(e){return function(t){return Math.log(e*t)}}function C(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function A(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function O(e,t,n,r){var i=n(e[0]),o=n(w(e)),a=(o-i)*t;return[r(i-a),r(o-a)]}function M(e,t,n,r,i){var o=r(e[0]),a=r(w(e)),u=null!=t?r(t):(o+a)/2;return[i(u+(o-u)*n),i(u+(a-u)*n)]}function D(e){return null!=e?o(e)?e:[e]:[]}function P(e){return"function"==typeof e}const T=Object.prototype.hasOwnProperty;function F(e,t){return T.call(e,t)}var N={};function j(e){return"[object Date]"===Object.prototype.toString.call(e)}function R(e){return"number"==typeof e}function B(e,t){for(var n="";--t>=0;)n+=e;return n}function L(e){return R(e)||j(e)?e:Date.parse(e)}e.Debug=4,e.Error=1,e.Info=3,e.None=0,e.Warn=2,e.accessor=t,e.accessorFields=n,e.accessorName=function(e){return null==e?null:e.fname},e.array=D,e.clampRange=function(e,t,n){var r,i=e[0],o=e[1];return o<i&&(r=o,o=i,i=r),(r=o-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},e.compare=function(e,r){var o,a,u,l,c,f,d,p,h,m=[],g=(e=D(e)).map((function(e,t){return null==e?null:(m.push(t),P(e)?e:i(e).map(s).join("]["))})),v=m.length-1,y=D(r),b="var u,v;return ";if(v<0)return null;for(a=0;a<=v;++a)P(u=g[o=m[a]])?(l="(u=this."+(f="f"+o)+"(a))",c="(v=this."+f+"(b))",(d=d||{})[f]=u):(l="(u=a["+u+"])",c="(v=b["+u+"])"),f="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==y[o]?(h=1,p=-1):(h=-1,p=1),b+="("+l+"<"+c+"||u==null)&&v!=null?"+p+":(u>v||v==null)&&u!=null?"+h+":"+f+"!==u&&v===v?"+p+":v!==v&&u===u?"+h+(o<v?":":":0");return u=Function("a","b",b+";"),d&&(u=u.bind(d)),e=e.reduce((function(e,t){return P(t)?(n(t)||[]).forEach((function(t){e[t]=1})):null!=t&&(e[t+""]=1),e}),{}),t(u,Object.keys(e))},e.constant=function(e){return P(e)?e:function(){return e}},e.debounce=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},e.error=r,e.extend=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},e.extent=function(e,t){var n,r,i,o,a=0;if(e&&(n=e.length))if(null==t){for(r=e[a];a<n&&(null==r||r!=r);r=e[++a]);for(i=o=r;a<n;++a)null!=(r=e[a])&&(r<i&&(i=r),r>o&&(o=r))}else{for(r=t(e[a]);a<n&&(null==r||r!=r);r=t(e[++a]));for(i=o=r;a<n;++a)null!=(r=t(e[a]))&&(r<i&&(i=r),r>o&&(o=r))}return[i,o]},e.extentIndex=function(e,t){var n,r,i,o,a,u=-1,s=e.length;if(null==t){for(;++u<s;)if(null!=(r=e[u])&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(o=a=u;++u<s;)null!=(r=e[u])&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}else{for(;++u<s;)if(null!=(r=t(e[u],u,e))&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(o=a=u;++u<s;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,o=u),i<r&&(i=r,a=u))}return[o,a]},e.falsy=g,e.fastmap=function(e){var t,n,r={};function i(e){return F(r,e)&&r[e]!==N}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===N&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=N),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,o={},a=0;for(e in r)(i=r[e])===N||n&&n(i)||(o[e]=i,++a);t.size=a,t.empty=0,t.object=r=o}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},e.field=l,e.flush=function(e,t,n,r,i,o){if(!n&&0!==n)return o;var a,u,s=e[0],l=w(e),c=+n;return l<s&&(a=s,s=l,l=a),(a=Math.abs(t-s))<(u=Math.abs(l-t))&&a<=c?r:u<=c?i:o},e.hasOwnProperty=F,e.id=f,e.identity=d,e.inherits=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},e.inrange=function(e,t,n,r){var i,o=t[0],a=t[t.length-1];return o>a&&(i=o,o=a,a=i),r=void 0===r||r,((n=void 0===n||n)?o<=e:o<e)&&(r?e<=a:e<a)},e.isArray=o,e.isBoolean=function(e){return"boolean"==typeof e},e.isDate=j,e.isFunction=P,e.isNumber=R,e.isObject=a,e.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},e.isString=u,e.key=function(e,n){return e&&(e=n?D(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):D(e)),t(e&&e.length?Function("_","return ''+"+e.map((function(e){return"_["+(n?s(e):i(e).map(s).join("]["))+"]"})).join("+'|'+")+";"):function(){return""},e,"key")},e.lerp=function(e,t){const n=e[0],r=w(e),i=+t;return i?1===i?r:n+i*(r-n):n},e.logger=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&v(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&v(t||"warn","WARN",arguments),this},info:function(){return n>=3&&v(t||"log","INFO",arguments),this},debug:function(){return n>=4&&v(t||"log","DEBUG",arguments),this}}},e.lruCache=function(e){let t,n,r;e=+e||1e4;const i=()=>{t={},n={},r=0},o=(i,o)=>(++r>e&&(n=t,t={},r=1),t[i]=o);return i(),{clear:i,has:e=>F(t,e)||F(n,e),get:e=>F(t,e)?t[e]:F(n,e)?o(e,n[e]):void 0,set:(e,n)=>F(t,e)?t[e]=n:o(e,n)}},e.merge=function(e,t,n,r){var i=t.length,o=n.length;if(!o)return t;if(!i)return n;for(var a=r||new t.constructor(i+o),u=0,s=0,l=0;u<i&&s<o;++l)a[l]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<i;++u,++l)a[l]=t[u];for(;s<o;++s,++l)a[l]=n[s];return a},e.mergeConfig=function(...e){return e.reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=x(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;b(e,n,t[n],r)}return e},{})},e.one=h,e.pad=function(e,t,n,r){var i=n||" ",o=e+"",a=t-o.length;return a<=0?o:"left"===r?B(i,a)+o:"center"===r?B(i,~~(a/2))+o+B(i,Math.ceil(a/2)):o+B(i,a)},e.panLinear=function(e,t){return O(e,t,_,d)},e.panLog=function(e,t){var n=Math.sign(e[0]);return O(e,t,k(n),E(n))},e.panPow=function(e,t,n){return O(e,t,A(n),A(1/n))},e.panSymlog=function(e,t,n){return O(e,t,C(n),S(n))},e.peek=w,e.quarter=function(e){return 1+~~(new Date(e).getMonth()/3)},e.repeat=B,e.span=function(e){return e&&w(e)-e[0]||0},e.splitAccessPath=i,e.stringValue=s,e.toBoolean=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)},e.toDate=function(e,t){return t=t||L,null==e||""===e?null:t(e)},e.toNumber=_,e.toSet=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},e.toString=function(e){return null==e||""===e?null:e+""},e.truncate=function(e,t,n,r){var i=null!=r?r:"",o=e+"",a=o.length,u=Math.max(0,t-i.length);return a<=t?o:"left"===n?i+o.slice(a-u):"center"===n?o.slice(0,Math.ceil(u/2))+i+o.slice(a-~~(u/2)):o.slice(0,u)+i},e.truthy=m,e.utcquarter=function(e){return 1+~~(new Date(e).getUTCMonth()/3)},e.visitArray=function(e,t,n){if(e){var r,i=0,o=e.length;if(t)for(;i<o;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}},e.writeConfig=b,e.zero=p,e.zoomLinear=function(e,t,n){return M(e,t,n,_,d)},e.zoomLog=function(e,t,n){var r=Math.sign(e[0]);return M(e,t,n,k(r),E(r))},e.zoomPow=function(e,t,n,r){return M(e,t,n,A(r),A(1/r))},e.zoomSymlog=function(e,t,n,r){return M(e,t,n,C(r),S(r))},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Ix);var $x=n((function(e,t){!function(e){var t={},n={};function r(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function i(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function o(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function a(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+o(-t,6):t>9999?"+"+o(t,6):o(t,4))+"-"+o(e.getUTCMonth()+1,2)+"-"+o(e.getUTCDate(),2)+(a?"T"+o(n,2)+":"+o(r,2)+":"+o(i,2)+"."+o(a,3)+"Z":i?"T"+o(n,2)+":"+o(r,2)+":"+o(i,2)+"Z":r||n?"T"+o(n,2)+":"+o(r,2)+"Z":"")}function u(e){var o=new RegExp('["'+e+"\n\r]"),u=e.charCodeAt(0);function s(e,r){var i,o=[],a=e.length,s=0,l=0,c=a<=0,f=!1;function d(){if(c)return n;if(f)return f=!1,t;var r,i,o=s;if(34===e.charCodeAt(o)){for(;s++<a&&34!==e.charCodeAt(s)||34===e.charCodeAt(++s););return(r=s)>=a?c=!0:10===(i=e.charCodeAt(s++))?f=!0:13===i&&(f=!0,10===e.charCodeAt(s)&&++s),e.slice(o+1,r-1).replace(/""/g,'"')}for(;s<a;){if(10===(i=e.charCodeAt(r=s++)))f=!0;else if(13===i)f=!0,10===e.charCodeAt(s)&&++s;else if(i!==u)continue;return e.slice(o,r)}return c=!0,e.slice(o,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(i=d())!==n;){for(var p=[];i!==t&&i!==n;)p.push(i),i=d();r&&null==(p=r(p,l++))||o.push(p)}return o}function l(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function c(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?a(e):o.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=s(e,(function(e,o){if(n)return n(e,o-1);i=e,n=t?function(e,t){var n=r(e);return function(r,i){return t(n(r),i,e)}}(e,t):r(e)}));return o.columns=i||[],o},parseRows:s,format:function(t,n){return null==n&&(n=i(t)),[n.map(f).join(e)].concat(l(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=i(e)),l(e,t).join("\n")},formatRows:function(e){return e.map(c).join("\n")},formatRow:c,formatValue:f}}var s=u(","),l=s.parse,c=s.parseRows,f=s.format,d=s.formatBody,p=s.formatRows,h=s.formatRow,m=s.formatValue,g=u("\t"),v=g.parse,y=g.parseRows,b=g.format,x=g.formatBody,w=g.formatRows,_=g.formatRow,E=g.formatValue,k=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;k&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e},e.csvFormat=f,e.csvFormatBody=d,e.csvFormatRow=h,e.csvFormatRows=p,e.csvFormatValue=m,e.csvParse=l,e.csvParseRows=c,e.dsvFormat=u,e.tsvFormat=b,e.tsvFormatBody=x,e.tsvFormatRow=_,e.tsvFormatRows=w,e.tsvFormatValue=E,e.tsvParse=v,e.tsvParseRows=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t($x);var Ux=n((function(e,t){!function(e){function t(e){return e}function n(e){if(null==e)return t;var n,r,i=e.scale[0],o=e.scale[1],a=e.translate[0],u=e.translate[1];return function(e,t){t||(n=r=0);var s=2,l=e.length,c=new Array(l);for(c[0]=(n+=e[0])*i+a,c[1]=(r+=e[1])*o+u;s<l;)c[s]=e[s],++s;return c}}function r(e){var t,r=n(e.transform),i=1/0,o=i,a=-i,u=-i;function s(e){(e=r(e))[0]<i&&(i=e[0]),e[0]>a&&(a=e[0]),e[1]<o&&(o=e[1]),e[1]>u&&(u=e[1])}function l(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(l);break;case"Point":s(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(s)}}for(t in e.arcs.forEach((function(e){for(var t,n=-1,s=e.length;++n<s;)(t=r(e[n],n))[0]<i&&(i=t[0]),t[0]>a&&(a=t[0]),t[1]<o&&(o=t[1]),t[1]>u&&(u=t[1])})),e.objects)l(e.objects[t]);return[i,o,a,u]}function i(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=o(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function o(e,t){var r=n(e.transform),i=e.arcs;function o(e,t){t.length&&t.pop();for(var n=i[e<0?~e:e],o=0,a=n.length;o<a;++o)t.push(r(n[o],o));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,a)}function a(e){return r(e)}function u(e){for(var t=[],n=0,r=e.length;n<r;++n)o(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=u(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=l(t.arcs);break;case"MultiPolygon":n=t.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(t)}function a(e,t){var n={},r={},i={},o=[],a=-1;function u(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),o.push(i)}}return t.forEach((function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,o,a=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,i]:[i,n]}(t),u=a[0],s=a[1];if(n=i[u])if(delete i[n.end],n.push(t),n.end=s,o=r[s]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=u,o=i[u]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o}function u(e,t,n){var r,i,o;if(arguments.length>1)r=s(0,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:a(e,r)}}function s(e,t,n){var r,i=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:r})}function u(e){e.forEach(a)}function s(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(s)}(t.arcs)}}(t),o.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}function l(e,t){var n={},r=[],i=[];function u(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function s(t){return function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[0]*i[1]-t[1]*i[0];return Math.abs(o)}(o(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":u(t.arcs);break;case"MultiPolygon":t.arcs.forEach(u)}})),r.forEach((function(e){if(!e._){var t=[],r=[e];for(e._=1,i.push(t);e=r.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:i.map((function(t){var r,i=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&i.push(e)}))}))})),(r=(i=a(e,i)).length)>1)for(var o,u,l=1,c=s(i[0]);l<r;++l)(o=s(i[l]))>c&&(u=i[0],i[0]=i[l],i[l]=u,c=o);return i})).filter((function(e){return e.length>0}))}}function c(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}function f(e){if(null==e)return t;var n,r,i=e.scale[0],o=e.scale[1],a=e.translate[0],u=e.translate[1];return function(e,t){t||(n=r=0);var s=2,l=e.length,c=new Array(l),f=Math.round((e[0]-a)/i),d=Math.round((e[1]-u)/o);for(c[0]=f-n,n=f,c[1]=d-r,r=d;s<l;)c[s]=e[s],++s;return c}}e.bbox=r,e.feature=function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return i(e,t)}))}:i(e,t)},e.merge=function(e){return o(e,l.apply(this,arguments))},e.mergeArcs=l,e.mesh=function(e){return o(e,u.apply(this,arguments))},e.meshArcs=u,e.neighbors=function(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function i(e,t){e.forEach((function(e){r(e,t)}))}var o={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(e,t){e.forEach((function(e){i(e,t)}))}};for(var a in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in o&&o[t.type](t.arcs,n)})),t)for(var u=t[a],s=u.length,l=0;l<s;++l)for(var f=l+1;f<s;++f){var d,p=u[l],h=u[f];(d=n[p])[a=c(d,h)]!==h&&d.splice(a,0,h),(d=n[h])[a=c(d,p)]!==p&&d.splice(a,0,p)}return n},e.quantize=function(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)s=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be 2");var n,i=(s=e.bbox||r(e))[0],o=s[1],a=s[2],u=s[3];t={scale:[a-i?(a-i)/(n-1):1,u-o?(u-o)/(n-1):1],translate:[i,o]}}var s,l,c=f(t),d=e.objects,p={};function h(e){return c(e)}function m(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(m)};break;case"Point":t={type:"Point",coordinates:h(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(h)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(l in d)p[l]=m(d[l]);return{type:"Topology",bbox:s,transform:t,objects:p,arcs:e.arcs.map((function(e){var t,n=0,r=1,i=e.length,o=new Array(i);for(o[0]=c(e[0],0);++n<i;)((t=c(e[n],n))[0]||t[1])&&(o[r++]=t);return 1===r&&(o[r++]=[0,0]),o.length=r,o}))}},e.transform=n,e.untransform=f,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Ux);var qx=n((function(e,t){!function(e){var t=new Date,n=new Date;function r(e,i,o,a){function u(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return e(t=new Date(+t)),t},u.ceil=function(t){return e(t=new Date(t-1)),i(t,1),e(t),t},u.round=function(e){var t=u(e),n=u.ceil(e);return e-t<n-e?t:n},u.offset=function(e,t){return i(e=new Date(+e),null==t?1:Math.floor(t)),e},u.range=function(t,n,r){var o,a=[];if(t=u.ceil(t),r=null==r?1:Math.floor(r),!(t<n&&r>0))return a;do{a.push(o=new Date(+t)),i(t,r),e(t)}while(o<t&&t<n);return a},u.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;i(e,-1),!t(e););else for(;--n>=0;)for(;i(e,1),!t(e););}))},o&&(u.count=function(r,i){return t.setTime(+r),n.setTime(+i),e(t),e(n),Math.floor(o(t,n))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(a?function(t){return a(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}var i=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null};var o=i.range,a=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),u=a.range,s=r((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),l=s.range,c=r((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),f=c.range,d=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1})),p=d.range;function h(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var m=h(0),g=h(1),v=h(2),y=h(3),b=h(4),x=h(5),w=h(6),_=m.range,E=g.range,k=v.range,C=y.range,S=b.range,A=x.range,O=w.range,M=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),D=M.range,P=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));P.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var T=P.range,F=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})),N=F.range,j=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),R=j.range,B=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),L=B.range;function z(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var I=z(0),$=z(1),U=z(2),q=z(3),W=z(4),H=z(5),V=z(6),G=I.range,Y=$.range,X=U.range,K=q.range,Q=W.range,J=H.range,Z=V.range,ee=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),te=ee.range,ne=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ne.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var re=ne.range;e.timeDay=d,e.timeDays=p,e.timeFriday=x,e.timeFridays=A,e.timeHour=c,e.timeHours=f,e.timeInterval=r,e.timeMillisecond=i,e.timeMilliseconds=o,e.timeMinute=s,e.timeMinutes=l,e.timeMonday=g,e.timeMondays=E,e.timeMonth=M,e.timeMonths=D,e.timeSaturday=w,e.timeSaturdays=O,e.timeSecond=a,e.timeSeconds=u,e.timeSunday=m,e.timeSundays=_,e.timeThursday=b,e.timeThursdays=S,e.timeTuesday=v,e.timeTuesdays=k,e.timeWednesday=y,e.timeWednesdays=C,e.timeWeek=m,e.timeWeeks=_,e.timeYear=P,e.timeYears=T,e.utcDay=B,e.utcDays=L,e.utcFriday=H,e.utcFridays=J,e.utcHour=j,e.utcHours=R,e.utcMillisecond=i,e.utcMilliseconds=o,e.utcMinute=F,e.utcMinutes=N,e.utcMonday=$,e.utcMondays=Y,e.utcMonth=ee,e.utcMonths=te,e.utcSaturday=V,e.utcSaturdays=Z,e.utcSecond=a,e.utcSeconds=u,e.utcSunday=I,e.utcSundays=G,e.utcThursday=W,e.utcThursdays=Q,e.utcTuesday=U,e.utcTuesdays=X,e.utcWednesday=q,e.utcWednesdays=K,e.utcWeek=I,e.utcWeeks=G,e.utcYear=ne,e.utcYears=re,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(qx);var Wx=n((function(e,t){!function(e,t){function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function o(e){var o=e.dateTime,a=e.date,s=e.time,l=e.periods,c=e.days,f=e.shortDays,d=e.months,ye=e.shortMonths,be=p(l),xe=h(l),we=p(c),_e=h(c),Ee=p(f),ke=h(f),Ce=p(d),Se=h(d),Ae=p(ye),Oe=h(ye),Me={a:function(e){return f[e.getDay()]},A:function(e){return c[e.getDay()]},b:function(e){return ye[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:j,e:j,f:I,H:R,I:B,j:L,L:z,m:$,M:U,p:function(e){return l[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ge,s:ve,S:q,u:W,U:H,V:V,w:G,W:Y,x:null,X:null,y:X,Y:K,Z:Q,"%":me},De={a:function(e){return f[e.getUTCDay()]},A:function(e){return c[e.getUTCDay()]},b:function(e){return ye[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:J,e:J,f:re,H:Z,I:ee,j:te,L:ne,m:ie,M:oe,p:function(e){return l[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ge,s:ve,S:ae,u:ue,U:se,V:le,w:ce,W:fe,x:null,X:null,y:de,Y:pe,Z:he,"%":me},Pe={a:function(e,t,n){var r=Ee.exec(t.slice(n));return r?(e.w=ke[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=we.exec(t.slice(n));return r?(e.w=_e[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Oe[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=Ce.exec(t.slice(n));return r?(e.m=Se[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,n){return Ne(e,o,t,n)},d:C,e:C,f:P,H:A,I:A,j:S,L:D,m:k,M:O,p:function(e,t,n){var r=be.exec(t.slice(n));return r?(e.p=xe[r[0].toLowerCase()],n+r[0].length):-1},q:E,Q:F,s:N,S:M,u:g,U:v,V:y,w:m,W:b,x:function(e,t,n){return Ne(e,a,t,n)},X:function(e,t,n){return Ne(e,s,t,n)},y:w,Y:x,Z:_,"%":T};function Te(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=u[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function Fe(e,o){return function(a){var u,s,l=i(1900,void 0,1);if(Ne(l,e,a+="",0)!=a.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(o&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(s=(u=r(i(l.y,0,1))).getUTCDay(),u=s>4||0===s?t.utcMonday.ceil(u):t.utcMonday(u),u=t.utcDay.offset(u,7*(l.V-1)),l.y=u.getUTCFullYear(),l.m=u.getUTCMonth(),l.d=u.getUTCDate()+(l.w+6)%7):(s=(u=n(i(l.y,0,1))).getDay(),u=s>4||0===s?t.timeMonday.ceil(u):t.timeMonday(u),u=t.timeDay.offset(u,7*(l.V-1)),l.y=u.getFullYear(),l.m=u.getMonth(),l.d=u.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),s="Z"in l?r(i(l.y,0,1)).getUTCDay():n(i(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(s+5)%7:l.w+7*l.U-(s+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,r(l)):n(l)}}function Ne(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=Pe[i in u?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Me.x=Te(a,Me),Me.X=Te(s,Me),Me.c=Te(o,Me),De.x=Te(a,De),De.X=Te(s,De),De.c=Te(o,De),{format:function(e){var t=Te(e+="",Me);return t.toString=function(){return e},t},parse:function(e){var t=Fe(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Te(e+="",De);return t.toString=function(){return e},t},utcParse:function(e){var t=Fe(e+="",!0);return t.toString=function(){return e},t}}}var a,u={"-":"",_:" ",0:"0"},s=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function d(e){return e.replace(c,"\\$&")}function p(e){return new RegExp("^(?:"+e.map(d).join("|")+")","i")}function h(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function m(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function g(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function v(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function y(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function b(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function x(e,t,n){var r=s.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function w(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E(e,t,n){var r=s.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function k(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function C(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S(e,t,n){var r=s.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function A(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function O(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function M(e,t,n){var r=s.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function D(e,t,n){var r=s.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P(e,t,n){var r=s.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function T(e,t,n){var r=l.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function F(e,t,n){var r=s.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function N(e,t,n){var r=s.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function j(e,t){return f(e.getDate(),t,2)}function R(e,t){return f(e.getHours(),t,2)}function B(e,t){return f(e.getHours()%12||12,t,2)}function L(e,n){return f(1+t.timeDay.count(t.timeYear(e),e),n,3)}function z(e,t){return f(e.getMilliseconds(),t,3)}function I(e,t){return z(e,t)+"000"}function $(e,t){return f(e.getMonth()+1,t,2)}function U(e,t){return f(e.getMinutes(),t,2)}function q(e,t){return f(e.getSeconds(),t,2)}function W(e){var t=e.getDay();return 0===t?7:t}function H(e,n){return f(t.timeSunday.count(t.timeYear(e)-1,e),n,2)}function V(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),f(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function G(e){return e.getDay()}function Y(e,n){return f(t.timeMonday.count(t.timeYear(e)-1,e),n,2)}function X(e,t){return f(e.getFullYear()%100,t,2)}function K(e,t){return f(e.getFullYear()%1e4,t,4)}function Q(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+f(t/60|0,"0",2)+f(t%60,"0",2)}function J(e,t){return f(e.getUTCDate(),t,2)}function Z(e,t){return f(e.getUTCHours(),t,2)}function ee(e,t){return f(e.getUTCHours()%12||12,t,2)}function te(e,n){return f(1+t.utcDay.count(t.utcYear(e),e),n,3)}function ne(e,t){return f(e.getUTCMilliseconds(),t,3)}function re(e,t){return ne(e,t)+"000"}function ie(e,t){return f(e.getUTCMonth()+1,t,2)}function oe(e,t){return f(e.getUTCMinutes(),t,2)}function ae(e,t){return f(e.getUTCSeconds(),t,2)}function ue(e){var t=e.getUTCDay();return 0===t?7:t}function se(e,n){return f(t.utcSunday.count(t.utcYear(e)-1,e),n,2)}function le(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),f(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function fe(e,n){return f(t.utcMonday.count(t.utcYear(e)-1,e),n,2)}function de(e,t){return f(e.getUTCFullYear()%100,t,2)}function pe(e,t){return f(e.getUTCFullYear()%1e4,t,4)}function he(){return"+0000"}function me(){return"%"}function ge(e){return+e}function ve(e){return Math.floor(+e/1e3)}function ye(t){return a=o(t),e.timeFormat=a.format,e.timeParse=a.parse,e.utcFormat=a.utcFormat,e.utcParse=a.utcParse,a}ye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var be=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),xe=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");e.isoFormat=be,e.isoParse=xe,e.timeFormatDefaultLocale=ye,e.timeFormatLocale=o,Object.defineProperty(e,"__esModule",{value:!0})}(t,qx)}));t(Wx);var Hx=n((function(e,t){!function(e,t,n,r,i){const o=/^([A-Za-z]+:)?\/\//,a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,u=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function s(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function l(e,n){n=t.extend({},this.options,n);const r=this.fileAccess,i={href:null};let s,l,c;const f=a.test(e.replace(u,""));null!=e&&"string"==typeof e&&f||t.error("Sanitize failure, invalid URI: "+t.stringValue(e));const d=o.test(e);return(c=n.baseURL)&&!d&&(e.startsWith("/")||"/"===c[c.length-1]||(e="/"+e),e=c+e),l=(s=e.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!d&&r,s?e=e.slice("file://".length):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),l=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(i,"localFile",{value:!!l}),i.href=e,n.target&&(i.target=n.target+""),n.rel&&(i.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(i.crossOrigin=n.crossOrigin+""),i}function c(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:f}async function f(){t.error("No file system access.")}function d(e){return e?async function(n,r){const i=t.extend({},this.options.http,r),o=r&&r.response,a=await e(n,i);return a.ok?t.isFunction(a[o])?a[o]():a.text():t.error(a.status+""+a.statusText)}:p}async function p(){t.error("No HTTP fetch method available.")}var h={boolean:t.toBoolean,integer:t.toNumber,number:t.toNumber,date:t.toDate,string:t.toString,unknown:t.identity},m=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return b(e)&&Number.isInteger(+e)},b,function(e){return!Number.isNaN(Date.parse(e))}],g=["boolean","integer","number","date"];function v(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=m.length,i=m.map((e,t)=>t+1);for(let a,u,s=0,l=0;s<n;++s)for(u=t?e[s][t]:e[s],a=0;a<r;++a)if(i[a]&&null!=(o=u)&&o==o&&!m[a](u)&&(i[a]=0,++l,l===m.length))return"string";var o;return g[i.reduce((e,t)=>0===e?t:e,0)-1]}function y(e,t){return t.reduce((function(t,n){return t[n]=v(e,n),t}),{})}function b(e){return!(Number.isNaN(+e)||e instanceof Date)}function x(e){const n=function(n,r){const i={delimiter:e};return w(n,r?t.extend(r,i):i)};return n.responseType="text",n}function w(e,r){return r.header&&(e=r.header.map(t.stringValue).join(r.delimiter)+"\n"+e),n.dsvFormat(r.delimiter).parse(e+"")}function _(e,n){const r=n&&n.property?t.field(n.property):t.identity;return!t.isObject(e)||(i=e,"function"==typeof Buffer&&t.isFunction(Buffer.isBuffer)&&Buffer.isBuffer(i))?r(JSON.parse(e)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(r(e));var i}w.responseType="text",_.responseType="json";const E={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function k(e,n){let i,o,a,u;return e=_(e,n),n&&n.feature?(i=r.feature,a=n.feature):n&&n.mesh?(i=r.mesh,a=n.mesh,u=E[n.filter]):t.error("Missing TopoJSON feature or mesh parameter."),o=(o=e.objects[a])?i(e,o,u):t.error("Invalid TopoJSON object: "+a),o&&o.features||[o]}k.responseType="json";const C={dsv:w,csv:x(","),tsv:x("\t"),json:_,topojson:k};function S(e,n){return arguments.length>1?(C[e]=n,this):t.hasOwnProperty(C,e)?C[e]:null}var A=function(e,t){return function(n){return{options:n||{},sanitize:l,load:s,fileAccess:!!t,file:c(t),http:d(e)}}}("undefined"!=typeof fetch&&fetch,null);e.format=C,e.formats=S,e.inferType=v,e.inferTypes=y,e.loader=A,e.read=function(e,n,r){const o=S((n=n||{}).type||"json");return o||t.error("Unknown data format type: "+n.type),e=o(e,n),n.parse&&function(e,t,n){if(e.length){n=n||i.timeParse;var r,o,a,u,s,l,c,f=e.columns||Object.keys(e[0]);for("auto"===t&&(t=y(e,f)),f=Object.keys(t),r=f.map((function(e){var r,o,a=t[e];if(a&&(a.startsWith("date:")||a.startsWith("utc:")))return("'"===(o=(r=a.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),"utc"===r[0]?i.utcParse(o):n(o);if(!h[a])throw Error("Illegal format pattern: "+e+":"+a);return h[a]})),u=0,l=e.length,c=f.length;u<l;++u)for(o=e[u],s=0;s<c;++s)a=f[s],o[a]=r[s](o[a])}}(e,n.parse,r),t.hasOwnProperty(e,"columns")&&delete e.columns,e},e.responseType=function(e){const t=S(e);return t&&t.responseType||"text"},e.typeParsers=h,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,$x,Ux,Wx)}));t(Hx);var Vx=n((function(e,t){!function(e,t,n){function r(e){var n=e||t.identity,r=[],i={};return r.add=function(e){var t=n(e);return i[t]||(i[t]=1,r.push(e)),r},r.remove=function(e){var t,o=n(e);return i[o]&&(i[o]=0,(t=r.indexOf(e))>=0&&r.splice(t,1)),r},r}async function i(e,t){try{await t(e)}catch(t){e.error(t)}}var o=Symbol("vega_id"),a=1;function u(e){return e[o]}function s(e,t){return e[o]=t,e}function l(e){var t=e===Object(e)?e:{data:e};return u(t)?t:s(t,a++)}function c(e,t){for(var n in e)t[n]=e[n];return t}function f(e){return e&&e.constructor===d}function d(){var e=[],n=[],r=[],i=[],o=[],a=!1;return{constructor:d,insert:function(n){for(var r=t.array(n),i=0,o=r.length;i<o;++i)e.push(r[i]);return this},remove:function(e){for(var r=t.isFunction(e)?i:n,o=t.array(e),a=0,u=o.length;a<u;++a)r.push(o[a]);return this},modify:function(e,n,i){var a={field:n,value:t.constant(i)};return t.isFunction(e)?(a.filter=e,o.push(a)):(a.tuple=e,r.push(a)),this},encode:function(e,n){return t.isFunction(e)?o.push({filter:e,field:n}):r.push({tuple:e,field:n}),this},reflow:function(){return a=!0,this},pulse:function(t,s){var c,f,d,p,h,m,g={},v={};for(c=0,f=s.length;c<f;++c)g[u(s[c])]=1;for(c=0,f=n.length;c<f;++c)g[u(h=n[c])]=-1;for(c=0,f=i.length;c<f;++c)p=i[c],s.forEach((function(e){p(e)&&(g[u(e)]=-1)}));for(c=0,f=e.length;c<f;++c)m=u(h=e[c]),g[m]?g[m]=1:t.add.push(l(e[c]));for(c=0,f=s.length;c<f;++c)h=s[c],g[u(h)]<0&&t.rem.push(h);function y(e,n,r){r?e[n]=r(e):t.encode=n,a||(v[u(e)]=e)}for(c=0,f=r.length;c<f;++c)h=(d=r[c]).tuple,p=d.field,(m=g[u(h)])>0&&(y(h,p,d.value),t.modifies(p));for(c=0,f=o.length;c<f;++c)d=o[c],p=d.filter,s.forEach((function(e){p(e)&&g[u(e)]>0&&y(e,d.field,d.value)})),t.modifies(d.field);if(a)t.mod=n.length||i.length?s.filter((function(e){return g[u(e)]>0})):s.slice();else for(m in v)t.mod.push(v[m]);return t}}}var p="_:mod:_";function h(){Object.defineProperty(this,p,{writable:!0,value:{}})}var m=h.prototype;m.set=function(e,n,r,i){var o=this,a=o[e],u=o[p];return null!=n&&n>=0?(a[n]!==r||i)&&(a[n]=r,u[n+":"+e]=-1,u[e]=-1):(a!==r||i)&&(o[e]=r,u[e]=t.isArray(r)?1+r.length:-1),o},m.modified=function(e,n){var r,i=this[p];if(!arguments.length){for(r in i)if(i[r])return!0;return!1}if(t.isArray(e)){for(r=0;r<e.length;++r)if(i[e[r]])return!0;return!1}return null!=n&&n>=0?n+1<i[e]||!!i[n+":"+e]:!!i[e]},m.clear=function(){return this[p]={},this};var g=0,v=new h;function y(e,t,n,r){this.id=++g,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var b=y.prototype;function x(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}b.targets=function(){return this._targets||(this._targets=r(t.id))},b.set=function(e){return this.value!==e?(this.value=e,1):0},b.skip=x(1),b.modified=x(2),b.parameters=function(e,n,r){n=!1!==n;var i,o,a,u,s=this,l=s._argval=s._argval||new h,c=s._argops=s._argops||[],f=[];function d(e,t,r){r instanceof y?(r!==s&&(n&&r.targets().add(s),f.push(r)),c.push({op:r,name:e,index:t})):l.set(e,t,r)}for(i in e)if(o=e[i],"pulse"===i)t.array(o).forEach((function(e){e instanceof y?e!==s&&(e.targets().add(s),f.push(e)):t.error("Pulse parameters must be operator instances.")})),s.source=o;else if(t.isArray(o))for(l.set(i,-1,Array(a=o.length)),u=0;u<a;++u)d(i,u,o[u]);else d(i,-1,o);return this.marshall().clear(),r&&(c.initonly=!0),f},b.marshall=function(e){var t,n,r,i,o,a=this._argval||v,u=this._argops;if(u){for(n=0,r=u.length;n<r;++n)o=(i=(t=u[n]).op).modified()&&i.stamp===e,a.set(t.name,t.index,i.value,o);if(u.initonly){for(n=0;n<r;++n)(t=u[n]).op.targets().remove(this);this._argops=null,this._update=null}}return a},b.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},b.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t};var w=0;function _(e,t,n){this.id=++w,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function E(e,t,n){return new _(e,t,n)}var k=_.prototype;k._filter=t.truthy,k._apply=t.identity,k.targets=function(){return this._targets||(this._targets=r(t.id))},k.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},k.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},k.filter=function(e){var t=E(e);return this.targets().add(t),t},k.apply=function(e){var t=E(null,e);return this.targets().add(t),t},k.merge=function(){var e=E();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},k.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},k.debounce=function(e){var n=E();return this.targets().add(E(null,null,t.debounce(e,(function(e){var t=e.dataflow;n.receive(e),t&&t.run&&t.run()})))),n},k.between=function(e,t){var n=!1;return e.targets().add(E(null,null,(function(){n=!0}))),t.targets().add(E(null,null,(function(){n=!1}))),this.filter((function(){return n}))};const C=n.read;var S={skip:!0};function A(e,n,r,i,o,a){var u,s,l=t.extend({},a,S);t.isFunction(r)||(r=t.constant(r)),void 0===i?u=t=>e.touch(r(t)):t.isFunction(i)?(s=new y(null,i,o,!1),u=t=>{s.evaluate(t);const n=r(t),i=s.value;f(i)?e.pulse(n,i,a):e.update(n,i,l)}):u=t=>e.update(r(t),i,l),n.apply(u)}function O(e,n,r,i,o,a){if(void 0===i)n.targets().add(r);else{const u=a||{},s=new y(null,function(e,n){return n=t.isFunction(n)?n:t.constant(n),e?function(t,r){const i=n(t,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:n}(r,i),o,!1);s.modified(u.force),s.rank=n.rank,n.targets().add(s),r&&(s.skip(!0),s.value=r.value,s.targets().add(r),e.connect(r,[s]))}}var M={};function D(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var P=D.prototype;function T(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function F(e,n){var r=[];return t.visitArray(e,n,(function(e){r.push(e)})),r}function N(e,t){var n={};return e.visit(t,(function(e){n[u(e)]=1})),function(e){return n[u(e)]?null:e}}function j(e,t,n,r){var i,o,a,u,s,l=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,a=0,u=n.length;a<u;++a)if((i=n[a]).stamp===t){if(i.fields)for(s in o=l.fields||(l.fields={}),i.fields)o[s]=1;i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}P.StopPropagation=M,P.ADD=1,P.REM=2,P.MOD=4,P.ADD_REM=3,P.ADD_MOD=5,P.ALL=7,P.REFLOW=8,P.SOURCE=16,P.NO_SOURCE=32,P.NO_FIELDS=64,P.fork=function(e){return new D(this.dataflow).init(this,e)},P.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},P.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?((e=new D(this.dataflow).init(this)).add=e.source,e):e},P.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},P.runAfter=function(e){this.dataflow.runAfter(e)},P.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},P.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,N(this,1))),this},P.modifies=function(e){var n=this.fields||(this.fields={});return t.isArray(e)?e.forEach(e=>n[e]=!0):n[e]=!0,this},P.modified=function(e,n){var r=this.fields;return!(!n&&!this.mod.length||!r)&&(arguments.length?t.isArray(e)?e.some((function(e){return r[e]})):r[e]:!!r)},P.filter=function(e,t){var n=this;return 1&e&&(n.addF=T(n.addF,t)),2&e&&(n.remF=T(n.remF,t)),4&e&&(n.modF=T(n.modF,t)),16&e&&(n.srcF=T(n.srcF,t)),n},P.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=F(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=F(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=F(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},P.visit=function(e,n){var r,i,o=this,a=n;return 16&e?(t.visitArray(o.source,o.srcF,a),o):(1&e&&t.visitArray(o.add,o.addF,a),2&e&&t.visitArray(o.rem,o.remF,a),4&e&&t.visitArray(o.mod,o.modF,a),8&e&&(r=o.source)&&((i=o.add.length+o.mod.length)===r.length||(i?t.visitArray(r,N(o,5),a):t.visitArray(r,o.srcF,a))),o)};var R=t.inherits(j,D);function B(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}R.fork=function(e){var t=new D(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},R.changed=function(e){return this.changes&e},R.modified=function(e){var n=this,r=n.fields;return r&&n.changes&n.MOD?t.isArray(e)?e.some((function(e){return r[e]})):r[e]:0},R.filter=function(){t.error("MultiPulse does not support filtering.")},R.materialize=function(){t.error("MultiPulse does not support materialization.")},R.visit=function(e,t){var n=this,r=n.pulses,i=r.length,o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n};var L={skip:!1,force:!1};function z(e){var t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),I(t,0,t.length-1,e)),pop:()=>{var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){for(var r,i=t,o=e.length,a=e[t],u=1+(t<<1);u<o;)(r=u+1)<o&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=a,I(e,i,t,n)}(t,0,e)):n=r,n}}}function I(e,t,n,r){var i,o,a;for(i=e[n];n>t&&r(i,o=e[a=n-1>>1])<0;)e[n]=o,n=a;return e[n]=i}function $(){this.logger(t.logger()),this.logLevel(t.Error),this._clock=0,this._rank=0;try{this._loader=n.loader()}catch(e){}this._touched=r(t.id),this._input={},this._pulse=null,this._heap=z((e,t)=>e.qrank-t.qrank),this._postrun=[]}var U=$.prototype;function q(e){return function(){return this._log[e].apply(this,arguments)}}function W(e,t){y.call(this,e,null,t)}U.stamp=function(){return this._clock},U.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},U.cleanThreshold=1e4,U.add=function(e,n,r,i){var o,a=1;return e instanceof y?o=e:e&&e.prototype instanceof y?o=new e:t.isFunction(e)?o=new y(null,e):(a=0,o=new y(e,n)),this.rank(o),a&&(i=r,r=n),r&&this.connect(o,o.parameters(r,i)),this.touch(o),o},U.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},U.rank=function(e){e.rank=++this._rank},U.rerank=function(e){for(var n,r,i,o=[e];o.length;)if(this.rank(n=o.pop()),r=n._targets)for(i=r.length;--i>=0;)o.push(n=r[i]),n===e&&t.error("Cycle detected in dataflow graph.")},U.pulse=function(e,t,n){this.touch(e,n||L);var r=new D(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},U.touch=function(e,t){var n=t||L;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},U.update=function(e,t,n){var r=n||L;return(e.set(t)||r.force)&&this.touch(e,r),this},U.changeset=d,U.ingest=function(e,t,n){return this.pulse(e,this.changeset().insert(C(t,n)))},U.parse=C,U.preload=async function(e,n,r){const i=this,o=i._pending||function(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(i);o.requests+=1;const a=await i.request(n,r);return i.pulse(e,i.changeset().remove(t.truthy).insert(a.data||[])),o.done(),a},U.request=async function(e,t){const r=this;let i,o=0;try{i=await r.loader().load(e,{context:"dataflow",response:n.responseType(t&&t.type)});try{i=C(i,t)}catch(t){o=-2,r.warn("Data ingestion failed",e,t)}}catch(t){o=-1,r.warn("Loading failed",e,t)}return{data:i,status:o}},U.events=function(e,n,r,i){for(var o,a=this,u=E(r,i),s=function(e){e.dataflow=a;try{u.receive(e)}catch(e){a.error(e)}finally{a.run()}},l=0,c=(o="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):t.array(e)).length;l<c;++l)o[l].addEventListener(n,s);return u},U.on=function(e,t,n,r,i){return(e instanceof y?O:A)(this,e,t,n,r,i),this},U.evaluate=async function(e,n,o){const a=this,u=a.logLevel(),s=[];if(a._pulse)return B(a);if(a._pending&&await a._pending,n&&await i(a,n),!a._touched.length)return a.info("Dataflow invoked, but nothing to do."),a;let l,c,f,d,p=++a._clock,h=0;a._pulse=new D(a,p,e),u>=t.Info&&(f=Date.now(),a.debug("-- START PROPAGATION ("+p+") -----")),a._touched.forEach(e=>a._enqueue(e,!0)),a._touched=r(t.id);try{for(;a._heap.size()>0;)l=a._heap.pop(),l.rank===l.qrank?(c=l.run(a._getPulse(l,e)),c.then?c=await c:c.async&&(s.push(c.async),c=M),u>=t.Debug&&a.debug(l.id,c===M?"STOP":c,l),c!==M&&l._targets&&l._targets.forEach(e=>a._enqueue(e)),++h):a._enqueue(l,!0)}catch(e){a._heap.clear(),d=e}if(a._input={},a._pulse=null,u>=t.Info&&(f=Date.now()-f,a.info("> Pulse "+p+": "+h+" operators; "+f+"ms")),d&&(a._postrun=[],a.error(d)),a._postrun.length){const e=a._postrun.sort((e,t)=>t.priority-e.priority);a._postrun=[];for(let t=0;t<e.length;++t)await i(a,e[t].callback)}return o&&await i(a,o),s.length&&Promise.all(s).then(e=>a.runAsync(null,()=>{e.forEach(e=>{try{e(a)}catch(e){a.error(e)}})})),a},U.run=function(e,t,n){return this._pulse?B(this):(this.evaluate(e,t,n),this)},U.runAsync=async function(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running},U.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},U._enqueue=function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},U._getPulse=function(e,n){var r=e.source,i=this._clock;return r&&t.isArray(r)?new j(this,i,r.map(e=>e.pulse),n):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==M&&(e.source=t.source),e)}(this._pulse,r&&r.pulse)},U.logger=function(e){return arguments.length?(this._log=e,this):this._log},U.error=q("error"),U.warn=q("warn"),U.info=q("info"),U.debug=q("debug"),U.logLevel=q("level");var H=t.inherits(W,y);H.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t);var t},H.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},H.transform=function(){};var V={};function G(e){return e=e&&e.toLowerCase(),t.hasOwnProperty(V,e)?V[e]:null}e.Dataflow=$,e.EventStream=_,e.MultiPulse=j,e.Operator=y,e.Parameters=h,e.Pulse=D,e.Transform=W,e.UniqueList=r,e.asyncCallback=i,e.changeset=d,e.definition=function(e){var t=G(e);return t&&t.Definition||null},e.derive=function(e){return c(e,l({}))},e.ingest=l,e.isChangeSet=f,e.isTuple=function(e){return!(!e||!u(e))},e.rederive=c,e.replace=function(e,t){return s(t,u(e))},e.stableCompare=function(e,t){return e?t?(n,r)=>e(n,r)||u(t(n))-u(t(r)):(t,n)=>e(t,n)||u(t)-u(n):null},e.transform=G,e.transforms=V,e.tupleid=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Hx)}));t(Vx);var Gx=n((function(e,t){!function(e){function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(e=function(e){return function(n,r){return t(e(n),r)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var r=n(t),i=r.right,o=r.left;function a(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function u(e){return 0|e.length}function s(e){return!(e>0)}function l(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function c(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let a=-1;for(let u of e)null!=(u=t(u,++a,e))&&(u=+u)>=u&&(n=u-i,i+=n/++r,o+=n*(u-i))}if(r>1)return o/(r-1)}function f(e,t){const n=c(e,t);return n?Math.sqrt(n):n}function d(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function p(e){return e}function h(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const a=new Map,u=r[o++];let s=-1;for(const e of i){const t=u(e,++s,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[t,n]of a)a.set(t,e(n,o));return t(a)}(e,0)}var m=Array.prototype.slice;function g(e){return function(){return e}}function v(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var y=Math.sqrt(50),b=Math.sqrt(10),x=Math.sqrt(2);function w(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=y?10:o>=b?5:o>=x?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=y?10:o>=b?5:o>=x?2:1)}function _(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=y?i*=10:o>=b?i*=5:o>=x&&(i*=2),t<e?-i:i}function E(e){return Math.ceil(Math.log(a(e))/Math.LN2)+1}function k(){var e=p,t=d,n=E;function r(r){Array.isArray(r)||(r=Array.from(r));var o,a,u=r.length,s=new Array(u);for(o=0;o<u;++o)s[o]=e(r[o],o,r);var l=t(s),c=l[0],f=l[1],d=n(s,c,f);Array.isArray(d)||(d=_(c,f,d),d=v(Math.ceil(c/d)*d,f,d));for(var p=d.length;d[0]<=c;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var h,m=new Array(p+1);for(o=0;o<=p;++o)(h=m[o]=[]).x0=o>0?d[o-1]:c,h.x1=o<p?d[o]:f;for(o=0;o<u;++o)c<=(a=s[o])&&a<=f&&m[i(d,a,0,p)].push(r[o]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:g(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:g([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?g(m.call(e)):g(e),r):n},r}function C(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function S(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function A(e,n,r=0,i=e.length-1,o=t){for(;i>r;){if(i-r>600){const t=i-r+1,a=n-r+1,u=Math.log(t),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(t-s)/t)*(a-t/2<0?-1:1);A(e,n,Math.max(r,Math.floor(n-a*s/t+l)),Math.min(i,Math.floor(n+(t-a)*s/t+l)),o)}const t=e[n];let a=r,u=i;for(O(e,r,n),o(e[i],t)>0&&O(e,r,i);a<u;){for(O(e,a,u),++a,--u;o(e[a],t)<0;)++a;for(;o(e[u],t)>0;)--u}0===o(e[r],t)?O(e,r,u):(++u,O(e,u,i)),u<=n&&(r=u+1),n<=u&&(i=u-1)}return e}function O(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function M(e){return null===e?NaN:+e}function D(e,t,n){if(r=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n))).length){if((t=+t)<=0||r<2)return S(e);if(t>=1)return C(e);var r,i=(r-1)*t,o=Math.floor(i),a=C(A(e,o).subarray(0,o+1));return a+(S(e.subarray(o+1))-a)*(i-o)}}function P(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function T(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function F(e,t){return[e,t]}function N(e,n=t){if(1===n.length)return T(e,n);let r,i=-1,o=-1;for(const t of e)++o,(i<0?0===n(t,t):n(t,r)<0)&&(r=t,i=o);return i}function j(e){if(!(i=e.length))return[];for(var t=-1,n=S(e,R),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function R(e){return e.length}e.ascending=t,e.bin=k,e.bisect=i,e.bisectLeft=o,e.bisectRight=i,e.bisector=n,e.count=a,e.cross=function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(l)).map(u),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(s))return o;for(;;){o.push(i.map((t,n)=>e[n][t]));let a=r;for(;++i[a]===n[a];){if(0===a)return t?o.map(t):o;i[a--]=0}}},e.cumsum=function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=f,e.extent=d,e.greatest=function(e,n=t){let r,i=!1;if(1===n.length){let o;for(const a of e){const e=n(a);(i?t(e,o)>0:0===t(e,e))&&(r=a,o=e,i=!0)}}else for(const t of e)(i?n(t,r)>0:0===n(t,t))&&(r=t,i=!0);return r},e.greatestIndex=function(e,n=t){if(1===n.length)return P(e,n);let r,i=-1,o=-1;for(const t of e)++o,(i<0?0===n(t,t):n(t,r)>0)&&(r=t,i=o);return i},e.group=function(e,...t){return h(e,p,p,t)},e.groups=function(e,...t){return h(e,Array.from,p,t)},e.histogram=k,e.least=function(e,n=t){let r,i=!1;if(1===n.length){let o;for(const a of e){const e=n(a);(i?t(e,o)<0:0===t(e,e))&&(r=a,o=e,i=!0)}}else for(const t of e)(i?n(t,r)<0:0===n(t,t))&&(r=t,i=!0);return r},e.leastIndex=N,e.max=C,e.maxIndex=P,e.mean=function(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n},e.median=function(e,t){return D(e,.5,t)},e.merge=function(e){return Array.from(function*(e){for(const t of e)yield*t}(e))},e.min=S,e.minIndex=T,e.pairs=function(e,t=F){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n},e.permute=function(e,t){return Array.from(t,t=>e[t])},e.quantile=D,e.quantileSorted=function(e,t,n=M){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},e.quickselect=A,e.range=v,e.rollup=function(e,t,...n){return h(e,p,t,n)},e.rollups=function(e,t,...n){return h(e,Array.from,t,n)},e.scan=function(e,t){const n=N(e,t);return n<0?void 0:n},e.shuffle=function(e,t=0,n=e.length){for(var r,i,o=n-(t=+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.sum=function(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n},e.thresholdFreedmanDiaconis=function(e,t,n){return Math.ceil((n-t)/(2*(D(e,.75)-D(e,.25))*Math.pow(a(e),-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*f(e)*Math.pow(a(e),-1/3)))},e.thresholdSturges=E,e.tickIncrement=w,e.tickStep=_,e.ticks=function(e,t,n){var r,i,o,a,u=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=w(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(e+u)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(e-u)/a;return r&&o.reverse(),o},e.transpose=j,e.variance=c,e.zip=function(){return j(arguments)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Gx);var Yx=n((function(e,t){!function(e,t){function*n(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}function r(e,r,i){var o=Float64Array.from(n(e,i));return o.sort(t.ascending),r.map(e=>t.quantileSorted(o,e))}function i(e,t){return r(e,[.25,.5,.75],t)}function o(e,n){var r=e.length,o=t.deviation(e,n),a=i(e,n),u=(a[2]-a[0])/1.34;return 1.06*(o=Math.min(o,u)||o||Math.abs(a[0])||1)*Math.pow(r,-.2)}e.random=Math.random;const a=Math.sqrt(2*Math.PI),u=Math.SQRT2;let s=NaN;function l(t,n){t=t||0,n=null==n?1:n;let r,i,o=0,a=0;if(s==s)o=s,s=NaN;else{do{o=2*e.random()-1,a=2*e.random()-1,r=o*o+a*a}while(0===r||r>1);i=Math.sqrt(-2*Math.log(r)/r),o*=i,s=a*i}return t+o*n}function c(e,t,n){const r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*a)}function f(e,t,n){let r,i=(e-(t=t||0))/(n=null==n?1:n),o=Math.abs(i);if(o>37)r=0;else{let e,t=Math.exp(-o*o/2);o<7.07106781186547?(e=.0352624965998911*o+.700383064443688,e=e*o+6.37396220353165,e=e*o+33.912866078383,e=e*o+112.079291497871,e=e*o+221.213596169931,e=e*o+220.206867912376,r=t*e,e=.0883883476483184*o+1.75566716318264,e=e*o+16.064177579207,e=e*o+86.7807322029461,e=e*o+296.564248779674,e=e*o+637.333633378831,e=e*o+793.826512519948,e=e*o+440.413735824752,r/=e):(e=o+.65,e=o+4/e,e=o+3/e,e=o+2/e,e=o+1/e,r=t/e/2.506628274631)}return i>0?1-r:r}function d(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*u*function(e){let t,n=-Math.log((1-e)*(1+e));return n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0,t*e}(2*e-1)}function p(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>l(n,r),pdf:e=>c(e,n,r),cdf:e=>f(e,n,r),icdf:e=>d(e,n,r)};return i.mean(e).stdev(t)}function h(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+l()*t)}function m(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*a*e)}function g(e,t,n){return f(Math.log(e),t,n)}function v(e,t,n){return Math.exp(d(e,t,n))}function y(t,n){return null==n&&(n=null==t?1:t,t=0),t+(n-t)*e.random()}function b(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function x(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function w(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function _(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function E(e,t,n,r){e=e.filter(e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&e.sort((e,n)=>t(e)-t(n));const i=e.length,o=new Float64Array(i),a=new Float64Array(i);let u,s,l,c=0,f=0,d=0;for(l of e)o[c]=u=+t(l),a[c]=s=+n(l),++c,f+=(u-f)/c,d+=(s-d)/c;for(c=0;c<i;++c)o[c]-=f,a[c]-=d;return[o,a,f,d]}function k(e,t,n,r){let i,o,a=-1;for(let u of e)i=t(u),o=n(u),null!=i&&(i=+i)>=i&&null!=o&&(o=+o)>=o&&r(i,o,++a)}function C(e,t,n,r,i){let o=0,a=0;return k(e,t,n,(e,t)=>{const n=t-i(e),u=t-r;o+=n*n,a+=u*u}),1-o/a}function S(e,t,n){let r=0,i=0,o=0,a=0,u=0;k(e,t,n,(e,t)=>{++u,r+=(e-r)/u,i+=(t-i)/u,o+=(e*t-o)/u,a+=(e*e-a)/u});const s=_(r,i,o,a),l=e=>s[0]+s[1]*e;return{coef:s,predict:l,rSquared:C(e,t,n,i,l)}}function A(e,t,n){const[r,i,o,a]=E(e,t,n),u=r.length;let s,l,c,f,d=0,p=0,h=0,m=0,g=0;for(s=0;s<u;)l=r[s],c=i[s++],f=l*l,d+=(f-d)/s,p+=(f*l-p)/s,h+=(f*f-h)/s,m+=(l*c-m)/s,g+=(f*c-g)/s;const v=h-d*d,y=d*v-p*p,b=(g*d-m*p)/y,x=(m*v-g*p)/y,w=-b*d,_=e=>b*(e-=o)*e+x*e+w+a;return{coef:[w-x*o+b*o*o+a,x-2*b*o,b],predict:_,rSquared:C(e,t,n,a,_)}}function O(e,t,n,r){const i=Array(e);let o,a,u,s;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(u=t[o],s=1,i[o]+=u,a=1;a<=o;++a)s*=(o+1-a)/a,i[o-a]+=u*Math.pow(n,a)*s;return i[0]+=r,i}function M(e){return(e=1-e*e*e)*e*e}function D(e,t,n){let r=e[t],i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}const P=.1*Math.PI/180;function T(e,t,n){const r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}e.bandwidthNRD=o,e.bin=function(e){var t,n,r,i,o,a,u,s,l=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],p=e.extent[0],h=e.extent[1],m=e.span||h-p||Math.abs(p)||1;if(e.step)t=e.step;else if(e.steps){for(o=m/l,a=0,u=e.steps.length;a<u&&e.steps[a]<o;++a);t=e.steps[Math.max(0,a-1)]}else{for(n=Math.ceil(Math.log(l)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>l;)t*=c;for(a=0,u=d.length;a<u;++a)(o=t/d[a])>=r&&m/o<=l&&(t=o)}return i=(o=Math.log(t))>=0?0:1+~~(-o/f),s=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(p=p<(o=Math.floor(p/t+s)*t)?o-t:o,h=Math.ceil(h/t)*t),{start:p,stop:h===p?p+t:h,step:t}},e.bootstrapCI=function(r,i,o,a){if(!r.length)return[void 0,void 0];var u,s,l,c,f=Float64Array.from(n(r,a)),d=f.length,p=i;for(l=0,c=Array(p);l<p;++l){for(u=0,s=0;s<d;++s)u+=f[~~(e.random()*d)];c[l]=u/d}return c.sort(t.ascending),[t.quantile(c,o/2),t.quantile(c,1-o/2)]},e.cumulativeLogNormal=g,e.cumulativeNormal=f,e.cumulativeUniform=x,e.densityLogNormal=m,e.densityNormal=c,e.densityUniform=b,e.dotbin=function(e,t,n,r){r=r||(e=>e);let i,o=0,a=1,u=e.length,s=new Float64Array(u),l=r(e[0]),c=l,f=l+t;for(;a<u;++a){if(i=r(e[a]),i>=f){for(c=(l+c)/2;o<a;++o)s[o]=c;f=i+t,l=i}c=i}for(c=(l+c)/2;o<a;++o)s[o]=c;return n?function(e,t){let n,r,i=e.length,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<i;){for(n=a+1;e[a]===e[n];)++n;if(e[a]-e[a-1]<t){for(r=a+(o+n-a-a>>1);r<a;)e[r++]=e[a];for(;r>a;)e[r--]=e[o]}o=a,a=n}return e}(s,t+t/4):s},e.quantileLogNormal=v,e.quantileNormal=d,e.quantileUniform=w,e.quantiles=r,e.quartiles=i,e.randomInteger=function(t,n){null==n&&(n=t,t=0);var r,i,o,a={min:function(e){return arguments.length?(o=i-(r=e||0),a):r},max:function(e){return arguments.length?(o=(i=e||0)-r,a):i},sample:function(){return r+Math.floor(o*e.random())},pdf:function(e){return e===Math.floor(e)&&e>=r&&e<i?1/o:0},cdf:function(e){var t=Math.floor(e);return t<r?0:t>=i?1:(t-r+1)/o},icdf:function(e){return e>=0&&e<=1?r-1+Math.floor(e*o):NaN}};return a.min(t).max(n)},e.randomKDE=function(t,n){var r=p(),i={},a=0;return i.data=function(e){return arguments.length?(t=e,a=e?e.length:0,i.bandwidth(n)):t},i.bandwidth=function(e){return arguments.length?(!(n=e)&&t&&(n=o(t)),i):n},i.sample=function(){return t[~~(e.random()*a)]+n*r.sample()},i.pdf=function(e){for(var i=0,o=0;o<a;++o)i+=r.pdf((e-t[o])/n);return i/n/a},i.cdf=function(e){for(var i=0,o=0;o<a;++o)i+=r.cdf((e-t[o])/n);return i/a},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(t)},e.randomLCG=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},e.randomLogNormal=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>h(n,r),pdf:e=>m(e,n,r),cdf:e=>g(e,n,r),icdf:e=>v(e,n,r)};return i.mean(e).stdev(t)},e.randomMixture=function(t,n){var r,i={},o=0;function a(e){var t,n=[],r=0;for(t=0;t<o;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<o;++t)n[t]/=r;return n}return i.weights=function(e){return arguments.length?(r=a(n=e||[]),i):n},i.distributions=function(e){return arguments.length?(e?(o=e.length,t=e):(o=0,t=[]),i.weights(n)):t},i.sample=function(){for(var n=e.random(),i=t[o-1],a=r[0],u=0;u<o-1;a+=r[++u])if(n<a){i=t[u];break}return i.sample()},i.pdf=function(e){for(var n=0,i=0;i<o;++i)n+=r[i]*t[i].pdf(e);return n},i.cdf=function(e){for(var n=0,i=0;i<o;++i)n+=r[i]*t[i].cdf(e);return n},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(t).weights(n)},e.randomNormal=p,e.randomUniform=function(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>y(n,r),pdf:e=>b(e,n,r),cdf:e=>x(e,n,r),icdf:e=>w(e,n,r)};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)},e.regressionExp=function(e,t,n){const[r,i,o,a]=E(e,t,n);let u,s,l,c=0,f=0,d=0,p=0,h=0;k(e,t,n,(e,t)=>{u=r[h++],s=Math.log(t),l=u*t,c+=(t*s-c)/h,f+=(l-f)/h,d+=(l*s-d)/h,p+=(u*l-p)/h});const[m,g]=_(f/a,c/a,d/a,p/a),v=e=>Math.exp(m+g*(e-o));return{coef:[Math.exp(m-g*o),g],predict:v,rSquared:C(e,t,n,a,v)}},e.regressionLinear=S,e.regressionLoess=function(e,n,r,i){const[o,a,u,s]=E(e,n,r,!0),l=o.length,c=Math.max(2,~~(i*l)),f=new Float64Array(l),d=new Float64Array(l),p=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const n=[0,c-1];for(let e=0;e<l;++e){const t=o[e],r=n[0],i=n[1],u=t-o[r]>o[i]-t?r:i;let s=0,l=0,c=0,h=0,m=0,g=1/Math.abs(o[u]-t||1);for(let e=r;e<=i;++e){const n=o[e],r=a[e],i=M(Math.abs(t-n)*g)*p[e],u=n*i;s+=i,l+=u,c+=r*i,h+=r*u,m+=n*u}const[v,y]=_(l/s,c/s,h/s,m/s);f[e]=v+y*t,d[e]=Math.abs(a[e]-f[e]),D(o,e+1,n)}if(2===e)break;const r=t.median(d);if(Math.abs(r)<1e-12)break;for(let e,t,n=0;n<l;++n)e=d[n]/(6*r),p[n]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,r){const i=e.length,o=[];let a,u=0,s=0,l=[];for(;u<i;++u)a=e[u]+n,l[0]===a?l[1]+=(t[u]-l[1])/++s:(s=0,l[1]+=r,l=[a,t[u]],o.push(l));return l[1]+=r,o}(o,f,u,s)},e.regressionLog=function(e,t,n){let r=0,i=0,o=0,a=0,u=0;k(e,t,n,(e,t)=>{++u,e=Math.log(e),r+=(e-r)/u,i+=(t-i)/u,o+=(e*t-o)/u,a+=(e*e-a)/u});const s=_(r,i,o,a),l=e=>s[0]+s[1]*Math.log(e);return{coef:s,predict:l,rSquared:C(e,t,n,i,l)}},e.regressionPoly=function(e,t,n,r){if(1===r)return S(e,t,n);if(2===r)return A(e,t,n);const[i,o,a,u]=E(e,t,n),s=i.length,l=[],c=[],f=r+1;let d,p,h,m,g;for(d=0;d<f;++d){for(h=0,m=0;h<s;++h)m+=Math.pow(i[h],d)*o[h];for(l.push(m),g=new Float64Array(f),p=0;p<f;++p){for(h=0,m=0;h<s;++h)m+=Math.pow(i[h],d+p);g[p]=m}c.push(g)}c.push(l);const v=function(e){const t=e.length-1,n=[];let r,i,o,a,u;for(r=0;r<t;++r){for(a=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][a])&&(a=i);for(o=r;o<t+1;++o)u=e[o][r],e[o][r]=e[o][a],e[o][a]=u;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(u=0,o=i+1;o<t;++o)u+=e[o][i]*n[o];n[i]=(e[t][i]-u)/e[i][i]}return n}(c),y=e=>{e-=a;let t=u+v[0]+v[1]*e+v[2]*e*e;for(d=3;d<f;++d)t+=v[d]*Math.pow(e,d);return t};return{coef:O(f,v,-a,u),predict:y,rSquared:C(e,t,n,u,y)}},e.regressionPow=function(e,t,n){let r=0,i=0,o=0,a=0,u=0,s=0;k(e,t,n,(e,t)=>{const n=Math.log(e),l=Math.log(t);++s,r+=(n-r)/s,i+=(l-i)/s,o+=(n*l-o)/s,a+=(n*n-a)/s,u+=(t-u)/s});const l=_(r,i,o,a),c=e=>l[0]*Math.pow(e,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:C(e,t,n,u,c)}},e.regressionQuad=A,e.sampleCurve=function(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=t=>[t,e(t)],o=t[0],a=t[1],u=a-o,s=u/r,l=[i(o)],c=[];if(n===r){for(let e=1;e<r;++e)l.push(i(o+e/n*u));return l.push(i(a)),l}c.push(i(a));for(let e=n;--e>0;)c.push(i(o+e/n*u));let f=l[0],d=c[c.length-1];for(;d;){const e=i((f[0]+d[0])/2);e[0]-f[0]>=s&&T(f,e,d)>P?c.push(e):(f=d,l.push(d),c.pop()),d=c[c.length-1]}return l},e.sampleLogNormal=h,e.sampleNormal=l,e.sampleUniform=y,e.setRandom=function(t){e.random=t},Object.defineProperty(e,"__esModule",{value:!0})}(t,Gx)}));t(Yx);var Xx=n((function(e,t){!function(e,t,n,r,i){const o="year",a="quarter",u="month",s="week",l="date",c="day",f="hours",d="minutes",p="seconds",h=[o,a,u,s,l,c,"dayofyear",f,d,p,"milliseconds"],m=h.reduce((e,t,n)=>(e[t]=1+n,e),{});function g(e){const n=t.array(e).slice(),r={};return n.length||t.error("Missing time unit."),n.forEach(e=>{t.hasOwnProperty(m,e)?r[e]=1:t.error(`Invalid time unit: ${e}.`)}),(r[s]||r.day?1:0)+(r[a]||r[u]||r[l]?1:0)+(r.dayofyear?1:0)>1&&t.error("Incompatible time units: "+e),n.sort((e,t)=>m[e]-m[t]),n}const v=new Date;function y(e){return v.setFullYear(e),v.setMonth(0),v.setDate(1),v.setHours(0,0,0,0),v}function b(e){return n.timeDay.count(y(e.getFullYear())-1,e)}function x(e){return n.timeWeek.count(y(e.getFullYear())-1,e)}function w(e){return y(e).getDay()}function _(e,t,n,r,i,o,a){if(0<=e&&e<100){var u=new Date(-1,t,n,r,i,o,a);return u.setFullYear(e),u}return new Date(e,t,n,r,i,o,a)}function E(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return n.utcDay.count(t-1,e)}function k(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return n.utcWeek.count(t-1,e)}function C(e){return v.setTime(Date.UTC(e,0,1)),v.getUTCDay()}function S(e,t,n,r,i,o,a){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,i,o,a));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,o,a))}function A(e,n,r,i,h){const m=n||1,g=t.peek(e),v=(e,t,n)=>function(e,t,n,r){const i=n<=1?e:r?(t,i)=>r+n*Math.floor((e(t,i)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(i(e,n),n):i}(r[n=n||e],i[n],e===g&&m,t),y=new Date,b=t.toSet(e),x=b[o]?v(o):t.constant(2012),w=b[u]?v(u):b[a]?v(a):t.zero,_=b[s]&&b.day?v(c,1,s+c):b[s]?v(s,1):b.day?v(c,1):b[l]?v(l,1):b.dayofyear?v("dayofyear",1):t.one,E=b[f]?v(f):t.zero,k=b[d]?v(d):t.zero,C=b[p]?v(p):t.zero,S=b.milliseconds?v("milliseconds"):t.zero;return function(e){y.setTime(+e);const t=x(y);return h(t,w(y),_(y,t),E(y),k(y),C(y),S(y))}}function O(e,t,n){return t+7*e-(n+6)%7}const M={[o]:e=>e.getFullYear(),[a]:e=>Math.floor(e.getMonth()/3),[u]:e=>e.getMonth(),[l]:e=>e.getDate(),[f]:e=>e.getHours(),[d]:e=>e.getMinutes(),[p]:e=>e.getSeconds(),milliseconds:e=>e.getMilliseconds(),dayofyear:e=>b(e),[s]:e=>x(e),[s+c]:(e,t)=>O(x(e),e.getDay(),w(t)),[c]:(e,t)=>O(1,e.getDay(),w(t))},D={[a]:e=>3*e,[s]:(e,t)=>O(e,0,w(t))},P={[o]:e=>e.getUTCFullYear(),[a]:e=>Math.floor(e.getUTCMonth()/3),[u]:e=>e.getUTCMonth(),[l]:e=>e.getUTCDate(),[f]:e=>e.getUTCHours(),[d]:e=>e.getUTCMinutes(),[p]:e=>e.getUTCSeconds(),milliseconds:e=>e.getUTCMilliseconds(),dayofyear:e=>E(e),[s]:e=>k(e),[c]:(e,t)=>O(1,e.getUTCDay(),C(t)),[s+c]:(e,t)=>O(k(e),e.getUTCDay(),C(t))},T={[a]:e=>3*e,[s]:(e,t)=>O(e,0,C(t))},F={[o]:n.timeYear,[a]:n.timeMonth.every(3),[u]:n.timeMonth,[s]:n.timeWeek,[l]:n.timeDay,[c]:n.timeDay,dayofyear:n.timeDay,[f]:n.timeHour,[d]:n.timeMinute,[p]:n.timeSecond,milliseconds:n.timeMillisecond},N={[o]:n.utcYear,[a]:n.utcMonth.every(3),[u]:n.utcMonth,[s]:n.utcWeek,[l]:n.utcDay,[c]:n.utcDay,dayofyear:n.utcDay,[f]:n.utcHour,[d]:n.utcMinute,[p]:n.utcSecond,milliseconds:n.utcMillisecond};function j(e){return F[e]}function R(e){return N[e]}function B(e,t,n){return e?e.offset(t,n):void 0}function L(e,t,n,r){return e?e.range(t,n,r):void 0}const z={[o]:"%Y ",[a]:"Q%q ",[u]:"%b ",[l]:"%d ",[s]:"W%U ",[c]:"%a ",dayofyear:"%j ",[f]:"%H:00",[d]:"00:%M",[p]:":%S",milliseconds:".%L","year-month":"%Y-%m ","year-month-date":"%Y-%m-%d ",["hours-"+d]:"%H:%M"};function I(e,n,r){return t.isString(r)?e(r):function(e,n,r){r=r||{},t.isObject(r)||t.error("Invalid time multi-format specifier: "+r);const i=n(p),c=n(d),h=n(f),m=n(l),g=n(s),v=n(u),y=n(a),b=n(o),x=e(r.milliseconds||".%L"),w=e(r[p]||":%S"),_=e(r[d]||"%I:%M"),E=e(r[f]||"%I %p"),k=e(r[l]||r.day||"%a %d"),C=e(r[s]||"%b %d"),S=e(r[u]||"%B"),A=e(r[a]||"%B"),O=e(r[o]||"%Y");return function(e){return(i(e)<e?x:c(e)<e?w:h(e)<e?_:m(e)<e?E:v(e)<e?g(e)<e?k:C:b(e)<e?y(e)<e?S:A:O)(e)}}(e,n,r)}const $=[o,u,l,f,d,p,"milliseconds"],U=$.slice(0,-1),q=U.slice(0,-1),W=q.slice(0,-1),H=W.slice(0,-1),V=[o,u],G=[o],Y=[[U,1,1e3],[U,5,5e3],[U,15,15e3],[U,30,3e4],[q,1,6e4],[q,5,3e5],[q,15,9e5],[q,30,18e5],[W,1,36e5],[W,3,108e5],[W,6,216e5],[W,12,432e5],[H,1,864e5],[[o,s],1,6048e5],[V,1,2592e6],[V,3,7776e6],[G,1,31536e6]];e.TIME_UNITS=h,e.dayofyear=function(e){return b(new Date(e))},e.timeBin=function(e){const n=e.extent,r=e.maxbins||40,o=Math.abs(t.span(n))/r;let a,u,s=i.bisector(e=>e[2]).right(Y,o);return s===Y.length?(a=G,u=i.tickStep(n[0]/31536e6,n[1]/31536e6,r)):s?(s=Y[o/Y[s-1][2]<Y[s][2]/o?s-1:s],a=s[0],u=s[1]):(a=$,u=Math.max(i.tickStep(n[0],n[1],r),1)),{units:a,step:u}},e.timeFloor=function(e,t){return A(e,t||1,M,D,_)},e.timeFormat=function(e){return I(r.timeFormat,j,e)},e.timeInterval=j,e.timeOffset=function(e,t,n){return B(j(e),t,n)},e.timeSequence=function(e,t,n,r){return L(j(e),t,n,r)},e.timeUnitSpecifier=function(e,n){const r=t.extend({},z,n),i=g(e),o=i.length;let a,u,s="",l=0;for(l=0;l<o;)for(a=i.length;a>l;--a)if(u=i.slice(l,a).join("-"),null!=r[u]){s+=r[u],l=a;break}return s.trim()},e.timeUnits=g,e.utcFloor=function(e,t){return A(e,t||1,P,T,S)},e.utcFormat=function(e){return I(r.utcFormat,R,e)},e.utcInterval=R,e.utcOffset=function(e,t,n){return B(R(e),t,n)},e.utcSequence=function(e,t,n,r){return L(R(e),t,n,r)},e.utcdayofyear=function(e){return E(new Date(e))},e.utcweek=function(e){return k(new Date(e))},e.week=function(e){return x(new Date(e))},Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,qx,Wx,Gx)}));t(Xx);var Kx=n((function(e,t){!function(e,t,n,r,i,o){function a(e){return e&&e.length?1===e.length?e[0]:function(e){return function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}}(e):function(){return""}}function u(e,t,n){return n||e+(t?"_"+t:"")}var s={values:f({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:f({name:"count",set:"cell.num"}),__count__:f({name:"count",set:"this.missing + this.valid"}),missing:f({name:"missing",set:"this.missing"}),valid:f({name:"valid",set:"this.valid"}),sum:f({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),product:f({name:"product",init:"this.product = 1;",add:"this.product *= v;",rem:"this.product /= v;",set:"this.valid ? this.product : undefined"}),mean:f({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:f({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:f({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:f({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:f({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:f({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:f({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:f({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:f({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:f({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:f({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:f({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:f({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:f({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:f({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:f({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (Number.isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:f({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (Number.isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},l=Object.keys(s);function c(e,t){return s[e](t)}function f(e){return function(n){var r=t.extend({init:"",add:"",rem:"",idx:0},e);return r.out=n||e.name,r}}function d(e,t){return e.idx-t.idx}function p(e,n){var r=n||t.identity,i=function(e,t){var n,r=e.reduce((function e(n,r){function i(t){n[t]||e(n,n[t]=s[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),n}),e.reduce((function(e,t){return e[t.name]=t,e}),{})),i=[];for(n in r)i.push(r[n]);return i.sort(d)}(e,!0),o="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",u="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",l="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",c="var cell = this.cell;";return i.forEach((function(e){o+=e.init,u+=e.add,l+=e.rem})),e.slice().sort(d).forEach((function(e){c+="t["+t.stringValue(e.out)+"]="+e.set+";"})),c+="return t;",(a=Function("cell",a)).prototype.init=Function(o),a.prototype.add=Function("v","t",u),a.prototype.rem=Function("v","t",l),a.prototype.set=Function("t",c),a.prototype.get=r,a.fields=e.map((function(e){return e.out})),a}function h(e){this._key=e?t.field(e):n.tupleid,this.reset()}var m=h.prototype;function g(e){n.Transform.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}m.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},m.add=function(e){this._add.push(e)},m.rem=function(e){this._rem.push(e)},m.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,o=this._key,a=r.length,u=i.length,s=Array(a-u),l={};for(e=0;e<u;++e)l[o(i[e])]=1;for(e=0,t=0;e<a;++e)l[o(n=r[e])]?l[o(n)]=0:s[t++]=n;return this._rem=[],this._add=s},m.distinct=function(e){for(var n,r=this.values(),i=r.length,o={},a=0;--i>=0;)n=e(r[i])+"",t.hasOwnProperty(o,n)||(o[n]=1,++a);return a},m.extent=function(e){if(this._get!==e||!this._ext){var n=this.values(),r=t.extentIndex(n,e);this._ext=[n[r[0]],n[r[1]]],this._get=e}return this._ext},m.argmin=function(e){return this.extent(e)[0]||{}},m.argmax=function(e){return this.extent(e)[1]||{}},m.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},m.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},m.quartile=function(e){return this._get===e&&this._q||(this._q=r.quartiles(this.values(),e),this._get=e),this._q},m.q1=function(e){return this.quartile(e)[0]},m.q2=function(e){return this.quartile(e)[1]},m.q3=function(e){return this.quartile(e)[2]},m.ci=function(e){return this._get===e&&this._ci||(this._ci=r.bootstrapCI(this.values(),1e3,.05,e),this._get=e),this._ci},m.ci0=function(e){return this.ci(e)[0]},m.ci1=function(e){return this.ci(e)[1]},g.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:l},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var v=t.inherits(g,n.Transform);function y(e){n.Transform.call(this,null,e)}v.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),n.changes(r)},v.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function o(e){var t,o,a,u;for(t in e)for(a=e[t].tuple,o=0;o<i;++o)r[o][u=a[n[o]]]=u}o(e._prev),o(t),function o(a,u,s){var l,c,f=n[s],d=r[s++];for(l in d)u[f]=d[l],c=a?a+"|"+l:l,s<i?o(c,u,s):t[c]||e.cell(c,u)}("",{},0)},v.init=function(e){var n=this._inputs=[],r=this._outputs=[],i={};function o(e){for(var r,o=t.array(t.accessorFields(e)),a=0,u=o.length;a<u;++a)i[r=o[a]]||(i[r]=1,n.push(r))}this._dims=t.array(e.groupby),this._dnames=this._dims.map((function(e){var n=t.accessorName(e);return o(e),r.push(n),n})),this.cellkey=e.key?e.key:a(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,l,f,d,h,m,g=e.fields||[null],v=e.ops||["count"],y=e.as||[],b=g.length,x={};for(b!==v.length&&t.error("Unmatched number of fields and aggregate ops."),m=0;m<b;++m)s=g[m],l=v[m],null==s&&"count"!==l&&t.error("Null aggregate field specified."),h=u(l,d=t.accessorName(s),y[m]),r.push(h),"count"!==l?((f=x[d])||(o(s),(f=x[d]=[]).field=s,this._measures.push(f)),"count"!==l&&(this._countOnly=!1),f.push(c(l,h))):this._counts.push(h);return this._measures=this._measures.map((function(e){return p(e,e.field)})),{}},v.cellkey=a(),v.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},v.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new h),n},v.newtuple=function(e,t){var r,i,o=this._dnames,a=this._dims,u={};for(r=0,i=a.length;r<i;++r)u[o[r]]=a[r](e);return t?n.replace(t.tuple,u):n.ingest(u)},v.add=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num+=1,!this._countOnly)for(o.store&&o.data.add(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},v.rem=function(e){var t,n,r,i=this.cellkey(e),o=this.cell(i,e);if(o.num-=1,!this._countOnly)for(o.store&&o.data.rem(e),n=0,r=(t=o.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},v.celltuple=function(e){var t,n,r,i=e.tuple,o=this._counts;for(e.store&&e.data.values(),n=0,r=o.length;n<r;++n)i[o[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},v.changes=function(e){var t,n,r,i,o=this._adds,a=this._mods,u=this._prev,s=this._drop,l=e.add,c=e.rem,f=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(o[r])),o[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=a[r]).num&&s?c:f).push(this.celltuple(t)),a[r]=null;return this._alen=this._mlen=0,this._prev=null,e},y.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var b=t.inherits(y,n.Transform);function x(e,n,r){var i=e,o=n||[],a=r||[],u={},s=0;return{add:function(e){a.push(e)},remove:function(e){u[i(e)]=++s},size:function(){return o.length},data:function(e,n){return s&&(o=o.filter((function(e){return!u[i(e)]})),u={},s=0),n&&e&&o.sort(e),a.length&&(o=e?t.merge(e,o,a.sort(e)):o.concat(a),a=[]),o}}}function w(e){n.Transform.call(this,[],e)}function _(e){n.Operator.call(this,null,E,e)}function E(e){return this.value&&!e.modified()?this.value:t.compare(e.fields,e.orders)}function k(e){n.Transform.call(this,null,e)}b.transform=function(e,n){var r,i=!1!==e.interval,o=this._bins(e),a=o.start,u=o.step,s=e.as||["bin0","bin1"],l=s[0],c=s[1];return r=e.modified()?(n=n.reflow(!0)).SOURCE:n.modified(t.accessorFields(e.field))?n.ADD_MOD:n.ADD,n.visit(r,i?function(e){var t=o(e);e[l]=t,e[c]=null==t?null:a+u*(1+(t-a)/u)}:function(e){e[l]=o(e)}),n.modifies(i?s:l)},b._bins=function(e){if(this.value&&!e.modified())return this.value;var n,i,o=e.field,a=r.bin(e),u=a.step,s=a.start,l=s+Math.ceil((a.stop-s)/u)*u;null!=(n=e.anchor)&&(i=n-(s+u*Math.floor((n-s)/u)),s+=i,l+=i);var c=function(e){var t=o(e);return null==t?null:t<s?-1/0:t>l?1/0:(t=Math.max(s,Math.min(+t,l-u)),s+u*Math.floor(1e-14+(t-s)/u))};return c.start=s,c.stop=a.stop,c.step=u,this.value=t.accessor(c,t.accessorFields(o),e.name||"bin_"+t.accessorName(o))},w.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},t.inherits(w,n.Transform).transform=function(e,t){var r=t.fork(t.ALL),i=x(n.tupleid,this.value,r.materialize(r.ADD).add),o=e.sort,a=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return r.visit(r.REM,i.remove),this.modified(a),this.value=r.source=i.data(n.stableCompare(o),a),t.source&&t.source.root&&(this.value.root=t.source.root),r},t.inherits(_,n.Operator),k.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var C=t.inherits(k,n.Transform);function S(e){n.Transform.call(this,null,e)}C.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,o)||[],s=0,l=i.length;s<l;++s)a.test(r=i[s])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,o=this._match,a=this._stop,u=e.field,s=e.as||["text","count"],l=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,s)},C._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},C._finish=function(e,t){var r,i,o,a=this._counts,u=this._tuples||(this._tuples={}),s=t[0],l=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(r in a)i=u[r],o=a[r]||0,!i&&o?(u[r]=i=n.ingest({}),i[s]=r,i[l]=o,c.add.push(i)):0===o?(i&&c.rem.push(i),a[r]=null,u[r]=null):i[l]!==o&&(i[l]=o,c.mod.push(i));return c.modifies(t)},S.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},t.inherits(S,n.Transform).transform=function(e,r){var i=r.fork(r.NO_SOURCE),o=this.value,a=e.as||["a","b"],u=a[0],s=a[1];return!o||r.changed(r.ADD_REM)||e.modified("as")||e.modified("filter")?(o&&(i.rem=o),o=r.materialize(r.SOURCE).source,i.add=this.value=function(e,t,r,i){for(var o,a,u=[],s={},l=e.length,c=0;c<l;++c)for(s[t]=a=e[c],o=0;o<l;++o)s[r]=e[o],i(s)&&(u.push(n.ingest(s)),(s={})[t]=a);return u}(o,u,s,e.filter||t.truthy)):i.mod=o,i.source=this.value,i.modifies(a)};var A={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,lognormal:r.randomLogNormal,uniform:r.randomUniform};function O(e){n.Transform.call(this,null,e)}var M=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],D={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:M},{name:"weights",type:"number",array:!0}]};function P(e,n){return e?e.map((function(e,r){return n[r]||t.accessorName(e)})):null}function T(e,t,n){var r,i,o,a,u,s,l=[],c=function(e){return e(a)};if(null==t)l.push(e.map(n));else for(r={},i=0,o=e.length;i<o;++i)a=e[i],(s=r[u=t.map(c)])||(r[u]=s=[],s.dims=u,l.push(s)),s.push(n(a));return l}function F(e){n.Transform.call(this,null,e)}function N(e){n.Operator.call(this,null,j,e),this.modified(!0)}function j(e){var n=e.expr;return this.value&&!e.modified("expr")?this.value:t.accessor(t=>n(t,e),t.accessorFields(n),t.accessorName(n))}function R(e){n.Transform.call(this,[void 0,void 0],e)}function B(e,t){n.Operator.call(this,e),this.parent=t}O.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:M.concat(D)},{name:"as",type:"string",array:!0,default:["value","density"]}]},t.inherits(O,n.Transform).transform=function(e,i){var o=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){var a=function e(n,r){var i=n.function;t.hasOwnProperty(A,i)||t.error("Unknown distribution function: "+i);var o=A[i]();for(var a in n)"field"===a?o.data((n.from||r()).map(n[a])):"distributions"===a?o[a](n[a].map((function(t){return e(t,r)}))):"function"==typeof o[a]&&o[a](n[a]);return o}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(i)),u=e.steps||e.minsteps||25,s=e.steps||e.maxsteps||200,l=e.method||"pdf";"pdf"!==l&&"cdf"!==l&&t.error("Invalid density method: "+l),e.extent||a.data||t.error("Missing density extent parameter."),l=a[l];var c=e.as||["value","density"],f=e.extent||t.extent(a.data()),d=r.sampleCurve(l,f,u,s).map(e=>{var t={};return t[c[0]]=e[0],t[c[1]]=e[1],n.ingest(t)});this.value&&(o.rem=this.value),this.value=o.add=o.source=d}return o},F.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},t.inherits(F,n.Transform).transform=function(e,i){if(this.value&&!e.modified()&&!i.changed())return i;const o=i.materialize(i.SOURCE).source,a=T(i.source,e.groupby,t.identity),u=e.smooth||!1,s=e.field,l=e.step||function(e,n){return t.span(t.extent(e,n))/30}(o,s),c=n.stableCompare((e,t)=>s(e)-s(t)),f=e.as||"bin",d=a.length;let p,h=1/0,m=-1/0,g=0;for(;g<d;++g){const e=a[g].sort(c);p=-1;for(const t of r.dotbin(e,l,u,s))t<h&&(h=t),t>m&&(m=t),e[++p][f]=t}return this.value={start:h,stop:m,step:l},i.reflow(!0).modifies(f)},t.inherits(N,n.Operator),R.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},t.inherits(R,n.Transform).transform=function(e,n){var r,i=this.value,o=e.field,a=i[0],u=i[1];if(((r=n.changed()||n.modified(o.fields)||e.modified("field"))||null==a)&&(a=1/0,u=-1/0),n.visit(r?n.SOURCE:n.ADD,(function(e){var t=o(e);null!=t&&((t=+t)<a&&(a=t),t>u&&(u=t))})),!Number.isFinite(a)||!Number.isFinite(u)){let e=t.accessorName(o);e&&(e=` for field "${e}"`),n.dataflow.warn(`Infinite extent${e}: [${a}, ${u}]`),a=u=void 0}this.value=[a,u]};var L=t.inherits(B,n.Operator);function z(e){n.Transform.call(this,{},e),this._keys=t.fastmap();var r=this._targets=[];r.active=0,r.forEach=function(e){for(var t=0,n=r.active;t<n;++t)e(r[t],t,r)}}L.connect=function(e){return this.targets().add(e),e.source=this},L.add=function(e){this.value.add.push(e)},L.rem=function(e){this.value.rem.push(e)},L.mod=function(e){this.value.mod.push(e)},L.init=function(e){this.value.init(e,e.NO_SOURCE)},L.evaluate=function(){return this.value};var I=t.inherits(z,n.Transform);function $(e){n.Operator.call(this,null,U,e)}function U(e){return this.value&&!e.modified()?this.value:t.isArray(e.name)?t.array(e.name).map((function(e){return t.field(e)})):t.field(e.name,e.as)}function q(e){n.Transform.call(this,t.fastmap(),e)}function W(e){n.Transform.call(this,[],e)}function H(e){n.Transform.call(this,[],e)}function V(e){n.Transform.call(this,null,e)}function G(e){n.Transform.call(this,[],e)}I.activate=function(e){this._targets[this._targets.active++]=e},I.subflow=function(e,n,r,i){var o,a,u=this.value,s=t.hasOwnProperty(u,e)&&u[e];return s?s.value.stamp<r.stamp&&(s.init(r),this.activate(s)):(a=i||(a=this._group[e])&&a.tuple,s=(o=r.dataflow).add(new B(r.fork(r.NO_SOURCE),this)).connect(n(o,e,a)),u[e]=s,this.activate(s)),s},I.transform=function(e,t){var r=t.dataflow,i=this,o=e.key,a=e.subflow,u=this._keys,s=e.modified("key");function l(e){return i.subflow(e,a,t)}return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,(function(e){var t=n.tupleid(e),r=u.get(t);void 0!==r&&(u.delete(t),l(r).rem(e))})),t.visit(t.ADD,(function(e){var t=o(e);u.set(n.tupleid(e),t),l(t).add(e)})),s||t.modified(o.fields)?t.visit(t.MOD,(function(e){var t=n.tupleid(e),r=u.get(t),i=o(e);r===i?l(i).mod(e):(u.set(t,i),l(r).rem(e),l(i).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){l(u.get(n.tupleid(e))).mod(e)})),s&&t.visit(t.REFLOW,(function(e){var t=n.tupleid(e),r=u.get(t),i=o(e);r!==i&&(u.set(t,i),l(r).rem(e),l(i).add(e))})),u.empty>r.cleanThreshold&&r.runAfter(u.clean),t},t.inherits($,n.Operator),q.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},t.inherits(q,n.Transform).transform=function(e,t){var r=t.dataflow,i=this.value,o=t.fork(),a=o.add,u=o.rem,s=o.mod,l=e.expr,c=!0;function f(t){var r=n.tupleid(t),o=l(t,e),f=i.get(r);o&&f?(i.delete(r),a.push(t)):o||f?c&&o&&!f&&s.push(t):(i.set(r,1),u.push(t))}return t.visit(t.REM,(function(e){var t=n.tupleid(e);i.has(t)?i.delete(t):u.push(e)})),t.visit(t.ADD,(function(t){l(t,e)?a.push(t):i.set(n.tupleid(t),1)})),t.visit(t.MOD,f),e.modified()&&(c=!1,t.visit(t.REFLOW,f)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),o},W.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},t.inherits(W,n.Transform).transform=function(e,t){var r=t.fork(t.NO_SOURCE),i=e.fields,o=P(i,e.as||[]),a=e.index||null,u=o.length;return r.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,s,l,c=i.map(t=>t(e)),f=c.reduce((e,t)=>Math.max(e,t.length),0),d=0;d<f;++d){for(s=n.derive(e),t=0;t<u;++t)s[o[t]]=null==(l=c[t][d])?null:l;a&&(s[a]=d),r.add.push(s)}})),this.value=r.source=r.add,a&&r.modifies(a),r.modifies(o)},H.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},t.inherits(H,n.Transform).transform=function(e,r){var i=r.fork(r.NO_SOURCE),o=e.fields,a=o.map(t.accessorName),u=e.as||["key","value"],s=u[0],l=u[1],c=o.length;return i.rem=this.value,r.visit(r.SOURCE,(function(e){for(var t,r=0;r<c;++r)(t=n.derive(e))[s]=a[r],t[l]=o[r](e),i.add.push(t)})),this.value=i.source=i.add,i.modifies(u)},V.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},t.inherits(V,n.Transform).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,t=>t[r]=n(t,e))},t.inherits(G,n.Transform).transform=function(e,t){var r,i,o,a=this.value,u=t.fork(t.ALL),s=e.size-a.length,l=e.generator;if(s>0){for(r=[];--s>=0;)r.push(o=n.ingest(l(e))),a.push(o);u.add=u.add.length?u.materialize(u.ADD).add.concat(r):r}else i=a.slice(0,-s),u.rem=u.rem.length?u.materialize(u.REM).rem.concat(i):i,a=a.slice(-s);return u.source=this.value=a,u};var Y={value:"value",median:i.median,mean:i.mean,min:i.min,max:i.max},X=[];function K(e){n.Transform.call(this,[],e)}function Q(e){g.call(this,e)}K.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},t.inherits(K,n.Transform).transform=function(e,r){var i,o,a,u,s,l,c,f,d,p,h=r.fork(r.ALL),m=function(e){var n,r=e.method||Y.value;if(null!=Y[r])return r===Y.value?(n=void 0!==e.value?e.value:0,function(){return n}):Y[r];t.error("Unrecognized imputation method: "+r)}(e),g=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),v=t.accessorName(e.field),y=t.accessorName(e.key),b=(e.groupby||[]).map(t.accessorName),x=function(e,t,n,r){var i,o,a,u,s,l,c,f,d=function(e){return e(f)},p=[],h=r?r.slice():[],m={},g={};for(h.forEach((function(e,t){m[e]=t+1})),u=0,c=e.length;u<c;++u)l=n(f=e[u]),s=m[l]||(m[l]=h.push(l)),(a=g[o=(i=t?t.map(d):X)+""])||(a=g[o]=[],p.push(a),a.values=i),a[s-1]=f;return p.domain=h,p}(r.source,e.groupby,e.key,e.keyvals),w=[],_=this.value,E=x.domain.length;for(s=0,f=x.length;s<f;++s)for(a=(i=x[s]).values,o=NaN,c=0;c<E;++c)if(null==i[c]){for(u=x.domain[c],p={_impute:!0},l=0,d=a.length;l<d;++l)p[b[l]]=a[l];p[y]=u,p[v]=Number.isNaN(o)?o=m(i,g):o,w.push(n.ingest(p))}return w.length&&(h.add=h.materialize(h.ADD).add.concat(w)),_.length&&(h.rem=h.materialize(h.REM).rem.concat(_)),this.value=w,h},Q.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:l},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var J=t.inherits(Q,g);function Z(e){n.Transform.call(this,null,e)}function ee(e){n.Operator.call(this,null,te,e)}function te(e){return this.value&&!e.modified()?this.value:t.key(e.fields,e.flat)}function ne(e){n.Transform.call(this,[],e),this._pending=null}function re(e,t,r){r.forEach(n.ingest);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=r,e._pending=null,i}function ie(e){n.Transform.call(this,{},e)}function oe(e){n.Operator.call(this,null,ae,e)}function ae(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,o=-1/0,a=e.extents;for(t=0,n=a.length;t<n;++t)(r=a[t])[0]<i&&(i=r[0]),r[1]>o&&(o=r[1]);return[i,o]}function ue(e){n.Operator.call(this,null,se,e)}function se(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function le(e){n.Transform.call(this,null,e)}function ce(e){g.call(this,e)}J.transform=function(e,n){var r,i=this,o=e.modified();return i.value&&(o||n.modified(i._inputs,!0))?(r=i.value=o?i.init(e):{},n.visit(n.SOURCE,(function(e){i.add(e)}))):(r=i.value=i.value||this.init(e),n.visit(n.REM,(function(e){i.rem(e)})),n.visit(n.ADD,(function(e){i.add(e)}))),i.changes(),n.visit(n.SOURCE,(function(e){t.extend(e,r[i.cellkey(e)].tuple)})),n.reflow(o).modifies(this._outputs)},J.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},Z.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},t.inherits(Z,n.Transform).transform=function(e,i){var o=i.fork(i.NO_SOURCE|i.NO_FIELDS);if(!this.value||i.changed()||e.modified()){const a=i.materialize(i.SOURCE).source,u=T(a,e.groupby,e.field),s=(e.groupby||[]).map(t.accessorName),l=e.bandwidth,c=e.cumulative?"cdf":"pdf",f=e.as||["value","density"],d=[];let p=e.extent,h=e.steps||e.minsteps||25,m=e.steps||e.maxsteps||200;"pdf"!==c&&"cdf"!==c&&t.error("Invalid density method: "+c),"shared"===e.resolve&&(p||(p=t.extent(a,e.field)),h=m=e.steps||m),u.forEach(i=>{const o=r.randomKDE(i,l)[c],a=e.counts?i.length:1,u=p||t.extent(i);r.sampleCurve(o,u,h,m).forEach(e=>{const t={};for(let e=0;e<s.length;++e)t[s[e]]=i.dims[e];t[f[0]]=e[0],t[f[1]]=e[1]*a,d.push(n.ingest(t))})}),this.value&&(o.rem=this.value),this.value=o.add=o.source=d}return o},t.inherits(ee,n.Operator),t.inherits(ne,n.Transform).transform=function(e,n){const r=n.dataflow;return this._pending?re(this,n,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?n.StopPropagation:e.values?re(this,n,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then(e=>(this._pending=t.array(e.data),e=>e.touch(this)))}:r.request(e.url,e.format).then(e=>re(this,n,t.array(e.data)))},ie.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},t.inherits(ie,n.Transform).transform=function(e,n){var r,i,o=n,a=e.as,u=e.fields,s=e.index,l=e.values,c=null==e.default?null:e.default,f=e.modified(),d=f?n.SOURCE:n.ADD,p=u.length;return l?(i=l.length,p>1&&!a&&t.error('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==p*i&&t.error('The "as" parameter has too few output field names.'),a=a||l.map(t.accessorName),r=function(e){for(var t,n,r=0,o=0;r<p;++r)if(null==(n=s.get(u[r](e))))for(t=0;t<i;++t,++o)e[a[o]]=c;else for(t=0;t<i;++t,++o)e[a[o]]=l[t](n)}):(a||t.error("Missing output field names."),r=function(e){for(var t,n=0;n<p;++n)t=s.get(u[n](e)),e[a[n]]=null==t?c:t}),f?o=n.reflow(!0):d|=u.some((function(e){return n.modified(e.fields)}))?n.MOD:0,n.visit(d,r),o.modifies(a)},t.inherits(oe,n.Operator),t.inherits(ue,n.Operator),t.inherits(le,n.Transform),le.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},ce.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:l,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var fe=t.inherits(ce,g);function de(e,n){var r=e.field,i=e.value,o=("count"===e.op?"__count__":e.op)||"sum",a=t.accessorFields(r).concat(t.accessorFields(i)),u=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)})),t?i.slice(0,t):i}(r,e.limit||0,n);return n.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:u.map((function(){return o})),fields:u.map((function(e){return function(e,n,r,i){return t.accessor((function(t){return n(t)===e?r(t):NaN}),i,e+"")}(e,r,i,a)})),as:u.map((function(e){return e+""})),modified:e.modified.bind(e)}}function pe(e){z.call(this,e)}function he(e){n.Transform.call(this,null,e)}function me(e){n.Transform.call(this,null,e)}function ge(e){n.Transform.call(this,null,e)}fe._transform=fe.transform,fe.transform=function(e,t){return this._transform(de(e,t),t)},t.inherits(pe,z).transform=function(e,r){var i=this,o=e.subflow,a=e.field;return(e.modified("field")||a&&r.modified(t.accessorFields(a)))&&t.error("PreFacet does not support field modification."),this._targets.active=0,r.visit(r.MOD,(function(e){var t=i.subflow(n.tupleid(e),o,r,e);a?a(e).forEach((function(e){t.mod(e)})):t.mod(e)})),r.visit(r.ADD,(function(e){var t=i.subflow(n.tupleid(e),o,r,e);a?a(e).forEach((function(e){t.add(n.ingest(e))})):t.add(e)})),r.visit(r.REM,(function(e){var t=i.subflow(n.tupleid(e),o,r,e);a?a(e).forEach((function(e){t.rem(e)})):t.rem(e)})),r},he.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},t.inherits(he,n.Transform).transform=function(e,t){var r,i,o=e.fields,a=P(e.fields,e.as||[]),u=o?function(e,t){return function(e,t,n,r){for(var i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}(e,t,o,a)}:n.rederive;return this.value?i=this.value:(t=t.addAll(),i=this.value={}),r=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=n.tupleid(e);r.rem.push(i[t]),i[t]=null})),t.visit(t.ADD,(function(e){var t=u(e,n.ingest({}));i[n.tupleid(e)]=t,r.add.push(t)})),t.visit(t.MOD,(function(e){r.mod.push(u(e,i[n.tupleid(e)]))})),r},t.inherits(me,n.Transform).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation},ge.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var ve=t.inherits(ge,n.Transform);function ye(e){n.Transform.call(this,null,e)}function be(e){n.Transform.call(this,[],e),this.count=0}function xe(e){n.Transform.call(this,null,e)}function we(e){n.Transform.call(this,null,e),this.modified(!0)}function _e(e){n.Transform.call(this,null,e)}ve.transform=function(e,o){var a=o.fork(o.NO_SOURCE|o.NO_FIELDS),u=e.as||["prob","value"];if(this.value&&!e.modified()&&!o.changed())return a.source=this.value,a;const s=T(o.materialize(o.SOURCE).source,e.groupby,e.field),l=(e.groupby||[]).map(t.accessorName),c=[],f=e.step||.01,d=e.probs||i.range(f/2,1-1e-14,f),p=d.length;return s.forEach(e=>{const t=r.quantiles(e,d);for(let r=0;r<p;++r){const i={};for(let t=0;t<l.length;++t)i[l[t]]=e.dims[t];i[u[0]]=d[r],i[u[1]]=t[r],c.push(n.ingest(i))}}),this.value&&(a.rem=this.value),this.value=a.add=a.source=c,a},t.inherits(ye,n.Transform).transform=function(e,t){var r,i;return this.value?i=this.value:(r=t=t.addAll(),i=this.value={}),e.derive&&(r=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{var t=n.tupleid(e);r.rem.push(i[t]),i[t]=null}),t.visit(t.ADD,e=>{var t=n.derive(e);i[n.tupleid(e)]=t,r.add.push(t)}),t.visit(t.MOD,e=>{var t,o=i[n.tupleid(e)];for(t in e)o[t]=e[t],r.modifies(t);r.mod.push(o)})),r},be.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},t.inherits(be,n.Transform).transform=function(e,t){var i=t.fork(t.NO_SOURCE),o=e.modified("size"),a=e.size,u=this.value,s=this.count,l=0,c=u.reduce((function(e,t){return e[n.tupleid(t)]=1,e}),{});function f(e){var t,o;u.length<a?u.push(e):(o=~~((s+1)*r.random()))<u.length&&o>=l&&(t=u[o],c[n.tupleid(t)]&&i.rem.push(t),u[o]=e),++s}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=n.tupleid(e);c[t]&&(c[t]=-1,i.rem.push(e)),--s})),u=u.filter((function(e){return-1!==c[n.tupleid(e)]}))),(t.rem.length||o)&&u.length<a&&t.source&&(l=s=u.length,t.visit(t.SOURCE,(function(e){c[n.tupleid(e)]||f(e)})),l=-1),o&&u.length>a){for(var d=0,p=u.length-a;d<p;++d)c[n.tupleid(u[d])]=-1,i.rem.push(u[d]);u=u.slice(p)}return t.mod.length&&t.visit(t.MOD,(function(e){c[n.tupleid(e)]&&i.mod.push(e)})),t.add.length&&t.visit(t.ADD,f),(t.add.length||l<0)&&(i.add=u.filter((function(e){return!c[n.tupleid(e)]}))),this.count=s,this.value=i.source=u,i},xe.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},t.inherits(xe,n.Transform).transform=function(e,t){if(!this.value||e.modified()){var r=t.materialize().fork(t.MOD),o=e.as||"data";return r.rem=this.value?t.rem.concat(this.value):t.rem,this.value=i.range(e.start,e.stop,e.step||1).map((function(e){var t={};return t[o]=e,n.ingest(t)})),r.add=t.add.concat(this.value),r}},t.inherits(we,n.Transform).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};const Ee=["unit0","unit1"];_e.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:o.TIME_UNITS,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Ee}]};var ke=t.inherits(_e,n.Transform);function Ce(e){n.Transform.call(this,t.fastmap(),e)}function Se(e){n.Transform.call(this,null,e)}ke.transform=function(e,n){var r=e.field,i=!1!==e.interval,a="utc"===e.timezone,u=this._floor(e,n),s=(a?o.utcInterval:o.timeInterval)(u.unit).offset,l=e.as||Ee,c=l[0],f=l[1],d=u.start||1/0,p=u.stop||-1/0,h=u.step,m=n.ADD;return(e.modified()||n.modified(t.accessorFields(r)))&&(m=(n=n.reflow(!0)).SOURCE,d=1/0,p=-1/0),n.visit(m,(function(e){var t,n,o=r(e);null==o?(e[c]=null,i&&(e[f]=null)):(e[c]=t=n=u(o),i&&(e[f]=n=s(t,h)),t<d&&(d=t),n>p&&(p=n))})),u.start=d,u.stop=p,n.modifies(i?l:c)},ke._floor=function(e,n){const r="utc"===e.timezone;let{units:i,step:a}=e.units?{units:e.units,step:e.step||1}:o.timeBin({extent:e.extent||t.extent(n.materialize(n.SOURCE).source,e.field),maxbins:e.maxbins});i=o.timeUnits(i);const u=this.value||{},s=(r?o.utcFloor:o.timeFloor)(i,a);return s.unit=t.peek(i),s.units=i,s.step=a,s.start=u.start,s.stop=u.stop,this.value=s},t.inherits(Ce,n.Transform).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,o=!0;function a(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},t.inherits(Se,n.Transform).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(n.stableCompare(e.sort)):t.source).map(e.field))};const Ae={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){let e=Ae.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,n){(n=+n)>0||t.error("ntile num must be greater than zero.");let r=Ae.cume_dist(),i=r.next;return{init:r.init,next:e=>Math.ceil(n*i(e))}},lag:function(e,t){return t=+t||1,{next:n=>{let r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{let r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,n){return(n=+n)>0||t.error("nth_value nth must be greater than zero."),{next:t=>{let r=t.i0+(n-1);return r<t.i1?e(t.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{let r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{let i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n)if(null!=e(t[n]))return n;return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var Oe=Object.keys(Ae);function Me(e){let n=this,r=t.array(e.ops),i=t.array(e.fields),o=t.array(e.params),a=t.array(e.as),s=n.outputs=[],l=n.windows=[],f={},d={},m=!0,g=[],v=[];function y(e){t.array(t.accessorFields(e)).forEach(e=>f[e]=1)}y(e.sort),r.forEach((function(e,n){let r=i[n],f=t.accessorName(r),p=u(e,f,a[n]);if(y(r),s.push(p),t.hasOwnProperty(Ae,e))l.push(function(e,n,r,i){let o=Ae[e](n,r);return{init:o.init||t.zero,update:function(e,t){t[i]=o.next(e)}}}(e,i[n],o[n],p));else{if(null==r&&"count"!==e&&t.error("Null aggregate field specified."),"count"===e)return void g.push(p);m=!1;let n=d[f];n||(n=d[f]=[],n.field=r,v.push(n)),n.push(c(e,p))}})),(g.length||v.length)&&(n.cell=function(e,t,n){e=e.map(e=>p(e,e.field));let r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),a=0;a<i;++a)o[a]=new e[a](r);if(r.store)var u=r.data=new h;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(let t=0;t<i;++t)o[t].add(o[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(let t=0;t<i;++t)o[t].rem(o[t].get(e),e)}},r.set=function(e){let i,a;for(u&&u.values(),i=0,a=t.length;i<a;++i)e[t[i]]=r.num;if(!n)for(i=0,a=o.length;i<a;++i)o[i].set(e)},r.init=function(){r.num=0,u&&u.reset();for(let e=0;e<i;++e)o[e].init()},r}(v,g,m)),n.inputs=Object.keys(f)}const De=Me.prototype;function Pe(e){n.Transform.call(this,{},e),this._mlen=0,this._mods=[]}De.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},De.update=function(e,t){let n,r=this.cell,i=this.windows,o=e.data,a=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(o[n]);for(n=e.p1;n<e.i1;++n)r.add(o[n]);r.set(t)}for(n=0;n<a;++n)i[n].update(e,t)},Pe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Oe.concat(l)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Te=t.inherits(Pe,n.Transform);function Fe(e,n,r,o){var a=o.sort,u=a&&!o.ignorePeers,s=o.frame||[null,0],l=e.data(r),c=l.length,f=0,d=u?i.bisector(a):null,p={i0:0,i1:0,p0:0,p1:0,index:0,data:l,compare:a||t.constant(-1)};for(n.init();f<c;++f)Ne(p,s,f,c),u&&je(p,d),n.update(p,l[f])}function Ne(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function je(e,t){var n=e.i0,r=e.i1-1,i=e.compare,o=e.data,a=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<a&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}Te.transform=function(e,t){var r,i,o=this,u=o.state,s=e.modified(),l=n.stableCompare(e.sort);this.stamp=t.stamp,u&&!s||(u=o.state=new Me(e));var c=a(e.groupby);function f(e){return o.group(c(e))}for(s||t.modified(u.inputs)?(o.value={},t.visit(t.SOURCE,(function(e){f(e).add(e)}))):(t.visit(t.REM,(function(e){f(e).remove(e)})),t.visit(t.ADD,(function(e){f(e).add(e)}))),r=0,i=o._mlen;r<i;++r)Fe(o._mods[r],u,l,e);return o._mlen=0,o._mods=[],t.reflow(s).modifies(u.outputs)},Te.group=function(e){var t=this.value[e];return t||((t=this.value[e]=x(n.tupleid)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t},e.aggregate=g,e.bin=y,e.collect=w,e.compare=_,e.countpattern=k,e.cross=S,e.density=O,e.dotbin=F,e.expression=N,e.extent=R,e.facet=z,e.field=$,e.filter=q,e.flatten=W,e.fold=H,e.formula=V,e.generate=G,e.impute=K,e.joinaggregate=Q,e.kde=Z,e.key=ee,e.load=ne,e.lookup=ie,e.multiextent=oe,e.multivalues=ue,e.params=le,e.pivot=ce,e.prefacet=pe,e.project=he,e.proxy=me,e.quantile=ge,e.relay=ye,e.sample=be,e.sequence=xe,e.sieve=we,e.subflow=B,e.timeunit=_e,e.tupleindex=Ce,e.values=Se,e.window=Pe,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Vx,Yx,Gx,Xx)}));t(Kx);var Qx=n((function(e,t){!function(e){function t(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}e.canvas=t,e.domCanvas=t,e.image=function(){return"undefined"!=typeof Image?Image:null},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Qx);var Jx=n((function(e,t){!function(e){var t=Math.PI,n=2*t,r=n-1e-6;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new i}i.prototype=o.prototype={constructor:i,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,n,r,i,o){e=+e,n=+n,r=+r,i=+i,o=+o;var a=this._x1,u=this._y1,s=r-e,l=i-n,c=a-e,f=u-n,d=c*c+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(d>1e-6)if(Math.abs(f*s-l*c)>1e-6&&o){var p=r-a,h=i-u,m=s*s+l*l,g=p*p+h*h,v=Math.sqrt(m),y=Math.sqrt(d),b=o*Math.tan((t-Math.acos((m+d-g)/(2*v*y)))/2),x=b/y,w=b/v;Math.abs(x-1)>1e-6&&(this._+="L"+(e+x*c)+","+(n+x*f)),this._+="A"+o+","+o+",0,0,"+ +(f*p>c*h)+","+(this._x1=e+w*s)+","+(this._y1=n+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=n)},arc:function(e,i,o,a,u,s){e=+e,i=+i,s=!!s;var l=(o=+o)*Math.cos(a),c=o*Math.sin(a),f=e+l,d=i+c,p=1^s,h=s?a-u:u-a;if(o<0)throw new Error("negative radius: "+o);null===this._x1?this._+="M"+f+","+d:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+f+","+d),o&&(h<0&&(h=h%n+n),h>r?this._+="A"+o+","+o+",0,1,"+p+","+(e-l)+","+(i-c)+"A"+o+","+o+",0,1,"+p+","+(this._x1=f)+","+(this._y1=d):h>1e-6&&(this._+="A"+o+","+o+",0,"+ +(h>=t)+","+p+","+(this._x1=e+o*Math.cos(u))+","+(this._y1=i+o*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.path=o,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Jx);var Zx=n((function(e,t){!function(e,t){function n(e){return function(){return e}}var r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,u=Math.min,s=Math.sin,l=Math.sqrt,c=Math.PI,f=c/2,d=2*c;function p(e){return e>1?0:e<-1?c:Math.acos(e)}function h(e){return e>=1?f:e<=-1?-f:Math.asin(e)}function m(e){return e.innerRadius}function g(e){return e.outerRadius}function v(e){return e.startAngle}function y(e){return e.endAngle}function b(e){return e&&e.padAngle}function x(e,t,n,r,i,o,a,u){var s=n-e,l=r-t,c=a-i,f=u-o,d=f*s-c*l;if(!(d*d<1e-12))return[e+(d=(c*(t-o)-f*(e-i))/d)*s,t+d*l]}function w(e,t,n,r,i,o,u){var s=e-n,c=t-r,f=(u?o:-o)/l(s*s+c*c),d=f*c,p=-f*s,h=e+d,m=t+p,g=n+d,v=r+p,y=(h+g)/2,b=(m+v)/2,x=g-h,w=v-m,_=x*x+w*w,E=i-o,k=h*v-g*m,C=(w<0?-1:1)*l(a(0,E*E*_-k*k)),S=(k*w-x*C)/_,A=(-k*x-w*C)/_,O=(k*w+x*C)/_,M=(-k*x+w*C)/_,D=S-y,P=A-b,T=O-y,F=M-b;return D*D+P*P>T*T+F*F&&(S=O,A=M),{cx:S,cy:A,x01:-d,y01:-p,x11:S*(i/E-1),y11:A*(i/E-1)}}function _(e){this._context=e}function E(e){return new _(e)}function k(e){return e[0]}function C(e){return e[1]}function S(){var e=k,r=C,i=n(!0),o=null,a=E,u=null;function s(n){var s,l,c,f=n.length,d=!1;for(null==o&&(u=a(c=t.path())),s=0;s<=f;++s)!(s<f&&i(l=n[s],s,n))===d&&((d=!d)?u.lineStart():u.lineEnd()),d&&u.point(+e(l,s,n),+r(l,s,n));if(c)return u=null,c+""||null}return s.x=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),s):e},s.y=function(e){return arguments.length?(r="function"==typeof e?e:n(+e),s):r},s.defined=function(e){return arguments.length?(i="function"==typeof e?e:n(!!e),s):i},s.curve=function(e){return arguments.length?(a=e,null!=o&&(u=a(o)),s):a},s.context=function(e){return arguments.length?(null==e?o=u=null:u=a(o=e),s):o},s}function A(){var e=k,r=null,i=n(0),o=C,a=n(!0),u=null,s=E,l=null;function c(n){var c,f,d,p,h,m=n.length,g=!1,v=new Array(m),y=new Array(m);for(null==u&&(l=s(h=t.path())),c=0;c<=m;++c){if(!(c<m&&a(p=n[c],c,n))===g)if(g=!g)f=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),d=c-1;d>=f;--d)l.point(v[d],y[d]);l.lineEnd(),l.areaEnd()}g&&(v[c]=+e(p,c,n),y[c]=+i(p,c,n),l.point(r?+r(p,c,n):v[c],o?+o(p,c,n):y[c]))}if(h)return l=null,h+""||null}function f(){return S().defined(a).curve(s).context(u)}return c.x=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:n(+e),c):r},c.y=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),o=null,c):i},c.y0=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),c):i},c.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:n(+e),c):o},c.lineX0=c.lineY0=function(){return f().x(e).y(i)},c.lineY1=function(){return f().x(e).y(o)},c.lineX1=function(){return f().x(r).y(i)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:n(!!e),c):a},c.curve=function(e){return arguments.length?(s=e,null!=u&&(l=s(u)),c):s},c.context=function(e){return arguments.length?(null==e?u=l=null:l=s(u=e),c):u},c}function O(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function M(e){return e}_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var D=T(E);function P(e){this._curve=e}function T(e){function t(t){return new P(e(t))}return t._curve=e,t}function F(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(T(e)):t()._curve},e}function N(){return F(S().curve(D))}function j(){var e=A().curve(D),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return F(n())},delete e.lineX0,e.lineEndAngle=function(){return F(r())},delete e.lineX1,e.lineInnerRadius=function(){return F(i())},delete e.lineY0,e.lineOuterRadius=function(){return F(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(T(e)):t()._curve},e}function R(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}P.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var B=Array.prototype.slice;function L(e){return e.source}function z(e){return e.target}function I(e){var r=L,i=z,o=k,a=C,u=null;function s(){var n,s=B.call(arguments),l=r.apply(this,s),c=i.apply(this,s);if(u||(u=n=t.path()),e(u,+o.apply(this,(s[0]=l,s)),+a.apply(this,s),+o.apply(this,(s[0]=c,s)),+a.apply(this,s)),n)return u=null,n+""||null}return s.source=function(e){return arguments.length?(r=e,s):r},s.target=function(e){return arguments.length?(i=e,s):i},s.x=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),s):o},s.y=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),s):a},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}function $(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function U(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function q(e,t,n,r,i){var o=R(t,n),a=R(t,n=(n+i)/2),u=R(r,n),s=R(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}var W={draw:function(e,t){var n=Math.sqrt(t/c);e.moveTo(n,0),e.arc(0,0,n,0,d)}},H={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V=Math.sqrt(1/3),G=2*V,Y={draw:function(e,t){var n=Math.sqrt(t/G),r=n*V;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},X=Math.sin(c/10)/Math.sin(7*c/10),K=Math.sin(d/10)*X,Q=-Math.cos(d/10)*X,J={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=K*n,i=Q*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=d*o/5,u=Math.cos(a),s=Math.sin(a);e.lineTo(s*n,-u*n),e.lineTo(u*r-s*i,s*r+u*i)}e.closePath()}},Z={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},ee=Math.sqrt(3),te={draw:function(e,t){var n=-Math.sqrt(t/(3*ee));e.moveTo(0,2*n),e.lineTo(-ee*n,-n),e.lineTo(ee*n,-n),e.closePath()}},ne=-.5,re=Math.sqrt(3)/2,ie=1/Math.sqrt(12),oe=3*(ie/2+1),ae={draw:function(e,t){var n=Math.sqrt(t/oe),r=n/2,i=n*ie,o=r,a=n*ie+n,u=-o,s=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(u,s),e.lineTo(ne*r-re*i,re*r+ne*i),e.lineTo(ne*o-re*a,re*o+ne*a),e.lineTo(ne*u-re*s,re*u+ne*s),e.lineTo(ne*r+re*i,ne*i-re*r),e.lineTo(ne*o+re*a,ne*a-re*o),e.lineTo(ne*u+re*s,ne*s-re*u),e.closePath()}},ue=[W,H,Y,Z,J,te,ae];function se(){}function le(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ce(e){this._context=e}function fe(e){this._context=e}function de(e){this._context=e}function pe(e,t){this._basis=new ce(e),this._beta=t}ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:le(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:le(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fe.prototype={areaStart:se,areaEnd:se,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:le(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},de.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:le(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,u=t[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*a),this._beta*t[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var he=function e(t){function n(e){return 1===t?new ce(e):new pe(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function me(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ge(e,t){this._context=e,this._k=(1-t)/6}ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:me(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ve=function e(t){function n(e){return new ge(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ye(e,t){this._context=e,this._k=(1-t)/6}ye.prototype={areaStart:se,areaEnd:se,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var be=function e(t){function n(e){return new ye(e,t)}return n.tension=function(t){return e(+t)},n}(0);function xe(e,t){this._context=e,this._k=(1-t)/6}xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var we=function e(t){function n(e){return new xe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function _e(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>1e-12){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Ee(e,t){this._context=e,this._alpha=t}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:_e(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ke=function e(t){function n(e){return t?new Ee(e,t):new ge(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ce(e,t){this._context=e,this._alpha=t}Ce.prototype={areaStart:se,areaEnd:se,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_e(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Se=function e(t){function n(e){return t?new Ce(e,t):new ye(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ae(e,t){this._context=e,this._alpha=t}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_e(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Oe=function e(t){function n(e){return t?new Ae(e,t):new xe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Me(e){this._context=e}function De(e){return e<0?-1:1}function Pe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(De(o)+De(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Te(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Fe(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,a-u*n,o,a)}function Ne(e){this._context=e}function je(e){this._context=new Re(e)}function Re(e){this._context=e}function Be(e){this._context=e}function Le(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function ze(e,t){this._context=e,this._t=t}function Ie(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],u=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function $e(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ue(e,t){return e[t]}function qe(e){var t=e.map(We);return $e(e).sort((function(e,n){return t[e]-t[n]}))}function We(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}function He(e){var t=e.map(Ve);return $e(e).sort((function(e,n){return t[e]-t[n]}))}function Ve(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}Me.prototype={areaStart:se,areaEnd:se,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fe(this,this._t0,Te(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fe(this,Te(this,n=Pe(this,e,t)),n);break;default:Fe(this,this._t0,n=Pe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(je.prototype=Object.create(Ne.prototype)).point=function(e,t){Ne.prototype.point.call(this,t,e)},Re.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Be.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Le(e),i=Le(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},e.arc=function(){var e=m,a=g,_=n(0),E=null,k=v,C=y,S=b,A=null;function O(){var n,m,g=+e.apply(this,arguments),v=+a.apply(this,arguments),y=k.apply(this,arguments)-f,b=C.apply(this,arguments)-f,O=r(b-y),M=b>y;if(A||(A=n=t.path()),v<g&&(m=v,v=g,g=m),v>1e-12)if(O>d-1e-12)A.moveTo(v*o(y),v*s(y)),A.arc(0,0,v,y,b,!M),g>1e-12&&(A.moveTo(g*o(b),g*s(b)),A.arc(0,0,g,b,y,M));else{var D,P,T=y,F=b,N=y,j=b,R=O,B=O,L=S.apply(this,arguments)/2,z=L>1e-12&&(E?+E.apply(this,arguments):l(g*g+v*v)),I=u(r(v-g)/2,+_.apply(this,arguments)),$=I,U=I;if(z>1e-12){var q=h(z/g*s(L)),W=h(z/v*s(L));(R-=2*q)>1e-12?(N+=q*=M?1:-1,j-=q):(R=0,N=j=(y+b)/2),(B-=2*W)>1e-12?(T+=W*=M?1:-1,F-=W):(B=0,T=F=(y+b)/2)}var H=v*o(T),V=v*s(T),G=g*o(j),Y=g*s(j);if(I>1e-12){var X,K=v*o(F),Q=v*s(F),J=g*o(N),Z=g*s(N);if(O<c&&(X=x(H,V,J,Z,K,Q,G,Y))){var ee=H-X[0],te=V-X[1],ne=K-X[0],re=Q-X[1],ie=1/s(p((ee*ne+te*re)/(l(ee*ee+te*te)*l(ne*ne+re*re)))/2),oe=l(X[0]*X[0]+X[1]*X[1]);$=u(I,(g-oe)/(ie-1)),U=u(I,(v-oe)/(ie+1))}}B>1e-12?U>1e-12?(D=w(J,Z,H,V,v,U,M),P=w(K,Q,G,Y,v,U,M),A.moveTo(D.cx+D.x01,D.cy+D.y01),U<I?A.arc(D.cx,D.cy,U,i(D.y01,D.x01),i(P.y01,P.x01),!M):(A.arc(D.cx,D.cy,U,i(D.y01,D.x01),i(D.y11,D.x11),!M),A.arc(0,0,v,i(D.cy+D.y11,D.cx+D.x11),i(P.cy+P.y11,P.cx+P.x11),!M),A.arc(P.cx,P.cy,U,i(P.y11,P.x11),i(P.y01,P.x01),!M))):(A.moveTo(H,V),A.arc(0,0,v,T,F,!M)):A.moveTo(H,V),g>1e-12&&R>1e-12?$>1e-12?(D=w(G,Y,K,Q,g,-$,M),P=w(H,V,J,Z,g,-$,M),A.lineTo(D.cx+D.x01,D.cy+D.y01),$<I?A.arc(D.cx,D.cy,$,i(D.y01,D.x01),i(P.y01,P.x01),!M):(A.arc(D.cx,D.cy,$,i(D.y01,D.x01),i(D.y11,D.x11),!M),A.arc(0,0,g,i(D.cy+D.y11,D.cx+D.x11),i(P.cy+P.y11,P.cx+P.x11),M),A.arc(P.cx,P.cy,$,i(P.y11,P.x11),i(P.y01,P.x01),!M))):A.arc(0,0,g,j,N,M):A.lineTo(G,Y)}else A.moveTo(0,0);if(A.closePath(),n)return A=null,n+""||null}return O.centroid=function(){var t=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,n=(+k.apply(this,arguments)+ +C.apply(this,arguments))/2-c/2;return[o(n)*t,s(n)*t]},O.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),O):e},O.outerRadius=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),O):a},O.cornerRadius=function(e){return arguments.length?(_="function"==typeof e?e:n(+e),O):_},O.padRadius=function(e){return arguments.length?(E=null==e?null:"function"==typeof e?e:n(+e),O):E},O.startAngle=function(e){return arguments.length?(k="function"==typeof e?e:n(+e),O):k},O.endAngle=function(e){return arguments.length?(C="function"==typeof e?e:n(+e),O):C},O.padAngle=function(e){return arguments.length?(S="function"==typeof e?e:n(+e),O):S},O.context=function(e){return arguments.length?(A=null==e?null:e,O):A},O},e.area=A,e.areaRadial=j,e.curveBasis=function(e){return new ce(e)},e.curveBasisClosed=function(e){return new fe(e)},e.curveBasisOpen=function(e){return new de(e)},e.curveBundle=he,e.curveCardinal=ve,e.curveCardinalClosed=be,e.curveCardinalOpen=we,e.curveCatmullRom=ke,e.curveCatmullRomClosed=Se,e.curveCatmullRomOpen=Oe,e.curveLinear=E,e.curveLinearClosed=function(e){return new Me(e)},e.curveMonotoneX=function(e){return new Ne(e)},e.curveMonotoneY=function(e){return new je(e)},e.curveNatural=function(e){return new Be(e)},e.curveStep=function(e){return new ze(e,.5)},e.curveStepAfter=function(e){return new ze(e,1)},e.curveStepBefore=function(e){return new ze(e,0)},e.line=S,e.lineRadial=N,e.linkHorizontal=function(){return I($)},e.linkRadial=function(){var e=I(q);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},e.linkVertical=function(){return I(U)},e.pie=function(){var e=M,t=O,r=null,i=n(0),o=n(d),a=n(0);function u(n){var u,s,l,c,f,p=n.length,h=0,m=new Array(p),g=new Array(p),v=+i.apply(this,arguments),y=Math.min(d,Math.max(-d,o.apply(this,arguments)-v)),b=Math.min(Math.abs(y)/p,a.apply(this,arguments)),x=b*(y<0?-1:1);for(u=0;u<p;++u)(f=g[m[u]=u]=+e(n[u],u,n))>0&&(h+=f);for(null!=t?m.sort((function(e,n){return t(g[e],g[n])})):null!=r&&m.sort((function(e,t){return r(n[e],n[t])})),u=0,l=h?(y-p*x)/h:0;u<p;++u,v=c)s=m[u],c=v+((f=g[s])>0?f*l:0)+x,g[s]={data:n[s],index:u,value:f,startAngle:v,endAngle:c,padAngle:b};return g}return u.value=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),u):e},u.sortValues=function(e){return arguments.length?(t=e,r=null,u):t},u.sort=function(e){return arguments.length?(r=e,t=null,u):r},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),u):i},u.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),u):o},u.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),u):a},u},e.pointRadial=R,e.radialArea=j,e.radialLine=N,e.stack=function(){var e=n([]),t=$e,r=Ie,i=Ue;function o(n){var o,a,u=e.apply(this,arguments),s=n.length,l=u.length,c=new Array(l);for(o=0;o<l;++o){for(var f,d=u[o],p=c[o]=new Array(s),h=0;h<s;++h)p[h]=f=[0,+i(n[h],d,h,n)],f.data=n[h];p.key=d}for(o=0,a=t(c);o<l;++o)c[a[o]].index=o;return r(c,a),c}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:n(B.call(t)),o):e},o.value=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),o):i},o.order=function(e){return arguments.length?(t=null==e?$e:"function"==typeof e?e:n(B.call(e)),o):t},o.offset=function(e){return arguments.length?(r=null==e?Ie:e,o):r},o},e.stackOffsetDiverging=function(e,t){if((u=e.length)>0)for(var n,r,i,o,a,u,s=0,l=e[t[0]].length;s<l;++s)for(o=a=0,n=0;n<u;++n)(i=(r=e[t[n]][s])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},e.stackOffsetExpand=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Ie(e,t)}},e.stackOffsetNone=Ie,e.stackOffsetSilhouette=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=e[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Ie(e,t)}},e.stackOffsetWiggle=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,l=0;u<i;++u){for(var c=e[t[u]],f=c[a][1]||0,d=(f-(c[a-1][1]||0))/2,p=0;p<u;++p){var h=e[t[p]];d+=(h[a][1]||0)-(h[a-1][1]||0)}s+=f,l+=d*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=l/s)}n[a-1][1]+=n[a-1][0]=o,Ie(e,t)}},e.stackOrderAppearance=qe,e.stackOrderAscending=He,e.stackOrderDescending=function(e){return He(e).reverse()},e.stackOrderInsideOut=function(e){var t,n,r=e.length,i=e.map(Ve),o=qe(e),a=0,u=0,s=[],l=[];for(t=0;t<r;++t)n=o[t],a<u?(a+=i[n],s.push(n)):(u+=i[n],l.push(n));return l.reverse().concat(s)},e.stackOrderNone=$e,e.stackOrderReverse=function(e){return $e(e).reverse()},e.symbol=function(){var e=n(W),r=n(64),i=null;function o(){var n;if(i||(i=n=t.path()),e.apply(this,arguments).draw(i,+r.apply(this,arguments)),n)return i=null,n+""||null}return o.type=function(t){return arguments.length?(e="function"==typeof t?t:n(t),o):e},o.size=function(e){return arguments.length?(r="function"==typeof e?e:n(+e),o):r},o.context=function(e){return arguments.length?(i=null==e?null:e,o):i},o},e.symbolCircle=W,e.symbolCross=H,e.symbolDiamond=Y,e.symbolSquare=Z,e.symbolStar=J,e.symbolTriangle=te,e.symbolWye=ae,e.symbols=ue,Object.defineProperty(e,"__esModule",{value:!0})}(t,Jx)}));t(Zx);var ew=n((function(e,t){!function(e){function t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function r(){}var i="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),l=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),c=new RegExp("^rgba\\("+[i,i,i,o]+"\\)$"),f=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),d=new RegExp("^hsl\\("+[o,a,a]+"\\)$"),p=new RegExp("^hsla\\("+[o,a,a,o]+"\\)$"),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function v(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?y(t):3===n?new _(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?b(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=s.exec(e))?new _(t[1],t[2],t[3],1):(t=l.exec(e))?new _(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=c.exec(e))?b(t[1],t[2],t[3],t[4]):(t=f.exec(e))?b(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=d.exec(e))?S(t[1],t[2]/100,t[3]/100,1):(t=p.exec(e))?S(t[1],t[2]/100,t[3]/100,t[4]):h.hasOwnProperty(e)?y(h[e]):"transparent"===e?new _(NaN,NaN,NaN,0):null}function y(e){return new _(e>>16&255,e>>8&255,255&e,1)}function b(e,t,n,r){return r<=0&&(e=t=n=NaN),new _(e,t,n,r)}function x(e){return e instanceof r||(e=v(e)),e?new _((e=e.rgb()).r,e.g,e.b,e.opacity):new _}function w(e,t,n,r){return 1===arguments.length?x(e):new _(e,t,n,null==r?1:r)}function _(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(){return"#"+C(this.r)+C(this.g)+C(this.b)}function k(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function C(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function S(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new M(e,t,n,r)}function A(e){if(e instanceof M)return new M(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=v(e)),!e)return new M;if(e instanceof M)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),u=NaN,s=a-o,l=(a+o)/2;return s?(u=t===a?(n-i)/s+6*(n<i):n===a?(i-t)/s+2:(t-n)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new M(u,s,l,e.opacity)}function O(e,t,n,r){return 1===arguments.length?A(e):new M(e,t,n,null==r?1:r)}function M(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function D(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t(r,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return A(this).formatHsl()},formatRgb:g,toString:g}),t(_,w,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E,formatHex:E,formatRgb:k,toString:k})),t(M,O,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new M(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new M(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _(D(e>=240?e-240:e+120,i,r),D(e,i,r),D(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var P=Math.PI/180,T=180/Math.PI,F=6/29,N=3*F*F;function j(e){if(e instanceof B)return new B(e.l,e.a,e.b,e.opacity);if(e instanceof W)return H(e);e instanceof _||(e=x(e));var t,n,r=$(e.r),i=$(e.g),o=$(e.b),a=L((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?t=n=a:(t=L((.4360747*r+.3850649*i+.1430804*o)/.96422),n=L((.0139322*r+.0971045*i+.7141733*o)/.82521)),new B(116*a-16,500*(t-a),200*(a-n),e.opacity)}function R(e,t,n,r){return 1===arguments.length?j(e):new B(e,t,n,null==r?1:r)}function B(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function L(e){return e>.008856451679035631?Math.pow(e,1/3):e/N+4/29}function z(e){return e>F?e*e*e:N*(e-4/29)}function I(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function U(e){if(e instanceof W)return new W(e.h,e.c,e.l,e.opacity);if(e instanceof B||(e=j(e)),0===e.a&&0===e.b)return new W(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*T;return new W(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function q(e,t,n,r){return 1===arguments.length?U(e):new W(e,t,n,null==r?1:r)}function W(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function H(e){if(isNaN(e.h))return new B(e.l,0,0,e.opacity);var t=e.h*P;return new B(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}t(B,R,n(r,{brighter:function(e){return new B(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new B(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new _(I(3.1338561*(t=.96422*z(t))-1.6168667*(e=1*z(e))-.4906146*(n=.82521*z(n))),I(-.9787684*t+1.9161415*e+.033454*n),I(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),t(W,q,n(r,{brighter:function(e){return new W(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new W(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return H(this).rgb()}}));var V=-.14861,G=1.78277,Y=-.29227,X=-.90649,K=1.97294,Q=K*X,J=K*G,Z=G*Y-X*V;function ee(e){if(e instanceof ne)return new ne(e.h,e.s,e.l,e.opacity);e instanceof _||(e=x(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Z*r+Q*t-J*n)/(Z+Q-J),o=r-i,a=(K*(n-i)-Y*o)/X,u=Math.sqrt(a*a+o*o)/(K*i*(1-i)),s=u?Math.atan2(a,o)*T-120:NaN;return new ne(s<0?s+360:s,u,i,e.opacity)}function te(e,t,n,r){return 1===arguments.length?ee(e):new ne(e,t,n,null==r?1:r)}function ne(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t(ne,te,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ne(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*P,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _(255*(t+n*(V*r+G*i)),255*(t+n*(Y*r+X*i)),255*(t+n*(K*r)),this.opacity)}})),e.color=v,e.cubehelix=te,e.gray=function(e,t){return new B(e,0,0,null==t?1:t)},e.hcl=q,e.hsl=O,e.lab=R,e.lch=function(e,t,n,r){return 1===arguments.length?U(e):new W(n,t,e,null==r?1:r)},e.rgb=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(ew);var tw=n((function(e,t){!function(e,t){function n(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function r(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[i],a=e[i+1],u=i>0?e[i-1]:2*o-a,s=i<t-1?e[i+2]:2*a-o;return n((r-i/t)*t,u,o,a,s)}}function i(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),o=e[(i+t-1)%t],a=e[i%t],u=e[(i+1)%t],s=e[(i+2)%t];return n((r-i/t)*t,o,a,u,s)}}function o(e){return function(){return e}}function a(e,t){return function(n){return e+n*t}}function u(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(e)?t:e)}function s(e){return 1==(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):o(isNaN(t)?n:t)}}function l(e,t){var n=t-e;return n?a(e,n):o(isNaN(e)?t:e)}var c=function e(n){var r=s(n);function i(e,n){var i=r((e=t.rgb(e)).r,(n=t.rgb(n)).r),o=r(e.g,n.g),a=r(e.b,n.b),u=l(e.opacity,n.opacity);return function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e.opacity=u(t),e+""}}return i.gamma=e,i}(1);function f(e){return function(n){var r,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(r=0;r<o;++r)i=t.rgb(n[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=e(a),u=e(u),s=e(s),i.opacity=1,function(e){return i.r=a(e),i.g=u(e),i.b=s(e),i+""}}}var d=f(r),p=f(i);function h(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function m(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function g(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=E(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function v(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function y(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function b(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=E(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(x.source,"g");function _(e,t){var n,r,i,o=x.lastIndex=w.lastIndex=0,a=-1,u=[],s=[];for(e+="",t+="";(n=x.exec(e))&&(r=w.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:y(n,r)})),o=w.lastIndex;return o<t.length&&(i=t.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function E(e,n){var r,i=typeof n;return null==n||"boolean"===i?o(n):("number"===i?y:"string"===i?(r=t.color(n))?(n=r,c):_:n instanceof t.color?c:n instanceof Date?v:m(n)?h:Array.isArray(n)?g:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?b:y)(e,n)}var k,C,S,A,O=180/Math.PI,M={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D(e,t,n,r,i,o){var a,u,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*O,skewX:Math.atan(s)*O,scaleX:a,scaleY:u}}function P(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var u=[],s=[];return o=e(o),a=e(a),function(e,r,i,o,a,u){if(e!==i||r!==o){var s=a.push("translate(",null,t,null,n);u.push({i:s-4,x:y(e,i)},{i:s-2,x:y(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:y(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,u,s),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:y(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,u,s),function(e,t,n,r,o,a){if(e!==n||t!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:y(e,n)},{i:u-2,x:y(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var T=P((function(e){return"none"===e?M:(k||(k=document.createElement("DIV"),C=document.documentElement,S=document.defaultView),k.style.transform=e,e=S.getComputedStyle(C.appendChild(k),null).getPropertyValue("transform"),C.removeChild(k),D(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),F=P((function(e){return null==e?M:(A||(A=document.createElementNS("http://www.w3.org/2000/svg","g")),A.setAttribute("transform",e),(e=A.transform.baseVal.consolidate())?D((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):M)}),", ",")",")"),N=Math.SQRT2;function j(e){return((e=Math.exp(e))+1/e)/2}function R(e){return function(n,r){var i=e((n=t.hsl(n)).h,(r=t.hsl(r)).h),o=l(n.s,r.s),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(e){return n.h=i(e),n.s=o(e),n.l=a(e),n.opacity=u(e),n+""}}}var B=R(u),L=R(l);function z(e){return function(n,r){var i=e((n=t.hcl(n)).h,(r=t.hcl(r)).h),o=l(n.c,r.c),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(e){return n.h=i(e),n.c=o(e),n.l=a(e),n.opacity=u(e),n+""}}}var I=z(u),$=z(l);function U(e){return function n(r){function i(n,i){var o=e((n=t.cubehelix(n)).h,(i=t.cubehelix(i)).h),a=l(n.s,i.s),u=l(n.l,i.l),s=l(n.opacity,i.opacity);return function(e){return n.h=o(e),n.s=a(e),n.l=u(Math.pow(e,r)),n.opacity=s(e),n+""}}return r=+r,i.gamma=n,i}(1)}var q=U(u),W=U(l);e.interpolate=E,e.interpolateArray=function(e,t){return(m(t)?h:g)(e,t)},e.interpolateBasis=r,e.interpolateBasisClosed=i,e.interpolateCubehelix=q,e.interpolateCubehelixLong=W,e.interpolateDate=v,e.interpolateDiscrete=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},e.interpolateHcl=I,e.interpolateHclLong=$,e.interpolateHsl=B,e.interpolateHslLong=L,e.interpolateHue=function(e,t){var n=u(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},e.interpolateLab=function(e,n){var r=l((e=t.lab(e)).l,(n=t.lab(n)).l),i=l(e.a,n.a),o=l(e.b,n.b),a=l(e.opacity,n.opacity);return function(t){return e.l=r(t),e.a=i(t),e.b=o(t),e.opacity=a(t),e+""}},e.interpolateNumber=y,e.interpolateNumberArray=h,e.interpolateObject=b,e.interpolateRgb=c,e.interpolateRgbBasis=d,e.interpolateRgbBasisClosed=p,e.interpolateRound=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},e.interpolateString=_,e.interpolateTransformCss=T,e.interpolateTransformSvg=F,e.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],u=t[0],s=t[1],l=t[2],c=u-i,f=s-o,d=c*c+f*f;if(d<1e-12)r=Math.log(l/a)/N,n=function(e){return[i+e*c,o+e*f,a*Math.exp(N*e*r)]};else{var p=Math.sqrt(d),h=(l*l-a*a+4*d)/(2*a*2*p),m=(l*l-a*a-4*d)/(2*l*2*p),g=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/N,n=function(e){var t=e*r,n=j(g),u=a/(2*p)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(N*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+u*c,o+u*f,a*n/j(N*t+g)]}}return n.duration=1e3*r,n},e.piecewise=function(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}},e.quantize=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},Object.defineProperty(e,"__esModule",{value:!0})}(t,ew)}));t(tw);var nw=n((function(e,t){!function(e){function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return(e=t(Math.abs(e)))?e[1]:NaN}var r,i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function u(e,n){var r=t(e,n);if(!r)return e+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}o.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return u(100*e,t)},r:u,s:function(e,n){var i=t(e,n);if(!i)return e+"";var o=i[0],a=i[1],u=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=o.length;return u===s?o:u>s?o+new Array(u-s+1).join("0"):u>0?o.slice(0,u)+"."+o.slice(u):"0."+new Array(1-u).join("0")+t(e,Math.max(0,n+u-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function l(e){return e}var c,f=Array.prototype.map,d=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p(e){var t,i,a=void 0===e.grouping||void 0===e.thousands?l:(t=f.call(e.grouping,Number),i=e.thousands+"",function(e,n){for(var r=e.length,o=[],a=0,u=t[0],s=0;r>0&&u>0&&(s+u+1>n&&(u=Math.max(1,n-s)),o.push(e.substring(r-=u,r+u)),!((s+=u+1)>n));)u=t[a=(a+1)%t.length];return o.reverse().join(i)}),u=void 0===e.currency?"":e.currency[0]+"",c=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?l:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(f.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"-":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=o(e)).fill,n=e.align,i=e.sign,l=e.symbol,f=e.zero,y=e.width,b=e.comma,x=e.precision,w=e.trim,_=e.type;"n"===_?(b=!0,_="g"):s[_]||(void 0===x&&(x=12),w=!0,_="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var E="$"===l?u:"#"===l&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k="$"===l?c:/[%p]/.test(_)?m:"",C=s[_],S=/[defgprs%]/.test(_);function A(e){var o,u,s,l=E,c=k;if("c"===_)c=C(e)+c,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:C(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),m&&0==+e&&"+"!==i&&(m=!1),l=(m?"("===i?i:g:"-"===i||"("===i?"":i)+l,c=("s"===_?d[8+r/3]:"")+c+(m&&"("===i?")":""),S)for(o=-1,u=e.length;++o<u;)if(48>(s=e.charCodeAt(o))||s>57){c=(46===s?p+e.slice(o+1):e.slice(o))+c,e=e.slice(0,o);break}}b&&!f&&(e=a(e,1/0));var A=l.length+e.length+c.length,O=A<y?new Array(y-A+1).join(t):"";switch(b&&f&&(e=a(O+e,O.length?y-c.length:1/0),O=""),n){case"<":e=l+e+c+O;break;case"=":e=l+O+e+c;break;case"^":e=O.slice(0,A=O.length>>1)+l+e+c+O.slice(A);break;default:e=O+l+e+c}return h(e)}return x=void 0===x?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),A.toString=function(){return e+""},A}return{format:y,formatPrefix:function(e,t){var r=y(((e=o(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(n(t)/3))),a=Math.pow(10,-i),u=d[8+i/3];return function(e){return r(a*e)+u}}}}function h(t){return c=p(t),e.format=c.format,e.formatPrefix=c.formatPrefix,c}h({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),e.FormatSpecifier=a,e.formatDefaultLocale=h,e.formatLocale=p,e.formatSpecifier=o,e.precisionFixed=function(e){return Math.max(0,-n(Math.abs(e)))},e.precisionPrefix=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))},e.precisionRound=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n(t)-n(e))+1},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(nw);var rw=nw.format,iw=n((function(e,t){!function(e,t,n,r,i,o){function a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function u(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const s=Symbol("implicit");function l(){var e=new Map,t=[],n=[],r=s;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==s)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return l(t,n).unknown(r)},a.apply(i,arguments),i}function c(){var e,n,r=l().unknown(void 0),i=r.domain,o=r.range,u=0,s=1,f=!1,d=0,p=0,h=.5;function m(){var r=i().length,a=s<u,l=a?s:u,c=a?u:s;e=(c-l)/Math.max(1,r-d+2*p),f&&(e=Math.floor(e)),l+=(c-l-e*(r-d))*h,n=e*(1-d),f&&(l=Math.round(l),n=Math.round(n));var m=t.range(r).map((function(t){return l+e*t}));return o(a?m.reverse():m)}return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),m()):i()},r.range=function(e){return arguments.length?([u,s]=e,u=+u,s=+s,m()):[u,s]},r.rangeRound=function(e){return[u,s]=e,u=+u,s=+s,f=!0,m()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(f=!!e,m()):f},r.padding=function(e){return arguments.length?(d=Math.min(1,p=+e),m()):d},r.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),m()):d},r.paddingOuter=function(e){return arguments.length?(p=+e,m()):p},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),m()):h},r.copy=function(){return c(i(),[u,s]).round(f).paddingInner(d).paddingOuter(p).align(h)},a.apply(m(),arguments)}function f(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return f(t())},e}function d(e){return+e}var p=[0,1];function h(e){return e}function m(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function g(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=m(i,r),o=n(a,o)):(r=m(r,i),o=n(o,a)),function(e){return o(r(e))}}function v(e,n,r){var i=Math.min(e.length,n.length)-1,o=new Array(i),a=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++u<i;)o[u]=m(e[u],e[u+1]),a[u]=r(n[u],n[u+1]);return function(n){var r=t.bisect(e,n,1,i)-1;return a[r](o[r](n))}}function y(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function b(){var e,t,r,i,o,a,u=p,s=p,l=n.interpolate,c=h;function f(){var e=Math.min(u.length,s.length);return c!==h&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(u[0],u[e-1])),i=e>2?v:g,o=a=null,m}function m(t){return isNaN(t=+t)?r:(o||(o=i(u.map(e),s,l)))(e(c(t)))}return m.invert=function(r){return c(t((a||(a=i(s,u.map(e),n.interpolateNumber)))(r)))},m.domain=function(e){return arguments.length?(u=Array.from(e,d),f()):u.slice()},m.range=function(e){return arguments.length?(s=Array.from(e),f()):s.slice()},m.rangeRound=function(e){return s=Array.from(e),l=n.interpolateRound,f()},m.clamp=function(e){return arguments.length?(c=!!e||h,f()):c!==h},m.interpolate=function(e){return arguments.length?(l=e,f()):l},m.unknown=function(e){return arguments.length?(r=e,m):r},function(n,r){return e=n,t=r,f()}}function x(){return b()(h,h)}function w(e,n,i,o){var a,u=t.tickStep(e,n,i);switch((o=r.formatSpecifier(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(n));return null!=o.precision||isNaN(a=r.precisionPrefix(u,s))||(o.precision=a),r.formatPrefix(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(a=r.precisionRound(u,Math.max(Math.abs(e),Math.abs(n))))||(o.precision=a-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(a=r.precisionFixed(u))||(o.precision=a-2*("%"===o.type))}return r.format(o)}function _(e){var n=e.domain;return e.ticks=function(e){var r=n();return t.ticks(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,t){var r=n();return w(r[0],r[r.length-1],null==e?10:e,t)},e.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u];return l<s&&(i=s,s=l,l=i,i=a,a=u,u=i),(i=t.tickIncrement(s,l,r))>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=t.tickIncrement(s,l,r)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=t.tickIncrement(s,l,r)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(l/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(l*i)/i,n(o)),e},e}function E(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function k(e){return Math.log(e)}function C(e){return Math.exp(e)}function S(e){return-Math.log(-e)}function A(e){return-Math.exp(-e)}function O(e){return isFinite(e)?+("1e"+e):e<0?0:e}function M(e){return function(t){return-e(-t)}}function D(e){var n,i,o=e(k,C),a=o.domain,u=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(u),i=function(e){return 10===e?O:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(u),a()[0]<0?(n=M(n),i=M(i),e(S,A)):e(k,C),o}return o.base=function(e){return arguments.length?(u=+e,s()):u},o.domain=function(e){return arguments.length?(a(e),s()):a()},o.ticks=function(e){var r,o=a(),s=o[0],l=o[o.length-1];(r=l<s)&&(p=s,s=l,l=p);var c,f,d,p=n(s),h=n(l),m=null==e?10:+e,g=[];if(!(u%1)&&h-p<m){if(p=Math.floor(p),h=Math.ceil(h),s>0){for(;p<=h;++p)for(f=1,c=i(p);f<u;++f)if(!((d=c*f)<s)){if(d>l)break;g.push(d)}}else for(;p<=h;++p)for(f=u-1,c=i(p);f>=1;--f)if(!((d=c*f)<s)){if(d>l)break;g.push(d)}2*g.length<m&&(g=t.ticks(s,l,m))}else g=t.ticks(p,h,Math.min(h-p,m)).map(i);return r?g.reverse():g},o.tickFormat=function(e,t){if(null==t&&(t=10===u?".0e":","),"function"!=typeof t&&(t=r.format(t)),e===1/0)return t;null==e&&(e=10);var a=Math.max(1,u*e/o.ticks().length);return function(e){var r=e/i(Math.round(n(e)));return r*u<u-.5&&(r*=u),r<=a?t(e):""}},o.nice=function(){return a(E(a(),{floor:function(e){return i(Math.floor(n(e)))},ceil:function(e){return i(Math.ceil(n(e)))}}))},o}function P(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F(e){var t=1,n=e(P(t),T(t));return n.constant=function(n){return arguments.length?e(P(t=+n),T(t)):t},_(n)}function N(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function R(e){return e<0?-e*e:e*e}function B(e){var t=e(h,h),n=1;function r(){return 1===n?e(h,h):.5===n?e(j,R):e(N(n),N(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},_(t)}function L(){var e=B(b());return e.copy=function(){return y(e,L()).exponent(e.exponent())},a.apply(e,arguments),e}function z(e){return Math.sign(e)*e*e}function I(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $(e){return new Date(e)}function U(e){return e instanceof Date?+e:+new Date(+e)}function q(e,n,r,i,o,a,u,s,l){var c=x(),f=c.invert,d=c.domain,p=l(".%L"),h=l(":%S"),m=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),b=l("%b %d"),w=l("%B"),_=l("%Y"),k=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[e,1,31536e6]];function C(t){return(u(t)<t?p:a(t)<t?h:o(t)<t?m:i(t)<t?g:n(t)<t?r(t)<t?v:b:e(t)<t?w:_)(t)}function S(n,r,i){if(null==n&&(n=10),"number"==typeof n){var o,a=Math.abs(i-r)/n,u=t.bisector((function(e){return e[2]})).right(k,a);return u===k.length?(o=t.tickStep(r/31536e6,i/31536e6,n),n=e):u?(o=(u=k[a/k[u-1][2]<k[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(t.tickStep(r,i,n),1),n=s),n.every(o)}return n}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?d(Array.from(e,U)):d().map($)},c.ticks=function(e){var t,n=d(),r=n[0],i=n[n.length-1],o=i<r;return o&&(t=r,r=i,i=t),t=(t=S(e,r,i))?t.range(r,i+1):[],o?t.reverse():t},c.tickFormat=function(e,t){return null==t?C:l(t)},c.nice=function(e){var t=d();return(e=S(e,t[0],t[t.length-1]))?d(E(t,e)):c},c.copy=function(){return y(c,q(e,n,r,i,o,a,u,s,l))},c}function W(){var e,t,r,i,o,a=0,u=1,s=h,l=!1;function c(t){return isNaN(t=+t)?o:s(0===r?.5:(t=(i(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function f(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(n){return arguments.length?([a,u]=n,e=i(a=+a),t=i(u=+u),r=e===t?0:1/(t-e),c):[a,u]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=f(n.interpolate),c.rangeRound=f(n.interpolateRound),c.unknown=function(e){return arguments.length?(o=e,c):o},function(n){return i=n,e=n(a),t=n(u),r=e===t?0:1/(t-e),c}}function H(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function V(){var e=B(W());return e.copy=function(){return H(e,V()).exponent(e.exponent())},u.apply(e,arguments)}function G(){var e,t,r,i,o,a,u,s=0,l=.5,c=1,f=1,d=h,p=!1;function m(e){return isNaN(e=+e)?u:(e=.5+((e=+a(e))-t)*(f*e<f*t?i:o),d(p?Math.max(0,Math.min(1,e)):e))}function g(e){return function(t){var r,i,o;return arguments.length?([r,i,o]=t,d=n.piecewise(e,[r,i,o]),m):[d(0),d(.5),d(1)]}}return m.domain=function(n){return arguments.length?([s,l,c]=n,e=a(s=+s),t=a(l=+l),r=a(c=+c),i=e===t?0:.5/(t-e),o=t===r?0:.5/(r-t),f=t<e?-1:1,m):[s,l,c]},m.clamp=function(e){return arguments.length?(p=!!e,m):p},m.interpolator=function(e){return arguments.length?(d=e,m):d},m.range=g(n.interpolate),m.rangeRound=g(n.interpolateRound),m.unknown=function(e){return arguments.length?(u=e,m):u},function(n){return a=n,e=n(s),t=n(l),r=n(c),i=e===t?0:.5/(t-e),o=t===r?0:.5/(r-t),f=t<e?-1:1,m}}function Y(){var e=B(G());return e.copy=function(){return H(e,Y()).exponent(e.exponent())},u.apply(e,arguments)}e.scaleBand=c,e.scaleDiverging=function e(){var t=_(G()(h));return t.copy=function(){return H(t,e())},u.apply(t,arguments)},e.scaleDivergingLog=function e(){var t=D(G()).domain([.1,1,10]);return t.copy=function(){return H(t,e()).base(t.base())},u.apply(t,arguments)},e.scaleDivergingPow=Y,e.scaleDivergingSqrt=function(){return Y.apply(null,arguments).exponent(.5)},e.scaleDivergingSymlog=function e(){var t=F(G());return t.copy=function(){return H(t,e()).constant(t.constant())},u.apply(t,arguments)},e.scaleIdentity=function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,d),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,d):[0,1],_(r)},e.scaleImplicit=s,e.scaleLinear=function e(){var t=x();return t.copy=function(){return y(t,e())},a.apply(t,arguments),_(t)},e.scaleLog=function e(){var t=D(b()).domain([1,10]);return t.copy=function(){return y(t,e()).base(t.base())},a.apply(t,arguments),t},e.scaleOrdinal=l,e.scalePoint=function(){return f(c.apply(null,arguments).paddingInner(1))},e.scalePow=L,e.scaleQuantile=function e(){var n,r=[],i=[],o=[];function u(){var e=0,n=Math.max(1,i.length);for(o=new Array(n-1);++e<n;)o[e-1]=t.quantile(r,e/n);return s}function s(e){return isNaN(e=+e)?n:i[t.bisect(o,e)]}return s.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?o[t-1]:r[0],t<o.length?o[t]:r[r.length-1]]},s.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(t.ascending),u()},s.range=function(e){return arguments.length?(i=Array.from(e),u()):i.slice()},s.unknown=function(e){return arguments.length?(n=e,s):n},s.quantiles=function(){return o.slice()},s.copy=function(){return e().domain(r).range(i).unknown(n)},a.apply(s,arguments)},e.scaleQuantize=function e(){var n,r=0,i=1,o=1,u=[.5],s=[0,1];function l(e){return e<=e?s[t.bisect(u,e,0,o)]:n}function c(){var e=-1;for(u=new Array(o);++e<o;)u[e]=((e+1)*i-(e-o)*r)/(o+1);return l}return l.domain=function(e){return arguments.length?([r,i]=e,r=+r,i=+i,c()):[r,i]},l.range=function(e){return arguments.length?(o=(s=Array.from(e)).length-1,c()):s.slice()},l.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,u[0]]:t>=o?[u[o-1],i]:[u[t-1],u[t]]},l.unknown=function(e){return arguments.length?(n=e,l):l},l.thresholds=function(){return u.slice()},l.copy=function(){return e().domain([r,i]).range(s).unknown(n)},a.apply(_(l),arguments)},e.scaleRadial=function e(){var t,n=x(),r=[0,1],i=!1;function o(e){var r=I(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(z(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,d)).map(z)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},a.apply(o,arguments),_(o)},e.scaleSequential=function e(){var t=_(W()(h));return t.copy=function(){return H(t,e())},u.apply(t,arguments)},e.scaleSequentialLog=function e(){var t=D(W()).domain([1,10]);return t.copy=function(){return H(t,e()).base(t.base())},u.apply(t,arguments)},e.scaleSequentialPow=V,e.scaleSequentialQuantile=function e(){var n=[],r=h;function i(e){if(!isNaN(e=+e))return r((t.bisect(n,e,1)-1)/(n.length-1))}return i.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(t.ascending),i},i.interpolator=function(e){return arguments.length?(r=e,i):r},i.range=function(){return n.map((e,t)=>r(t/(n.length-1)))},i.quantiles=function(e){return Array.from({length:e+1},(r,i)=>t.quantile(n,i/e))},i.copy=function(){return e(r).domain(n)},u.apply(i,arguments)},e.scaleSequentialSqrt=function(){return V.apply(null,arguments).exponent(.5)},e.scaleSequentialSymlog=function e(){var t=F(W());return t.copy=function(){return H(t,e()).constant(t.constant())},u.apply(t,arguments)},e.scaleSqrt=function(){return L.apply(null,arguments).exponent(.5)},e.scaleSymlog=function e(){var t=F(b());return t.copy=function(){return y(t,e()).constant(t.constant())},a.apply(t,arguments)},e.scaleThreshold=function e(){var n,r=[.5],i=[0,1],o=1;function u(e){return e<=e?i[t.bisect(r,e,0,o)]:n}return u.domain=function(e){return arguments.length?(r=Array.from(e),o=Math.min(r.length,i.length-1),u):r.slice()},u.range=function(e){return arguments.length?(i=Array.from(e),o=Math.min(r.length,i.length-1),u):i.slice()},u.invertExtent=function(e){var t=i.indexOf(e);return[r[t-1],r[t]]},u.unknown=function(e){return arguments.length?(n=e,u):n},u.copy=function(){return e().domain(r).range(i).unknown(n)},a.apply(u,arguments)},e.scaleTime=function(){return a.apply(q(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},e.scaleUtc=function(){return a.apply(q(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},e.tickFormat=w,Object.defineProperty(e,"__esModule",{value:!0})}(t,Gx,tw,nw,qx,Wx)}));t(iw);var ow=n((function(e,t){!function(e,t,n,r,i,o,a){function u(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}const s="log",l="time",c="utc",f="continuous";function d(){var e,t,i=r.scaleOrdinal().unknown(void 0),o=i.domain,a=i.range,s=[0,1],l=!1,c=0,f=0,p=.5;function h(){var r=o().length,i=s[1]<s[0],d=s[i-0],h=s[1-i],m=u(r,c,f);e=(h-d)/(m||1),l&&(e=Math.floor(e)),d+=(h-d-e*(r-c))*p,t=e*(1-c),l&&(d=Math.round(d),t=Math.round(t));var g=n.range(r).map((function(t){return d+e*t}));return a(i?g.reverse():g)}return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),h()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],h()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],l=!0,h()},i.bandwidth=function(){return t},i.step=function(){return e},i.round=function(e){return arguments.length?(l=!!e,h()):l},i.padding=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),c=f,h()):c},i.paddingInner=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},i.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),h()):p},i.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var r,i,u,l=+e[0],c=+e[1],f=s[1]<s[0],d=f?a().reverse():a(),p=d.length-1;if(l==l&&c==c&&(c<l&&(u=l,l=c,c=u),!(c<d[0]||l>s[1-f])))return r=Math.max(0,n.bisectRight(d,l)-1),i=l===c?r:n.bisectRight(d,c)-1,l-d[r]>t+1e-10&&++r,f&&(u=r,r=p-i,i=p-u),r>i?void 0:o().slice(r,i+1)}},i.invert=function(e){var t=i.invertRange([e,e]);return t?t[0]:t},i.copy=function(){return d().domain(o()).range(s).round(l).paddingInner(c).paddingOuter(f).align(p)},h()}var p=Array.prototype.map;function h(e){return p.call(e,(function(e){return+e}))}var m=Array.prototype.slice;const g={};function v(e,n,r){const i=function(){var t=n();return t.invertRange||(t.invertRange=t.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(t):t.invertExtent?function(e){return function(t){var n,r,i,o,a=e.range(),u=t[0],s=t[1],l=-1;for(s<u&&(r=u,u=s,s=r),i=0,o=a.length;i<o;++i)a[i]>=u&&a[i]<=s&&(l<0&&(l=i),n=i);if(!(l<0))return u=e.invertExtent(a[l]),s=e.invertExtent(a[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}(t):void 0),t.type=e,t};return i.metadata=t.toSet(t.array(r)),i}function y(e,t,n){return arguments.length>1?(g[e]=v(e,t,n),this):b(e)?g[e]:void 0}function b(e){return t.hasOwnProperty(g,e)}function x(e,t){const n=g[e];return n&&n.metadata[t]}function w(e){return x(e,"discrete")}function _(e){return x(e,"discretizing")}function E(e){return x(e,s)}function k(e){return x(e,"temporal")}y("identity",r.scaleIdentity),y("linear",r.scaleLinear,f),y(s,r.scaleLog,[f,s]),y("pow",r.scalePow,f),y("sqrt",r.scaleSqrt,f),y("symlog",r.scaleSymlog,f),y(l,r.scaleTime,[f,"temporal"]),y(c,r.scaleUtc,[f,"temporal"]),y("sequential",r.scaleSequential,[f,"interpolating"]),y("sequential-linear",r.scaleSequential,[f,"interpolating"]),y("sequential-log",r.scaleSequentialLog,[f,"interpolating",s]),y("sequential-pow",r.scaleSequentialPow,[f,"interpolating"]),y("sequential-sqrt",r.scaleSequentialSqrt,[f,"interpolating"]),y("sequential-symlog",r.scaleSequentialSymlog,[f,"interpolating"]),y("diverging-linear",r.scaleDiverging,[f,"interpolating"]),y("diverging-log",r.scaleDivergingLog,[f,"interpolating",s]),y("diverging-pow",r.scaleDivergingPow,[f,"interpolating"]),y("diverging-sqrt",r.scaleDivergingSqrt,[f,"interpolating"]),y("diverging-symlog",r.scaleDivergingSymlog,[f,"interpolating"]),y("quantile",r.scaleQuantile,["discretizing","quantile"]),y("quantize",r.scaleQuantize,"discretizing"),y("threshold",r.scaleThreshold,"discretizing"),y("bin-ordinal",(function e(){var i=[],o=[];function a(e){return null==e||e!=e?void 0:o[(n.bisect(i,e)-1)%o.length]}return a.domain=function(e){return arguments.length?(i=h(e),a):i.slice()},a.range=function(e){return arguments.length?(o=m.call(e),a):o.slice()},a.tickFormat=function(e,n){return r.tickFormat(i[0],t.peek(i),null==e?10:e,n)},a.copy=function(){return e().domain(a.domain()).range(a.range())},a}),["discrete","discretizing"]),y("ordinal",r.scaleOrdinal,"discrete"),y("band",d,"discrete"),y("point",(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(d().paddingInner(1))}),"discrete");const C=["clamp","base","constant","exponent"];function S(e,t,n){return i.piecewise(A(t||"rgb",n),e)}function A(e,t){var n=i[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function O(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function M(e,t){for(let n in e)P(n,t(e[n]))}const D={};function P(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(D[e]=t,this):D[e]}M({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},O),M({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},e=>S(O(e)));const T=e=>t.isArray(e)?e.map(e=>String(e)):String(e);function F(e,n,r){let i=e.range(),o=i[0],a=t.peek(i);if(o>a&&(i=a,a=o,o=i),o=Math.floor(o),a=Math.ceil(a),n=n.filter(t=>(t=e(t),o<=t&&t<=a)),r>0&&n.length>1){const e=[n[0],t.peek(n)];for(;n.length>r&&n.length>=3;)n=n.filter((e,t)=>!(t%2));n.length<3&&(n=e)}return n}function N(e,t){return e.bins?F(e,e.bins):e.ticks?e.ticks(t):e.domain()}function j(e,t,n,r,i){var u,s,f=e.type,d=f===l||r===l?o.timeFormat(n):f===c||r===c?o.utcFormat(n):e.tickFormat?e.tickFormat(t,n):n?a.format(n):T;if(E(f)){var p=function(e){var t=a.formatSpecifier(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return function(e,t){return n=>{var r,i,o=e(n),a=o.indexOf(t);if(a<0)return o;for(i=(r=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(o,a))<o.length?o.slice(r):"";--r>a;)if("0"!==o[r]){++r;break}return o.slice(0,r)+i}}(a.format(t),a.format(".1f")(1)[1])}return a.format(t)}(n);d=i||e.bins?p:(u=d,s=p,e=>u(e)?s(e):"")}return d}const R={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},B={quantile:"quantiles",quantize:"domain"};function L(e,n){return e.bins?function(e){const n=e.slice(0,-1);return n.max=t.peek(e),n}(e.bins):e.type===s?function(e,t){var n=N(e,t),r=e.base(),i=Math.log(r),o=Math.max(1,r*t/n.length);return n.filter(e=>{var t=e/Math.pow(r,Math.round(Math.log(e)/i));return t*r<r-.5&&(t*=r),t<=o})}(e,n):R[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[R[e.type]]()):N(e,n)}function z(e,t,n,i,o,a){const u=B[e.type]&&o!==l&&o!==c?function(e,t){var n,i=e[B[e.type]](),o=i.length,a=o>1?i[1]-i[0]:i[0];for(n=1;n<o;++n)a=Math.min(a,i[n]-i[n-1]);return r.tickFormat(0,a,30,t)}(e,i):j(e,t,i,o,a);return"symbol"===n&&function(e){return R[e.type]||e.bins}(e)?function(e){return(t,n,r)=>{var i=I(r[n+1],I(r.max,1/0)),o=$(t,e),a=$(i,e);return o&&a?o+"  "+a:a?"< "+a:" "+o}}(u):"discrete"===n?function(e){return(t,n)=>n?e(t):null}(u):function(e){return t=>e(t)}(u)}function I(e,t){return null!=e?e:t}function $(e,t){return Number.isFinite(e)?t(e):null}Object.defineProperty(e,"scaleImplicit",{enumerable:!0,get:function(){return r.scaleImplicit}}),e.Band="band",e.BinOrdinal="bin-ordinal",e.DiscreteLegend="discrete",e.Diverging="diverging",e.GradientLegend="gradient",e.Identity="identity",e.Linear="linear",e.Log=s,e.Ordinal="ordinal",e.Point="point",e.Pow="pow",e.Quantile="quantile",e.Quantize="quantize",e.Sequential="sequential",e.Sqrt="sqrt",e.SymbolLegend="symbol",e.Symlog="symlog",e.Threshold="threshold",e.Time=l,e.UTC=c,e.bandSpace=u,e.domainCaption=function(e,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=function(e,n,r){const i=r||e.type;return t.isString(n)&&k(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==l?n||i!==c?z(e,5,null,n,r,!0):o.utcFormat("%A, %d %B %Y, %X UTC"):o.timeFormat("%A, %d %B %Y, %X")}(e,n.format,n.formatType);if(_(e.type)){const t=L(e).slice(1).map(i),n=t.length;return`${n} boundar${1===n?"y":"ies"}: ${t.join(", ")}`}if(w(e.type)){const t=e.domain(),n=t.length;return`${n} value${1===n?"":"s"}: ${n>r?t.slice(0,r-2).map(i).join(", ")+", ending with "+t.slice(-1).map(i):t.map(i).join(", ")}`}{const n=e.domain();return`values from ${i(n[0])} to ${i(t.peek(n))}`}},e.interpolate=A,e.interpolateColors=S,e.interpolateRange=function(e,n){var r=n[0],i=t.peek(n)-r;return function(t){return e(r+t*i)}},e.isContinuous=function(e){return x(e,f)},e.isDiscrete=w,e.isDiscretizing=_,e.isInterpolating=function(e){return x(e,"interpolating")},e.isLogarithmic=E,e.isQuantile=function(e){return x(e,"quantile")},e.isTemporal=k,e.isValidScaleType=b,e.labelFormat=z,e.labelFraction=function(e){var n=e.domain(),r=n.length-1,i=+n[0],o=+t.peek(n),a=o-i;if("threshold"===e.type){const e=r?a/r:.1;a=(o+=e)-(i-=e)}return e=>(e-i)/a},e.labelValues=L,e.quantizeInterpolator=function(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n},e.scale=y,e.scaleCopy=function(e){const t=e.type,n=e.copy();return n.type=t,n},e.scaleFraction=function(e,n,r){var i,o,a,u=r-n;return u&&Number.isFinite(u)?(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),a=y(o)().domain([n,r]).range([0,1]),C.forEach(t=>e[t]?a[t](e[t]()):0),a):t.constant(.5)},e.scheme=P,e.tickCount=function(e,n,r){var i;return t.isNumber(n)&&(e.bins&&(n=Math.max(n,e.bins.length)),null!=r&&(n=Math.min(n,Math.floor(t.span(e.domain())/r||1)))),t.isObject(n)&&(i=n.step,n=n.interval),t.isString(n)&&(n=e.type===l?o.timeInterval(n):e.type==c?o.utcInterval(n):t.error("Only time and utc scales accept interval strings."),i&&(n=n.every(i))),n},e.tickFormat=j,e.tickValues=N,e.validTicks=F,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Gx,iw,tw,Xx,nw)}));t(ow);var aw=n((function(e,t){!function(e,t,n,r,i,o,a){function u(e){this.clear(),e&&this.union(e)}var s=u.prototype;s.clone=function(){return new u(this)},s.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},s.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},s.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},s.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},s.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},s.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},s.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},s.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},s.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},s.rotate=function(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},s.rotatedPoints=function(e,t,n){var{x1:r,y1:i,x2:o,y2:a}=this,u=Math.cos(e),s=Math.sin(e),l=t-t*u+n*s,c=n-t*s-n*u;return[u*r-s*i+l,s*r+u*i+c,u*r-s*a+l,s*r+u*a+c,u*o-s*i+l,s*o+u*i+c,u*o-s*a+l,s*o+u*a+c]},s.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},s.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},s.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},s.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},s.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},s.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},s.width=function(){return this.x2-this.x1},s.height=function(){return this.y2-this.y1};var l=0;function c(e){return e&&e.gradient}function f(e,t,n){let r=e.id,i=e.gradient,o="radial"===i?"p_":"";return r||(r=e.id="gradient_"+l++,"radial"===i?(e.x1=d(e.x1,.5),e.y1=d(e.y1,.5),e.r1=d(e.r1,0),e.x2=d(e.x2,.5),e.y2=d(e.y2,.5),e.r2=d(e.r2,.5),o="p_"):(e.x1=d(e.x1,0),e.y1=d(e.y1,0),e.x2=d(e.x2,1),e.y2=d(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+o+r+")"}function d(e,t){return null!=e?e:t}function p(e){this.mark=e,this.bounds=this.bounds||new u}function h(e){p.call(this,e),this.items=this.items||[]}function m(e){this._pending=0,this._loader=e||r.loader()}t.inherits(h,p);var g=m.prototype;function v(e){e._pending+=1}function y(e){e._pending-=1}g.pending=function(){return this._pending},g.sanitizeURL=function(e){var t=this;return v(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return y(t),e})).catch((function(){return y(t),null}))},g.loadImage=function(e){const r=this,i=n.image();return v(r),r._loader.sanitize(e,{context:"image"}).then((function(e){const n=e.href;if(!n||!i)throw{url:n};const o=new i,a=t.hasOwnProperty(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=a&&(o.crossOrigin=a),o.onload=()=>y(r),o.onerror=()=>y(r),o.src=n,o})).catch((function(e){return y(r),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},g.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))};var b={basis:{curve:i.curveBasis},"basis-closed":{curve:i.curveBasisClosed},"basis-open":{curve:i.curveBasisOpen},bundle:{curve:i.curveBundle,tension:"beta",value:.85},cardinal:{curve:i.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:i.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:i.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:i.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:i.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:i.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:i.curveLinear},"linear-closed":{curve:i.curveLinearClosed},monotone:{horizontal:i.curveMonotoneY,vertical:i.curveMonotoneX},natural:{curve:i.curveNatural},step:{curve:i.curveStep},"step-after":{curve:i.curveStepAfter},"step-before":{curve:i.curveStepBefore}};function x(e,n,r){var i=t.hasOwnProperty(b,e)&&b[e],o=null;return i&&(o=i.curve||i[n||"vertical"],i.tension&&null!=r&&(o=o[i.tension](r))),o}var w={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];function E(e){var t,n,r,i,o,a,u,s,l,c,f,d=[];for(s=0,c=(t=e.slice().replace(_[0],"###$1").split(_[1]).slice(1)).length;s<c;++s){for(r=(n=t[s]).slice(1).trim().replace(_[2],"$1###$2").split(_[3]),i=[a=n.charAt(0)],l=0,f=r.length;l<f;++l)(o=+r[l])===o&&i.push(o);if(u=w[a.toLowerCase()],i.length-1>u)for(l=1,f=i.length;l<f;l+=u)d.push([a].concat(i.slice(l,l+u)));else d.push(i)}return d}const k=Math.PI/180,C=Math.PI/2,S=2*Math.PI,A=Math.sqrt(3)/2;var O={},M={},D=[].join;function P(e){var t=D.call(e);if(M[t])return M[t];var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],l=e[7],c=l*a,f=-s*u,d=s*a,p=l*u,h=Math.cos(i),m=Math.sin(i),g=Math.cos(o),v=Math.sin(o),y=.5*(o-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+h-x*m,_=r+m+x*h,E=n+g,k=r+v,C=E+x*v,S=k-x*g;return M[t]=[c*w+f*_,d*w+p*_,c*C+f*S,d*C+p*S,c*E+f*k,d*E+p*k]}var T=["l",0,0,0,0,0,0,0];function F(e,t,n){var r=T[0]=e[0];if("a"===r||"A"===r)T[1]=t*e[1],T[2]=n*e[2],T[3]=e[3],T[4]=e[4],T[5]=e[5],T[6]=t*e[6],T[7]=n*e[7];else if("h"===r||"H"===r)T[1]=t*e[1];else if("v"===r||"V"===r)T[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)T[i]=(i%2==1?t:n)*e[i];return T}function N(e,t,n,r,i,o){var a,u,s,l,c,f=null,d=0,p=0,h=0,m=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==o&&(o=i),e.beginPath&&e.beginPath();for(var g=0,v=t.length;g<v;++g){switch(a=t[g],1===i&&1===o||(a=F(a,i,o)),a[0]){case"l":d+=a[1],p+=a[2],e.lineTo(d+n,p+r);break;case"L":d=a[1],p=a[2],e.lineTo(d+n,p+r);break;case"h":d+=a[1],e.lineTo(d+n,p+r);break;case"H":d=a[1],e.lineTo(d+n,p+r);break;case"v":p+=a[1],e.lineTo(d+n,p+r);break;case"V":p=a[1],e.lineTo(d+n,p+r);break;case"m":d+=a[1],p+=a[2],e.moveTo(d+n,p+r);break;case"M":d=a[1],p=a[2],e.moveTo(d+n,p+r);break;case"c":u=d+a[5],s=p+a[6],h=d+a[3],m=p+a[4],e.bezierCurveTo(d+a[1]+n,p+a[2]+r,h+n,m+r,u+n,s+r),d=u,p=s;break;case"C":d=a[5],p=a[6],h=a[3],m=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,h+n,m+r,d+n,p+r);break;case"s":u=d+a[3],s=p+a[4],h=2*d-h,m=2*p-m,e.bezierCurveTo(h+n,m+r,d+a[1]+n,p+a[2]+r,u+n,s+r),h=d+a[1],m=p+a[2],d=u,p=s;break;case"S":u=a[3],s=a[4],h=2*d-h,m=2*p-m,e.bezierCurveTo(h+n,m+r,a[1]+n,a[2]+r,u+n,s+r),d=u,p=s,h=a[1],m=a[2];break;case"q":u=d+a[3],s=p+a[4],h=d+a[1],m=p+a[2],e.quadraticCurveTo(h+n,m+r,u+n,s+r),d=u,p=s;break;case"Q":u=a[3],s=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,u+n,s+r),d=u,p=s,h=a[1],m=a[2];break;case"t":u=d+a[1],s=p+a[2],null===f[0].match(/[QqTt]/)?(h=d,m=p):"t"===f[0]?(h=2*d-l,m=2*p-c):"q"===f[0]&&(h=2*d-h,m=2*p-m),l=h,c=m,e.quadraticCurveTo(h+n,m+r,u+n,s+r),p=s,h=(d=u)+a[1],m=p+a[2];break;case"T":u=a[1],s=a[2],h=2*d-h,m=2*p-m,e.quadraticCurveTo(h+n,m+r,u+n,s+r),d=u,p=s;break;case"a":j(e,d+n,p+r,[a[1],a[2],a[3],a[4],a[5],a[6]+d+n,a[7]+p+r]),d+=a[6],p+=a[7];break;case"A":j(e,d+n,p+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),d=a[6],p=a[7];break;case"z":case"Z":e.closePath()}f=a}}function j(e,t,n,r){for(var i=function(e,t,n,r,i,o,a,u,s){var l=D.call(arguments);if(O[l])return O[l];var c=a*k,f=Math.sin(c),d=Math.cos(c),p=d*(u-e)*.5+f*(s-t)*.5,h=d*(s-t)*.5-f*(u-e)*.5,m=p*p/((n=Math.abs(n))*n)+h*h/((r=Math.abs(r))*r);m>1&&(n*=m=Math.sqrt(m),r*=m);var g=d/n,v=f/n,y=-f/r,b=d/r,x=g*u+v*s,w=y*u+b*s,_=g*e+v*t,E=y*e+b*t,A=(_-x)*(_-x)+(E-w)*(E-w),M=1/A-.25;M<0&&(M=0);var P=Math.sqrt(M);o==i&&(P=-P);var T=.5*(x+_)-P*(E-w),F=.5*(w+E)+P*(_-x),N=Math.atan2(w-F,x-T),j=Math.atan2(E-F,_-T),R=j-N;R<0&&1===o?R+=S:R>0&&0===o&&(R-=S);for(var B=Math.ceil(Math.abs(R/(C+.001))),L=[],z=0;z<B;++z){var I=N+z*R/B,$=N+(z+1)*R/B;L[z]=[T,F,I,$,n,r,f,d]}return O[l]=L}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),o=0;o<i.length;++o){var a=P(i[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var R=.5773502691896257,B={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,S)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n,i=r-n*R,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n,i=r-n*R;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=A*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function L(e){return t.hasOwnProperty(B,e)?B[e]:function(e){if(!t.hasOwnProperty(z,e)){var n=E(e);z[e]={draw:function(e,t){N(e,n,0,0,Math.sqrt(t)/2)}}}return z[e]}(e)}var z={};const I=.448084975506;function $(e){return e.x}function U(e){return e.y}function q(e){return e.width}function W(e){return e.height}function H(e){return"function"==typeof e?e:()=>+e}function V(e,t,n){return Math.max(t,Math.min(e,n))}function G(){var e=$,t=U,n=q,r=W,i=H(0),a=i,u=i,s=i,l=null;function c(c,f,d){var p,h=null!=f?f:+e.call(this,c),m=null!=d?d:+t.call(this,c),g=+n.call(this,c),v=+r.call(this,c),y=Math.min(g,v)/2,b=V(+i.call(this,c),0,y),x=V(+a.call(this,c),0,y),w=V(+u.call(this,c),0,y),_=V(+s.call(this,c),0,y);if(l||(l=p=o.path()),b<=0&&x<=0&&w<=0&&_<=0)l.rect(h,m,g,v);else{var E=h+g,k=m+v;l.moveTo(h+b,m),l.lineTo(E-x,m),l.bezierCurveTo(E-I*x,m,E,m+I*x,E,m+x),l.lineTo(E,k-_),l.bezierCurveTo(E,k-I*_,E-I*_,k,E-_,k),l.lineTo(h+w,k),l.bezierCurveTo(h+I*w,k,h,k-I*w,h,k-w),l.lineTo(h,m+b),l.bezierCurveTo(h,m+I*b,h+I*b,m,h+b,m),l.closePath()}if(p)return l=null,p+""||null}return c.x=function(t){return arguments.length?(e=H(t),c):e},c.y=function(e){return arguments.length?(t=H(e),c):t},c.width=function(e){return arguments.length?(n=H(e),c):n},c.height=function(e){return arguments.length?(r=H(e),c):r},c.cornerRadius=function(e,t,n,r){return arguments.length?(i=H(e),a=null!=t?H(t):i,s=null!=n?H(n):i,u=null!=r?H(r):a,c):i},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c}function Y(){var e,t,n,r,i,a,u,s,l=null;function c(e,t,n){var r=n/2;if(i){var o=u-t,c=e-a;if(o||c){var f=Math.sqrt(o*o+c*c),d=(o/=f)*s,p=(c/=f)*s,h=Math.atan2(c,o);l.moveTo(a-d,u-p),l.lineTo(e-o*r,t-c*r),l.arc(e,t,r,h-Math.PI,h),l.lineTo(a+d,u+p),l.arc(a,u,s,h,h+Math.PI)}else l.arc(e,t,r,0,S);l.closePath()}else i=1;a=e,u=t,s=r}function f(a){var u,s,f,d=a.length,p=!1;for(null==l&&(l=f=o.path()),u=0;u<=d;++u)!(u<d&&r(s=a[u],u,a))===p&&(p=!p)&&(i=0),p&&c(+e(s,u,a),+t(s,u,a),+n(s,u,a));if(f)return l=null,f+""||null}return f.x=function(t){return arguments.length?(e=t,f):e},f.y=function(e){return arguments.length?(t=e,f):t},f.size=function(e){return arguments.length?(n=e,f):n},f.defined=function(e){return arguments.length?(r=e,f):r},f.context=function(e){return arguments.length?(l=null==e?null:e,f):l},f}function X(e,t){return null!=e?e:t}const K=e=>e.x||0,Q=e=>e.y||0,J=e=>!(!1===e.defined),Z=i.arc().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),ee=i.area().x(K).y1(Q).y0(e=>(e.y||0)+(e.height||0)).defined(J),te=i.area().y(Q).x1(K).x0(e=>(e.x||0)+(e.width||0)).defined(J),ne=i.line().x(K).y(Q).defined(J),re=G().x(K).y(Q).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>X(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>X(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>X(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>X(e.cornerRadiusBottomLeft,e.cornerRadius)||0),ie=i.symbol().type(e=>L(e.shape||"circle")).size(e=>X(e.size,64)),oe=Y().x(K).y(Q).defined(J).size(e=>e.size||1);function ae(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function ue(e,t,n,r){return re.context(e)(t,n,r)}function se(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}var le,ce,fe,de=S-1e-8;function pe(e){return le=e,pe}function he(){}function me(e,t){le.add(e,t)}function ge(e,t){me(ce=e,fe=t)}function ve(e){me(e,le.y1)}function ye(e){me(le.x1,e)}function be(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function xe(e,t,n,r,i){const o=r-e+3*t-3*n,a=e+n-2*t,u=e-t;let s,l=0,c=0;Math.abs(o)>1e-14?(s=a*a+u*o,s>=0&&(s=Math.sqrt(s),l=(-a+s)/o,c=(-a-s)/o)):l=.5*u/a,0<l&&l<1&&i(we(l,e,t,n,r)),0<c&&c<1&&i(we(c,e,t,n,r))}function we(e,t,n,r,i){const o=1-e,a=o*o,u=e*e;return a*o*t+3*a*e*n+3*o*u*r+u*e*i}pe.beginPath=he,pe.closePath=he,pe.moveTo=ge,pe.lineTo=ge,pe.rect=function(e,t,n,r){me(e+n,t+r),ge(e,t)},pe.quadraticCurveTo=function(e,t,n,r){be(ce,e,n,ve),be(fe,t,r,ye),ge(n,r)},pe.bezierCurveTo=function(e,t,n,r,i,o){xe(ce,e,n,i,ve),xe(fe,t,r,o,ye),ge(i,o)},pe.arc=function(e,t,n,r,i,o){if(ce=n*Math.cos(i)+e,fe=n*Math.sin(i)+t,Math.abs(i-r)>de)me(e-n,t-n),me(e+n,t+n);else{const a=r=>me(n*Math.cos(r)+e,n*Math.sin(r)+t);let u,s;if(a(r),a(i),i!==r)if((r%=S)<0&&(r+=S),(i%=S)<0&&(i+=S),i<r&&(o=!o,u=r,r=i,i=u),o)for(i-=S,u=r-r%C,s=0;s<4&&u>i;++s,u-=C)a(u);else for(u=r-r%C+C,s=0;s<4&&u<i;++s,u+=C)a(u)}};var _e=(_e=n.canvas(1,1))?_e.getContext("2d"):null;const Ee=new u;function ke(e){return function(t,n){if(!_e)return!0;e(_e,t),Ee.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:a}=Ee;for(let e=i;e<=a;++e)for(let t=r;t<=o;++t)if(_e.isPointInPath(t,e))return!0;return!1}}function Ce(e,t){return t.contains(e.x||0,e.y||0)}function Se(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(Ee.set(n,r,n+i,r+o))}function Ae(e,t){const n=e.x||0,r=e.y||0;return Oe(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function Oe(e,t,n,r,i){const{x1:o,y1:a,x2:u,y2:s}=e,l=r-t,c=i-n;let f,d,p,h,m=0,g=1;for(h=0;h<4;++h){if(0===h&&(f=-l,d=-(o-t)),1===h&&(f=l,d=u-t),2===h&&(f=-c,d=-(a-n)),3===h&&(f=c,d=s-n),Math.abs(f)<1e-10&&d<0)return!1;if(p=d/f,f<0){if(p>g)return!1;p>m&&(m=p)}else if(f>0){if(p<m)return!1;p<g&&(g=p)}}return!0}function Me(e,t){e.globalCompositeOperation=t.blend||"source-over"}function De(e,t){return null==e?t:e}function Pe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function Te(e,t,r){return c(r)?function(e,t,r){const i=r.width(),o=r.height();let a;if("radial"===t.gradient)a=e.createRadialGradient(r.x1+De(t.x1,.5)*i,r.y1+De(t.y1,.5)*o,Math.max(i,o)*De(t.r1,0),r.x1+De(t.x2,.5)*i,r.y1+De(t.y2,.5)*o,Math.max(i,o)*De(t.r2,.5));else{const u=De(t.x1,0),s=De(t.y1,0),l=De(t.x2,1),c=De(t.y2,0);if(u!==l&&s!==c&&i!==o){const r=n.canvas(Math.ceil(i),Math.ceil(o)),a=r.getContext("2d");return a.scale(i,o),a.fillStyle=Pe(a.createLinearGradient(u,s,l,c),t.stops),a.fillRect(0,0,i,o),e.createPattern(r,"no-repeat")}a=e.createLinearGradient(r.x1+u*i,r.y1+s*o,r.x1+l*i,r.y1+c*o)}return Pe(a,t.stops)}(e,r,t.bounds):r}function Fe(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Te(e,t,t.fill),!0)}var Ne=[];function je(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Te(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Ne),e.lineDashOffset=t.strokeDashOffset||0),!0)}function Re(e,t){return e.zindex-t.zindex||e.index-t.index}function Be(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,o=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(Re)}function Le(e,t){var n,r,i=e.items;if(i&&i.length){var o=Be(e);if(o&&o.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=o}for(n=0,r=i.length;n<r;++n)t(i[n])}}function ze(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var o=Be(e);for(o&&o.length&&(i=o),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===o)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function Ie(e){return function(t,n,r){Le(n,(function(n){r&&!r.intersects(n.bounds)||Ue(e,t,n,n)}))}}function $e(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||Ue(e,t,n.items[0],n.items)}}function Ue(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(Me(t,n),n.fill&&Fe(t,n,i)&&t.fill(),n.stroke&&je(t,n,i)&&t.stroke()))}function qe(e){return e=e||t.truthy,function(t,n,r,i,o,a){return r*=t.pixelRatio,i*=t.pixelRatio,ze(n,(function(n){var u=n.bounds;if((!u||u.contains(o,a))&&u)return e(t,n,r,i,o,a)?n:void 0}))}}function We(e,t){return function(n,r,i,o){var a,u,s=Array.isArray(r)?r[0]:r,l=null==t?s.fill:t,c=s.stroke&&n.isPointInStroke;return c&&(a=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(l&&n.isPointInPath(i,o)||c&&n.isPointInStroke(i,o))}}function He(e){return qe(We(e))}function Ve(e,t){return"translate("+e+","+t+")"}function Ge(e){return"rotate("+e+")"}function Ye(e){return Ve(e.x||0,e.y||0)}function Xe(e){return Ve(e.x||0,e.y||0)+(e.angle?" "+Ge(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}function Ke(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,o=n.angle||0;e.translate(r,i),o&&e.rotate(o*=k),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Xe(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(pe(e),n),se(e,n).translate(r,i),n.angle&&e.rotate(n.angle*k,r,i),e},draw:Ie(r),pick:He(r),isect:n||ke(r)}}var Qe=Ke("arc",(function(e,t){return Z.context(e)(t)}));function Je(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i=We(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(pe(e),r),se(e,r[0]))},draw:$e(r),pick:function(e,t,n,r,o,a){var u=t.items,s=t.bounds;return!u||!u.length||s&&!s.contains(o,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,i(e,u,n,r)?u[0]:null)},isect:Ce,tip:n}}var Ze=Je("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?te:ee).curve(x(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],o="horizontal"===e[0].orient?"y":"x",a=e.length,u=1/0;--a>=0;)!1!==e[a].defined&&(r=Math.abs(e[a][o]-i))<u&&(u=r,n=e[a]);return n}));function et(e,t){e.beginPath(),ae(t)?ue(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}var tt=1;function nt(e,n,r){var i=n.clip,o=e._defs,a=n.clip_id||(n.clip_id="clip"+tt++),u=o.clipping[a]||(o.clipping[a]={id:a});return t.isFunction(i)?u.path=i(null):ae(r)?u.path=ue(null,r,0,0):(u.width=r.width||0,u.height=r.height||0),"url(#"+a+")"}function rt(e){var t=null!=(t=e.strokeWidth)?t:1;return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function it(e,t){var n=rt(t);e("d",ue(null,t,n,n))}function ot(e,t,n,r){var i=rt(t);e.beginPath(),ue(e,t,(n||0)+i,(r||0)+i)}var at=We(ot),ut=We(ot,!1),st={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Ye(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),se(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;Le(t,(function(t){var i=t.x||0,o=t.y||0,a=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(ot(e,t,i,o),Me(e,t),t.fill&&Fe(e,t,u)&&e.fill(),t.stroke&&!a&&je(e,t,u)&&e.stroke()),e.save(),e.translate(i,o),t.clip&&et(e,t),n&&n.translate(-i,-o),Le(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,o),e.restore(),a&&t.stroke&&u&&(ot(e,t,i,o),Me(e,t),je(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;var a=this,u=n*e.pixelRatio,s=r*e.pixelRatio;return ze(t,(function(l){var c,f,d,p,h,m,g,v,y;if((!(v=l.bounds)||v.contains(i,o))&&(p=l.x||0,h=l.y||0,m=p+(l.width||0),g=h+(l.height||0),!(y=l.clip)||!(i<p||i>m||o<p||o>g)))return e.save(),e.translate(p,h),p=i-p,h=o-h,y&&ae(l)&&!at(e,l,u,s)?(e.restore(),null):(f=l.strokeForeground,(d=!1!==t.interactive)&&f&&l.stroke&&ut(e,l,u,s)?(e.restore(),l):(!(c=ze(l,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,p,h)?a.pick(e,n,r,p,h):null})))&&d&&(l.fill||!f&&l.stroke)&&at(e,l,u,s)&&(c=l),e.restore(),c||null))}))},isect:Se,content:function(e,t,n){e("clip-path",t.clip?nt(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),it(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?it(e,t):e("d","")}};function lt(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(t=>{e.image=t,e.image.url=e.url})),n}function ct(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function ft(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function dt(e,t){return"center"===e?t/2:"right"===e?t:0}function pt(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var ht={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=lt(t,n),i=t.x||0,o=t.y||0,a=ct(t,r),u=ft(t,r),s=!1===t.aspect?"none":"xMidYMid";i-=dt(t.align,a),o-=pt(t.baseline,u),!r.src&&r.toDataURL?e("href",r.toDataURL(),"http://www.w3.org/1999/xlink","xlink:href"):e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Ve(i,o)),e("width",a),e("height",u),e("preserveAspectRatio",s)},bound:function(e,t){var n=t.image,r=t.x||0,i=t.y||0,o=ct(t,n),a=ft(t,n);return r-=dt(t.align,o),i-=pt(t.baseline,a),e.set(r,i,r+o,i+a)},draw:function(e,t,n){var r=this;Le(t,(function(t){if(!n||n.intersects(t.bounds)){var i,o,a,u,s=lt(t,r),l=t.x||0,c=t.y||0,f=ct(t,s),d=ft(t,s);l-=dt(t.align,f),c-=pt(t.baseline,d),!1!==t.aspect&&(o=s.width/s.height,a=t.width/t.height,o==o&&a==a&&o!==a&&(a<o?(c+=(d-(u=f/o))/2,d=u):(l+=(f-(u=d*o))/2,f=u))),(s.complete||s.toDataURL)&&(Me(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(s,l,c,f,d))}}))},pick:qe(),isect:t.truthy,get:lt,xOffset:dt,yOffset:pt},mt=Je("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return ne.curve(x(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(r=e[o].y-t[1])*r<i)return e[o];return null}));function gt(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,a=t.scaleY||1,u=(t.angle||0)*k,s=t.pathCache;s&&s.path===n||((t.pathCache=s=E(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(u),N(e,s,0,0,o,a),e.rotate(-u),e.translate(-r,-i)):N(e,s,r,i,o,a)}var vt={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",Xe(t)),e("d",t.path)},bound:function(e,t){return gt(pe(e),t)?e.set(0,0,0,0):se(e,t,!0),t.angle&&e.rotate(t.angle*k,t.x||0,t.y||0),e},draw:Ie(gt),pick:He(gt),isect:ke(gt)};function yt(e,t){e.beginPath(),ue(e,t)}var bt={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",ue(null,t))},bound:function(e,t){var n,r;return se(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:Ie(yt),pick:He(yt),isect:Se};function xt(e,t,n){var r,i,o,a;return!(!t.stroke||!je(e,t,n)||(r=t.x||0,i=t.y||0,o=null!=t.x2?t.x2:r,a=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,a),0))}var wt={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Ye(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return se(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){Le(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&xt(e,t,r)&&(Me(e,t),e.stroke())}}))},pick:qe((function(e,t,n,r){return!!e.isPointInStroke&&xt(e,t,1)&&e.isPointInStroke(n,r)})),isect:Ae},_t=Ke("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Et=Ke("symbol",(function(e,t){return ie.context(e)(t)}),Ce);const kt=t.lruCache();var Ct={height:Pt,measureWidth:Mt,estimateWidth:At,width:At,canvas:St};function St(e){Ct.width=e&&_e?Mt:At}function At(e,t){return Ot(Nt(e,t),Pt(e))}function Ot(e,t){return~~(.8*e.length*t)}function Mt(e,t){return Pt(e)<=0||!(t=Nt(e,t))?0:Dt(t,Rt(e))}function Dt(e,t){const n=`(${t}) ${e}`;let r=kt.get(n);return void 0===r&&(_e.font=t,r=_e.measureText(e).width,kt.set(n,r)),r}function Pt(e){return null!=e.fontSize?+e.fontSize||0:11}function Tt(e){return null!=e.lineHeight?e.lineHeight:Pt(e)+2}function Ft(e){return n=e.lineBreak&&e.text&&!t.isArray(e.text)?e.text.split(e.lineBreak):e.text,t.isArray(n)?n.length>1?n:n[0]:n;var n}function Nt(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(Ct.width===Mt){const t=Rt(e);return e=>Dt(e,t)}{const t=Pt(e);return e=>Ot(e,t)}}(e);if(r(t)<n)return t;var i,o=e.ellipsis||"",a="rtl"===e.dir,u=0,s=t.length;if(n-=r(o),a){for(;u<s;)i=u+s>>>1,r(t.slice(i))>n?u=i+1:s=i;return o+t.slice(u)}for(;u<s;)i=1+(u+s>>>1),r(t.slice(0,i))<n?u=i:s=i-1;return t.slice(0,u)+o}(e,n):n}function jt(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Rt(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Pt(e)+"px "+jt(e,t)}function Bt(e){var t=e.baseline,n=Pt(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*Tt(e):"line-bottom"===t?.29*n-.5*Tt(e):0)}St(!0);var Lt={left:"start",center:"middle",right:"end"},zt=new u;function It(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-C,n+=i*Math.cos(t),r+=i*Math.sin(t)),zt.x1=n,zt.y1=r,zt}function $t(e,n,r){var i,o=Ct.height(n),a=n.align,u=It(n),s=u.x1,l=u.y1,c=n.dx||0,f=(n.dy||0)+Bt(n)-Math.round(.8*o),d=Ft(n);if(t.isArray(d)?(o+=Tt(n)*(d.length-1),i=d.reduce((e,t)=>Math.max(e,Ct.width(n,t)),0)):i=Ct.width(n,d),"center"===a?c-=i/2:"right"===a&&(c-=i),e.set(c+=s,f+=l,c+i,f+o),n.angle&&!r)e.rotate(n.angle*k,s,l);else if(2===r)return e.rotatedPoints(n.angle*k,s,l);return e}var Ut={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Bt(t),o=It(t),a=o.x1,u=o.y1,s=t.angle||0;e("text-anchor",Lt[t.align]||"start"),s?(n=Ve(a,u)+" "+Ge(s),(r||i)&&(n+=" "+Ve(r,i))):n=Ve(a+r,u+i),e("transform",n)},bound:$t,draw:function(e,n,r){Le(n,(function(n){var i,o,a,u,s,l,c,f=null==n.opacity?1:n.opacity;if(!(r&&!r.intersects(n.bounds)||0===f||n.fontSize<=0||null==n.text||0===n.text.length)){if(e.font=Rt(n),e.textAlign=n.align||"left",o=(i=It(n)).x1,a=i.y1,n.angle&&(e.save(),e.translate(o,a),e.rotate(n.angle*k),o=a=0),o+=n.dx||0,a+=(n.dy||0)+Bt(n),l=Ft(n),Me(e,n),t.isArray(l))for(s=Tt(n),u=0;u<l.length;++u)c=Nt(n,l[u]),n.fill&&Fe(e,n,f)&&e.fillText(c,o,a),n.stroke&&je(e,n,f)&&e.strokeText(c,o,a),a+=s;else c=Nt(n,l),n.fill&&Fe(e,n,f)&&e.fillText(c,o,a),n.stroke&&je(e,n,f)&&e.strokeText(c,o,a);n.angle&&e.restore()}}))},pick:qe((function(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=It(t),u=a.x1,s=a.y1,l=$t(zt,t,1),c=-t.angle*k,f=Math.cos(c),d=Math.sin(c),p=f*i-d*o+(u-f*u+d*s),h=d*i+f*o+(s-d*u-f*s);return l.contains(p,h)})),isect:function(e,t){var n=$t(zt,e,2);return Oe(t,n[0],n[1],n[2],n[3])||Oe(t,n[0],n[1],n[4],n[5])||Oe(t,n[4],n[5],n[6],n[7])||Oe(t,n[2],n[3],n[6],n[7])}},qt=Je("trail",(function(e,t){return oe.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null})),Wt={arc:Qe,area:Ze,group:st,image:ht,line:mt,path:vt,rect:bt,rule:wt,shape:_t,symbol:Et,text:Ut,trail:qt};function Ht(e,t,n){var r=Wt[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new u),e,n)}var Vt={mark:null};function Gt(e,t,n){var r,i,o,a,s=Wt[e.marktype],l=s.bound,c=e.items,f=c&&c.length;if(s.nested)return f?o=c[0]:(Vt.mark=e,o=Vt),a=Ht(o,l,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new u,f)for(r=0,i=c.length;r<i;++r)t.union(Ht(c[r],l,n));return e.bounds=t}var Yt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Xt(e,t){return JSON.stringify(e,Yt,t)}function Kt(e){return function e(t){var n,r,i,o=t.marktype,a=t.items;if(a)for(r=0,i=a.length;r<i;++r)n=o?"mark":"group",a[r][n]=t,a[r].zindex&&(a[r][n].zdirty=!0),"group"===(o||n)&&e(a[r]);return o&&Gt(t),t}("string"==typeof e?JSON.parse(e):e)}function Qt(e){arguments.length?this.root=Kt(e):(this.root=Zt({marktype:"group",name:"root",role:"frame"}),this.root.items=[new h(this.root)])}var Jt=Qt.prototype;function Zt(e,t){const n={bounds:new u,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function en(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function tn(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function nn(e,t,n,r){var i,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(i=o||null,o=en(e.ownerDocument,n,r),e.insertBefore(o,i)),o}function rn(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function on(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function an(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function un(e,t){this._active=null,this._handlers={},this._loader=e||r.loader(),this._tooltip=t||sn}function sn(e,t,n,r){e.element().setAttribute("title",r||"")}Jt.toJSON=function(e){return Xt(this.root,e||0)},Jt.mark=function(e,t,n){var r=Zt(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var ln=un.prototype;function cn(e){this._el=null,this._bgcolor=null,this._loader=new m(e)}ln.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},ln.element=function(){return this._el},ln.canvas=function(){return this._el&&this._el.firstChild},ln.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},ln.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},ln.on=function(){},ln.off=function(){},ln._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},ln.handlers=function(e){var t,n=this._handlers,r=[];if(e)r.push.apply(r,n[this.eventName(e)]);else for(t in n)r.push.apply(r,n[t]);return r},ln.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},ln.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=en(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},ln.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,o,a=e&&e.mark;if(a&&(i=Wt[a.marktype]).tip){for((o=an(t,n))[0]-=r[0],o[1]-=r[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=i.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},ln.getItemBoundingClientRect=function(e){if(t=this.canvas()){for(var t,n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.x1+r[0]+n.left,a=i.y1+r[1]+n.top,u=i.width(),s=i.height();e.mark&&(e=e.mark.group);)o+=e.x||0,a+=e.y||0;return{x:o,y:a,width:u,height:s,left:o,top:a,right:o+u,bottom:a+s}}};var fn=cn.prototype;function dn(e,t){un.call(this,e,t),this._down=null,this._touch=null,this._first=!0}fn.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},fn.element=function(){return this._el},fn.canvas=function(){return this._el&&this._el.firstChild},fn.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},fn.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},fn.dirty=function(){},fn.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},fn._render=function(){},fn.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},fn._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},fn.sanitizeURL=function(e){return this._load("sanitizeURL",e)},fn.loadImage=function(e){return this._load("loadImage",e)};var pn=t.inherits(dn,un);function hn(e,t,n){return function(r){var i=this._active,o=this.pickEvent(r);o===i||(i&&i.exit||this.fire(n,r),this._active=o,this.fire(t,r)),this.fire(e,r)}}function mn(e){return function(t){this.fire(e,t),this._active=null}}pn.initialize=function(e,t,n){var r=this._canvas=e&&tn(e,"canvas");if(r){var i=this;this.events.forEach((function(e){r.addEventListener(e,(function(t){pn[e]?pn[e].call(i,t):i.fire(e,t)}))}))}return un.prototype.initialize.call(this,e,t,n)},pn.canvas=function(){return this._canvas},pn.context=function(){return this._canvas.getContext("2d")},pn.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],pn.DOMMouseScroll=function(e){this.fire("mousewheel",e)},pn.mousemove=hn("mousemove","mouseover","mouseout"),pn.dragover=hn("dragover","dragenter","dragleave"),pn.mouseout=mn("mouseout"),pn.dragleave=mn("dragleave"),pn.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},pn.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},pn.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},pn.touchmove=function(e){this.fire("touchmove",e,!0)},pn.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},pn.fire=function(e,t,n){var r,i,o=n?this._touch:this._active,a=this._handlers[e];if(t.vegaType=e,"click"===e&&o&&o.href?this.handleHref(t,o,o.href):"mousemove"!==e&&"mouseout"!==e||this.handleTooltip(t,o,"mouseout"!==e),a)for(r=0,i=a.length;r<i;++r)a[r].handler.call(this._obj,t,o)},pn.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(r[n]||(r[n]=[])).push({type:e,handler:t}),this},pn.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pn.pickEvent=function(e){var t=an(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pn.pick=function(e,t,n,r,i){var o=this.context();return Wt[e.marktype].pick.call(this,o,e,t,n,r,i)};var gn="undefined"!=typeof window&&window.devicePixelRatio||1;function vn(e){cn.call(this,e),this._redraw=!1,this._dirty=new u}var yn=t.inherits(vn,cn),bn=cn.prototype,xn=new u;function wn(e,t,n){return xn.set(0,0,t,n).translate(-e[0],-e[1])}function _n(e,t){un.call(this,e,t);var n=this;n._hrefHandler=kn(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=kn(n,(function(e,t){n.handleTooltip(e,t,"mouseout"!==e.type)}))}yn.initialize=function(e,t,r,i,o,a){return this._options=a,this._canvas=n.canvas(1,1,a&&a.type),e&&(rn(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),bn.initialize.call(this,e,t,r,i,o)},yn.resize=function(e,t,n,r){return bn.resize.call(this,e,t,n,r),function(e,t,n,r,i,o){const a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),s=a?gn:i;e.width=t*s,e.height=n*s;for(const e in o)u[e]=o[e];a&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=s,u.setTransform(s,0,0,s,s*r[0],s*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},yn.canvas=function(){return this._canvas},yn.context=function(){return this._canvas?this._canvas.getContext("2d"):null},yn.dirty=function(e){var t=function(e,t){if(null==t)return e;for(var n=xn.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}(e.bounds,e.mark.group);this._dirty.union(t)},yn._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty;return t.save(),this._redraw||o.empty()?(this._redraw=!1,o=wn(n,r,i).expand(1)):o=function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(wn(n,r,i)),n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,o),t.restore(),this._dirty.clear(),this},yn.draw=function(e,n,r){var i=Wt[n.marktype];n.clip&&function(e,n){var r=n.clip;e.save(),t.isFunction(r)?(e.beginPath(),r(e),e.clip()):et(e,n.group)}(e,n),i.draw.call(this,e,n,r),n.clip&&e.restore()},yn.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var En=t.inherits(_n,un);function kn(e,t){return function(n){var r=n.target.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}}En.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&tn(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),un.prototype.initialize.call(this,e,t,n)},En.canvas=function(){return this._svg},En.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:kn(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},En.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};const Cn=(e,t,n)=>({role:e,"aria-roledescription":t,"aria-label":n||void 0}),Sn=t.toSet(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),An={axis:{desc:"axis",caption:function(e){const t=e.datum,n=t.orient,r=t.title?Tn(e):null,i=e.context.scales[t.scale].value,o=i.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(r?` titled '${r}'`:"")+` for a ${a.isDiscrete(o)?"discrete":o} scale with `+a.domainCaption(i,e)}},legend:{desc:"legend",caption:function(e){const n=e.datum,r=n.title?Tn(e):null,i=((n.type||"")+" legend").trim(),o=n.scales,u=Object.keys(o),s=e.context.scales[o[u[0]]].value;return((l=i).length?l[0].toUpperCase()+l.slice(1):l)+(r?` titled '${r}'`:"")+` for ${function(e){return(e=e.map(e=>e+("fill"===e||"stroke"===e?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+t.peek(e)}(u)} with ${a.domainCaption(s,e)}`;var l}},"title-text":{desc:"title",caption:e=>`Title text '${Pn(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Pn(e)}'`}},On={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function Mn(e,t){const n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(const t in On)e(On[t],void 0);else{const n=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===n?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||n+" mark")}}function Dn(e){return!1===e.aria?{"aria-hidden":!0}:Sn[e.role]?null:An[e.role]?function(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return Cn(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(e){return null}}(e,An[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some(e=>null!=e.description&&!1!==e.aria);return Cn(n?"graphics-object":"graphics-symbol",t+" mark container",e.description)}(e)}function Pn(e){return t.array(e.text).join(" ")}function Tn(e){try{return t.array(t.peek(e.items).items[0].text).join(" ")}catch(e){return null}}function Fn(e,t,n){var r,i,o="<"+e;if(t)for(r in t)null!=(i=t[r])&&(o+=" "+r+'="'+(i=(i+"").replace(/"/g,"&quot;"))+'"');return n&&(o+=" "+n),o+">"}function Nn(e){return"</"+e+">"}var jn={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Rn={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Bn=jn.xmlns;function Ln(e){cn.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var zn=t.inherits(Ln,cn),In=cn.prototype;function $n(e,t,n){var r,i,o;if("radial"===t.gradient){var a=nn(e,n++,"pattern",Bn);a.setAttribute("id","p_"+t.id),a.setAttribute("viewBox","0,0,1,1"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("preserveAspectRatio","xMidYMid slice"),(a=nn(a,0,"rect",Bn)).setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("fill","url("+Qn()+"#"+t.id+")"),(e=nn(e,n++,"radialGradient",Bn)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=nn(e,n++,"linearGradient",Bn)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(o=nn(e,r,"stop",Bn)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return rn(e,r),n}function Un(e,t,n){var r;return(e=nn(e,n,"clipPath",Bn)).setAttribute("id",t.id),t.path?(r=nn(e,0,"path",Bn)).setAttribute("d",t.path):((r=nn(e,0,"rect",Bn)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),rn(e,1),n+1}function qn(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Wn(e,t,n,r,i){var o,a=e._svg;if(!a&&(a=en(o=t.ownerDocument,r,Bn),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var u=en(o,"path",Bn);a.appendChild(u),u.__data__=e;var s=en(o,"g",Bn);a.appendChild(s),s.__data__=e;var l=en(o,"path",Bn);a.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(a.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}zn.initialize=function(e,t,n,r){return e&&(this._svg=nn(e,0,"svg",Bn),this._svg.setAttribute("class","marks"),rn(e,1),this._root=nn(this._svg,0,"g",Bn),rn(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),In.initialize.call(this,e,t,n,r)},zn.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),In.background.apply(this,arguments)},zn.resize=function(e,t,n,r){return In.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},zn.canvas=function(){return this._svg},zn.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in jn)e[t]=jn[t];var n=this._bgcolor?Fn("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Nn("rect"):"";return Fn("svg",e)+n+this._svg.innerHTML+Nn("svg")},zn._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),rn(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},zn.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=nn(t,0,"defs",Bn)),i=$n(r,n.gradient[e],i);for(e in n.clipping)r||(n.el=r=nn(t,0,"defs",Bn)),i=Un(r,n.clipping[e],i);r&&(0===i?(t.removeChild(r),n.el=null):rn(r,i))},zn._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},zn.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},zn.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},zn._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,o,a,u,s=++this._dirtyID;for(o=0,a=e.length;o<a;++o)(n=(t=e[o]).mark).marktype!==r&&(r=n.marktype,i=Wt[r]),n.zdirty&&n.dirty!==s&&(this._dirtyAll=!1,qn(t,s),n.items.forEach((function(e){e.dirty=s}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(u=n.items[0])._svg&&this._update(i,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==s&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,qn(t,s)),t._update=s));return!this._dirtyAll},zn.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this,o=this._svg,a=Wt[t.marktype],u=!1===t.interactive?"none":null,s="g"===a.tag,l=null,c=0;(r=Wn(t,e,n,"g",o)).setAttribute("class",on(t));const f=Dn(t);for(const e in f)Kn(r,e,f[e]);function d(e){var t=i.isDirty(e),n=Wn(e,r,l,a.tag,o);t&&(i._update(a,n,e),s&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;Le(n,(function(n){r=e.draw(t,n,r),++i})),rn(t,1+i)}(i,n,e)),l=n,++c}return s||r.style.setProperty("pointer-events",u),Kn(r,"clip-path",t.clip?nt(i,t,t.group):null),a.nested?t.items.length&&d(t.items[0]):Le(t,d),rn(r,c),r};var Hn=null,Vn=null,Gn={group:function(e,t,n){var r,i;Hn=r=t.childNodes[2],Vn=r.__values__,e.foreground(Xn,n,this),Vn=t.__values__,Hn=t.childNodes[1],e.content(Xn,n,this),Hn=i=t.childNodes[0],e.background(Xn,n,this);var o=!1===n.mark.interactive?"none":null;if(o!==Vn.events&&(r.style.setProperty("pointer-events",o),i.style.setProperty("pointer-events",o),Vn.events=o),n.strokeForeground&&n.stroke){const e=n.fill;r.style.removeProperty("display"),this.style(i,n),i.style.removeProperty("stroke"),e&&(n.fill=null),Vn=r.__values__,this.style(r,n),e&&(n.fill=e),Hn=null}else r.style.setProperty("display","none"),r.style.setProperty("fill","none")},image:function(e,t,n){!1===n.smooth?(Yn(t,"image-rendering","optimizeSpeed"),Yn(t,"image-rendering","pixelated")):Yn(t,"image-rendering",null)},text:function(e,n,r){var i,o,a,u,s=Ft(r);t.isArray(s)?(i=(o=s.map(e=>Nt(r,e))).join("\n"))!==Vn.text&&(rn(n,0),a=n.ownerDocument,u=Tt(r),o.forEach((e,t)=>{const i=en(a,"tspan",Bn);i.__data__=r,i.textContent=e,t&&(i.setAttribute("x",0),i.setAttribute("dy",u)),n.appendChild(i)}),Vn.text=i):(o=Nt(r,s))!==Vn.text&&(n.textContent=o,Vn.text=o),Yn(n,"font-family",jt(r)),Yn(n,"font-size",Pt(r)+"px"),Yn(n,"font-style",r.fontStyle),Yn(n,"font-variant",r.fontVariant),Yn(n,"font-weight",r.fontWeight)}};function Yn(e,t,n){n!==Vn[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Vn[t]=n)}function Xn(e,t,n){t!==Vn[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(Hn,e,t,n):Kn(Hn,e,t),Vn[e]=t)}function Kn(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Qn(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Jn(e){cn.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}zn._update=function(e,t,n){Hn=t,Vn=t.__values__,Mn(Xn,n),e.attr(Xn,n,this);var r=Gn[e.type];r&&r.call(this,e,t,n),Hn&&this.style(Hn,n)},zn.style=function(e,t){if(null!=t)for(const n in Rn){let r=t[n];if("font"===n&&(r=jt(t)),r===Vn[n])continue;const i=Rn[n];null==r?"fill"===i?e.style.setProperty(i,"none"):e.style.removeProperty(i):(c(r)&&(r=f(r,this._defs.gradient,Qn())),e.style.setProperty(i,r+"")),Vn[n]=r}};var Zn,er=t.inherits(Jn,cn),tr=cn.prototype;function nr(e,t,n,r){Zn[r||e]=t}function rr(e,t,n,r){if(null==e)return"";let i="";"bgrect"===n&&!1===t.interactive&&(i+="pointer-events: none; "),"bgfore"===n&&(!1===t.interactive&&(i+="pointer-events: none; "),i+="display: none; "),"image"===n&&!1===e.smooth&&(i+="image-rendering: optimizeSpeed; image-rendering: pixelated; "),"text"===n&&(i+="font-family: "+jt(e)+"; ",i+="font-size: "+Pt(e)+"px; ",e.fontStyle&&(i+="font-style: "+e.fontStyle+"; "),e.fontVariant&&(i+="font-variant: "+e.fontVariant+"; "),e.fontWeight&&(i+="font-weight: "+e.fontWeight+"; "));for(const t in Rn){let n=e[t];const o=Rn[t];null==n?"fill"===o&&(i+="fill: none; "):"transparent"!==n||"fill"!==o&&"stroke"!==o?(c(n)&&(n=f(n,r.gradient,"")),i+=o+": "+n+"; "):i+=o+": none; "}return i?'style="'+i.trim()+'"':null}function ir(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}er.resize=function(e,t,n,r){tr.resize.call(this,e,t,n,r);var i=this._origin,o=this._text,a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in jn)a[u]=jn[u];o.head=Fn("svg",a);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),o.bg=s?Fn("rect",{width:this._width,height:this._height,style:"fill: "+s+";"})+Nn("rect"):"",o.root=Fn("g",{transform:"translate("+i+")"}),o.foot=Nn("g")+Nn("svg"),this},er.background=function(){var e=tr.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},er.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},er._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},er.buildDefs=function(){var e,t,n,r,i,o=this._defs,a="";for(t in o.gradient){for(i=(n=o.gradient[t]).stops,"radial"===n.gradient?(a+=Fn(r="pattern",{id:"p_"+t,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a+=Fn("rect",{width:"1",height:"1",fill:"url(#"+t+")"})+Nn("rect"),a+=Nn(r),a+=Fn(r="radialGradient",{id:t,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):a+=Fn(r="linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<i.length;++e)a+=Fn("stop",{offset:i[e].offset,"stop-color":i[e].color})+Nn("stop");a+=Nn(r)}for(t in o.clipping)n=o.clipping[t],a+=Fn("clipPath",{id:t}),n.path?a+=Fn("path",{d:n.path})+Nn("path"):a+=Fn("rect",{x:0,y:0,width:n.width,height:n.height})+Nn("rect"),a+=Nn("clipPath");return a.length>0?Fn("defs")+a+Nn("defs"):""},er.attributes=function(e,t){return Zn={},Array.isArray(e)?e.forEach(e=>e(nr,t,this)):e(nr,t,this),Zn},er.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(e=>{e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},er.mark=function(e){var n,r=this,i=Wt[e.marktype],o=i.tag,a=this._defs,u="";function s(s){var l=r.href(s);if(l&&(u+=Fn("a",l)),n="g"!==o?rr(s,e,o,a):null,u+=Fn(o,r.attributes([Mn,i.attr],s),n),"text"===o){const e=Ft(s);if(t.isArray(e)){const t={x:0,dy:Tt(s)};for(let n=0;n<e.length;++n)u+=Fn("tspan",n?t:null)+ir(Nt(s,e[n]))+Nn("tspan")}else u+=ir(Nt(s,e))}else if("g"===o){const t=s.strokeForeground,n=s.fill,o=s.stroke;t&&o&&(s.stroke=null),u+=Fn("path",r.attributes(i.background,s),rr(s,e,"bgrect",a))+Nn("path"),u+=Fn("g",r.attributes(i.content,s))+r.markGroup(s)+Nn("g"),t&&o?(n&&(s.fill=null),s.stroke=o,u+=Fn("path",r.attributes(i.foreground,s),rr(s,e,"bgrect",a))+Nn("path"),n&&(s.fill=n)):u+=Fn("path",r.attributes(i.foreground,s),rr({},e,"bgfore",a))+Nn("path")}u+=Nn(o),l&&(u+=Nn("a"))}return"g"!==o&&!1===e.interactive&&(n='style="pointer-events: none;"'),u+=Fn("g",Object.assign({class:on(e),"clip-path":e.clip?nt(r,e,e.group):null},Dn(e)),n),i.nested?e.items&&e.items.length&&s(e.items[0]):Le(e,s),u+Nn("g")},er.markGroup=function(e){var t=this,n="";return Le(e,(function(e){n+=t.mark(e)})),n};var or={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},ar={};function ur(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const i=e.items,o=e.marktype,a=i.length;let u=0;if("group"===o)for(;u<a;++u)sr(i[u],t,n,r);else for(const e=Wt[o].isect;u<a;++u){let n=i[u];lr(n,t,e)&&r.push(n)}}return r}function sr(e,t,n,r){n&&n(e.mark)&&lr(e,t,Wt.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const a=e.x||0,u=e.y||0;t.translate(-a,-u);for(let e=0;e<o;++e)ur(i[e],t,n,r);t.translate(a,u)}return r}function lr(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}ar.canvas=ar.png={renderer:vn,headless:vn,handler:dn},ar.svg={renderer:Ln,headless:Jn,handler:_n},ar.none={};var cr=new u;function fr(e,n,r){return e===n||("path"===r?dr(e,n):e instanceof Date&&n instanceof Date?+e==+n:t.isNumber(e)&&t.isNumber(n)?Math.abs(e-n)<=1e-9:e&&n&&(t.isObject(e)||t.isObject(n))?null!=e&&null!=n&&function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!fr(e[n],t[n],n))return!1;return typeof e==typeof t}(e,n):e==n)}function dr(e,t){return fr(E(e),E(t))}e.Bounds=u,e.CanvasHandler=dn,e.CanvasRenderer=vn,e.Gradient=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}},e.GroupItem=h,e.Handler=un,e.Item=p,e.Marks=Wt,e.RenderType=or,e.Renderer=cn,e.ResourceLoader=m,e.SVGHandler=_n,e.SVGRenderer=Ln,e.SVGStringRenderer=Jn,e.Scenegraph=Qt,e.boundClip=function(e){var n=e.clip;if(t.isFunction(n))n(pe(cr.clear()));else{if(!n)return;cr.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(cr)},e.boundContext=pe,e.boundItem=Ht,e.boundMark=Gt,e.boundStroke=se,e.closeTag=Nn,e.domChild=nn,e.domClear=rn,e.domCreate=en,e.domFind=tn,e.font=Rt,e.fontFamily=jt,e.fontSize=Pt,e.intersect=function(e,n,r){const i=[],o=(new u).union(n),a=e.marktype;return a?ur(e,o,r,i):"group"===a?sr(e,o,r,i):t.error("Intersect scene must be mark node or group item.")},e.intersectBoxLine=Oe,e.intersectPath=ke,e.intersectPoint=Ce,e.intersectRule=Ae,e.lineHeight=Tt,e.multiLineOffset=function(e){const n=Ft(e);return(t.isArray(n)?n.length-1:0)*Tt(e)},e.openTag=Fn,e.pathCurves=x,e.pathEqual=dr,e.pathParse=E,e.pathRectangle=G,e.pathRender=N,e.pathSymbols=L,e.pathTrail=Y,e.point=an,e.renderModule=function(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(ar[e]=t,this):ar[e]},e.resetSVGClipId=function(){tt=1},e.sceneEqual=fr,e.sceneFromJSON=Kt,e.scenePickVisit=ze,e.sceneToJSON=Xt,e.sceneVisit=Le,e.sceneZOrder=Be,e.textMetrics=Ct,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Qx,Hx,Zx,Jx,ow)}));t(aw);var uw=n((function(e,t){!function(e,t,n,r){const i="top",o="left",a="right",u="end",s="row";function l(e){t.Transform.call(this,null,e)}function c(e,t,n){return t(e.bounds.clear(),e,n)}function f(e){t.Transform.call(this,0,e)}function d(e){t.Transform.call(this,null,e)}function p(e){t.Transform.call(this,null,e)}r.inherits(l,t.Transform).transform=function(e,t){var r,i=t.dataflow,o=e.mark,a=o.marktype,u=n.Marks[a],s=u.bound,l=o.bounds;if(u.nested)o.items.length&&i.dirty(o.items[0]),l=c(o,s),o.items.forEach((function(e){e.bounds.clear().union(l)}));else if("group"===a||e.modified())switch(t.visit(t.MOD,e=>i.dirty(e)),l.clear(),o.items.forEach(e=>l.union(c(e,s))),o.role){case"axis":case"legend":case"title":t.reflow()}else r=t.changed(t.REM),t.visit(t.ADD,e=>{l.union(c(e,s))}),t.visit(t.MOD,e=>{r=r||l.alignsWith(e.bounds),i.dirty(e),l.union(c(e,s))}),r&&(l.clear(),o.items.forEach(e=>l.union(e.bounds)));return n.boundClip(o),t.modifies("bounds")},f.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},r.inherits(f,t.Transform).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];return t||(e._signals[":vega_identifier:"]=t=e.add(0)),t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,e=>{e[i]||(e[i]=++r)}),n.set(this.value=r),t},r.inherits(d,t.Transform).transform=function(e,t){var r=this.value;r||((r=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=r.group),r.source=this.source,r.clip=e.clip,r.interactive=e.interactive,this.value=r);var i="group"===r.marktype?n.GroupItem:n.Item;return t.visit(t.ADD,e=>i.call(e,r)),(e.modified("clip")||e.modified("interactive"))&&(r.clip=e.clip,r.interactive=!!e.interactive,r.zdirty=!0,t.reflow()),r.items=t.source,t};var h=r.inherits(p,t.Transform),m={parity:e=>e.filter((e,t)=>t%2?e.opacity=0:1),greedy:(e,t)=>{var n;return e.filter((e,r)=>r&&g(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1))}};function g(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function v(e,t){for(var n,r=1,i=e.length,o=e[0].bounds;r<i;o=n,++r)if(g(o,n=e[r].bounds,t))return!0}function y(e){var t=e.bounds;return t.width()>1&&t.height()>1}function b(e){return e.forEach(e=>e.opacity=1),e}function x(e,t){return e.reflow(t.modified()).modifies("opacity")}function w(e){t.Transform.call(this,null,e)}h.transform=function(e,t){var o,a,u,s=m[e.method]||m.parity,l=t.materialize(t.SOURCE).source,c=e.separation||0;if(l&&l.length){if(!e.method)return e.modified("method")&&(b(l),t=x(t,e)),t;if((l=l.filter(y)).length){if(e.sort&&(l=l.slice().sort(e.sort)),o=b(l),t=x(t,e),o.length>=3&&v(o,c)){do{o=s(o,c)}while(o.length>=3&&v(o,c));o.length<3&&!r.peek(l).opacity&&(o.length>1&&(r.peek(o).opacity=0),r.peek(l).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(a=function(e,t,r){var o=e.range(),a=new n.Bounds;return t===i||"bottom"===t?a.set(o[0],-1/0,o[1],1/0):a.set(-1/0,o[0],1/0,o[1]),a.expand(r||1),e=>a.encloses(e.bounds)}(e.boundScale,e.boundOrient,+e.boundTolerance),l.forEach(e=>{a(e)||(e.opacity=0)})),u=o[0].mark.bounds.clear(),l.forEach(e=>{e.opacity&&u.union(e.bounds)}),t}}},r.inherits(w,t.Transform).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,e=>n.dirty(e)),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};const _=new n.Bounds;function E(e,t,n){return e[t]===n?0:(e[t]=n,1)}function k(e){var t=e.items[0].datum.orient;return t===o||t===a}function C(e,t,r,u){var s,l,c=t.items[0],f=c.datum,d=f.orient,p=null!=f.translate?f.translate:.5,h=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(f),m=c.range,g=c.offset,v=c.position,y=c.minExtent,b=c.maxExtent,x=f.title&&c.items[h[2]].items[0],w=c.titlePadding,k=c.bounds,C=x&&n.multiLineOffset(x),A=0,O=0;switch(_.clear().union(k),k.clear(),(s=h[0])>-1&&k.union(c.items[s].bounds),(s=h[1])>-1&&k.union(c.items[s].bounds),d){case i:A=v||0,O=-g,l=Math.max(y,Math.min(b,-k.y1)),k.add(0,-l).add(m,0),x&&S(e,x,l,w,C,0,-1,k);break;case o:A=-g,O=v||0,l=Math.max(y,Math.min(b,-k.x1)),k.add(-l,0).add(0,m),x&&S(e,x,l,w,C,1,-1,k);break;case a:A=r+g,O=v||0,l=Math.max(y,Math.min(b,k.x2)),k.add(0,0).add(l,m),x&&S(e,x,l,w,C,1,1,k);break;case"bottom":A=v||0,O=u+g,l=Math.max(y,Math.min(b,k.y2)),k.add(0,0).add(m,l),x&&S(e,x,l,w,0,0,1,k);break;default:A=c.x,O=c.y}return n.boundStroke(k.translate(A,O),c),E(c,"x",A+p)|E(c,"y",O+p)&&(c.bounds=_,e.dirty(c),c.bounds=k,e.dirty(c)),c.mark.bounds.clear().union(k)}function S(e,t,n,r,i,o,a,u){const s=t.bounds;if(t.auto){const u=a*(n+i+r);let l=0,c=0;e.dirty(t),o?l=(t.x||0)-(t.x=u):c=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(s.translate(-l,-c)),e.dirty(t)}u.union(s)}const A=(e,t)=>Math.floor(Math.min(e,t)),O=(e,t)=>Math.ceil(Math.max(e,t));function M(e){return(new n.Bounds).set(0,0,e.width||0,e.height||0)}function D(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function P(e,t,n){var i=r.isObject(e)?e[t]:e;return null!=i?i:void 0!==n?n:0}function T(e){return e<0?Math.ceil(-e):0}function F(e,t,n){var r,i,o,a,l,c,f,d,p,h,m,g=!n.nodirty,v="flush"===n.bounds?M:D,y=_.set(0,0,0,0),b=P(n.align,"column"),x=P(n.align,s),w=P(n.padding,"column"),E=P(n.padding,s),k=n.columns||t.length,C=k<0?1:Math.ceil(t.length/k),S=t.length,A=Array(S),O=Array(k),F=0,N=Array(S),j=Array(C),R=0,B=Array(S),L=Array(S),z=Array(S);for(i=0;i<k;++i)O[i]=0;for(i=0;i<C;++i)j[i]=0;for(i=0;i<S;++i)c=t[i],l=z[i]=v(c),c.x=c.x||0,B[i]=0,c.y=c.y||0,L[i]=0,o=i%k,a=~~(i/k),F=Math.max(F,f=Math.ceil(l.x2)),R=Math.max(R,d=Math.ceil(l.y2)),O[o]=Math.max(O[o],f),j[a]=Math.max(j[a],d),A[i]=w+T(l.x1),N[i]=E+T(l.y1),g&&e.dirty(t[i]);for(i=0;i<S;++i)i%k==0&&(A[i]=0),i<k&&(N[i]=0);if("each"===b)for(o=1;o<k;++o){for(m=0,i=o;i<S;i+=k)m<A[i]&&(m=A[i]);for(i=o;i<S;i+=k)A[i]=m+O[o-1]}else if("all"===b){for(m=0,i=0;i<S;++i)i%k&&m<A[i]&&(m=A[i]);for(i=0;i<S;++i)i%k&&(A[i]=m+F)}else for(b=!1,o=1;o<k;++o)for(i=o;i<S;i+=k)A[i]+=O[o-1];if("each"===x)for(a=1;a<C;++a){for(m=0,r=(i=a*k)+k;i<r;++i)m<N[i]&&(m=N[i]);for(i=a*k;i<r;++i)N[i]=m+j[a-1]}else if("all"===x){for(m=0,i=k;i<S;++i)m<N[i]&&(m=N[i]);for(i=k;i<S;++i)N[i]=m+R}else for(x=!1,a=1;a<C;++a)for(r=(i=a*k)+k;i<r;++i)N[i]+=j[a-1];for(p=0,i=0;i<S;++i)p=A[i]+(i%k?p:0),B[i]+=p-t[i].x;for(o=0;o<k;++o)for(h=0,i=o;i<S;i+=k)h+=N[i],L[i]+=h-t[i].y;if(b&&P(n.center,"column")&&C>1)for(i=0;i<S;++i)(p=(l="all"===b?F:O[i%k])-z[i].x2-t[i].x-B[i])>0&&(B[i]+=p/2);if(x&&P(n.center,s)&&1!==k)for(i=0;i<S;++i)(h=(l="all"===x?R:j[~~(i/k)])-z[i].y2-t[i].y-L[i])>0&&(L[i]+=h/2);for(i=0;i<S;++i)y.union(z[i].translate(B[i],L[i]));switch(p=P(n.anchor,"x"),h=P(n.anchor,"y"),P(n.anchor,"column")){case u:p-=y.width();break;case"middle":p-=y.width()/2}switch(P(n.anchor,s)){case u:h-=y.height();break;case"middle":h-=y.height()/2}for(p=Math.round(p),h=Math.round(h),y.clear(),i=0;i<S;++i)t[i].mark.bounds.clear();for(i=0;i<S;++i)(c=t[i]).x+=B[i]+=p,c.y+=L[i]+=h,y.union(c.mark.bounds.union(c.bounds.translate(B[i],L[i]))),g&&e.dirty(c);return y}function N(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function j(e,t){return e.bounds[t]}function R(e,t,n,r,i,o,a,u,s,l,c,f,d,p){var h,m,g,v,y,b,x,w,_,E=n.length,k=0,C=0;if(!E)return k;for(h=c;h<E;h+=f)n[h]&&(k=a(k,s(n[h],l)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=o,m=0,v=t.length;m<v;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(h=c,m=0,v=t.length;m<v;++m,h+=f){for(y=(b=t[m]).mark.bounds,g=h;g>=0&&null==(x=n[g]);g-=d);u?(w=null==p?x.x:Math.round(x.bounds.x1+p*x.bounds.width()),_=k):(w=k,_=null==p?x.y:Math.round(x.bounds.y1+p*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),_-(b.y||0))),b.x=w,b.y=_,e.dirty(b),C=a(C,y[l])}return C}function B(e,t,n,r,i,o){if(t){e.dirty(t);var a=n,u=n;r?a=Math.round(i.x1+o*i.width()):u=Math.round(i.y1+o*i.height()),t.bounds.translate(a-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=u,e.dirty(t)}}function L(e,t,n,r,s,l,c){const f=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),d=function(e,t){var n=-1/0;return e.forEach(e=>{null!=e.offset&&(n=Math.max(n,e.offset))}),n>-1/0?n:t}(e,f("offset",0)),p=f("anchor","start"),h=p===u?1:"middle"===p?.5:0,m={align:"each",bounds:f("bounds","flush"),columns:"vertical"===f("direction")?1:e.length,padding:f("margin",8),center:f("center"),nodirty:!0};switch(t){case o:m.anchor={x:Math.floor(r.x1)-d,column:u,y:h*(c||r.height()+2*r.y1),row:p};break;case a:m.anchor={x:Math.ceil(r.x2)+d,y:h*(c||r.height()+2*r.y1),row:p};break;case i:m.anchor={y:Math.floor(s.y1)-d,row:u,x:h*(l||s.width()+2*s.x1),column:p};break;case"bottom":m.anchor={y:Math.ceil(s.y2)+d,x:h*(l||s.width()+2*s.x1),column:p};break;case"top-left":m.anchor={x:d,y:d};break;case"top-right":m.anchor={x:l-d,y:d,column:u};break;case"bottom-left":m.anchor={x:d,y:c-d,row:u};break;case"bottom-right":m.anchor={x:l-d,y:c-d,column:u,row:u}}return m}function z(e,t){var r,i,s,l,c=t.items[0],f=c.datum,d=c.orient,p=c.bounds,h=c.x,m=c.y;return c._bounds?c._bounds.clear().union(p):c._bounds=p.clone(),p.clear(),function(e,t,n){var r=t.padding,i=r-n.x,s=r-n.y;if(t.datum.title){var l=t.items[1].items[0],c=l.anchor,f=t.titlePadding||0,d=r-l.x,p=r-l.y;switch(l.orient){case o:i+=Math.ceil(l.bounds.width())+f;break;case a:case"bottom":break;default:s+=l.bounds.height()+f}switch((i||s)&&$(e,n,i,s),l.orient){case o:p+=I(t,n,l,c,1,1);break;case a:d+=I(t,n,l,u,0,0)+f,p+=I(t,n,l,c,1,1);break;case"bottom":d+=I(t,n,l,c,0,0),p+=I(t,n,l,u,-1,0,1)+f;break;default:d+=I(t,n,l,c,0,0)}(d||p)&&$(e,l,d,p),(d=Math.round(l.bounds.x1-r))<0&&($(e,n,-d,0),$(e,l,-d,0))}else(i||s)&&$(e,n,i,s)}(e,c,c.items[0].items[0]),p=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(c,p),r=2*c.padding,i=2*c.padding,p.empty()||(r=Math.ceil(p.width()+r),i=Math.ceil(p.height()+i)),"symbol"===f.type&&(s=c.items[0].items[0].items[0].items,l=s.reduce((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e),{}),s.forEach(e=>{e.width=l[e.column],e.height=e.bounds.y2-e.y})),"none"!==d&&(c.x=h=0,c.y=m=0),c.width=r,c.height=i,n.boundStroke(p.set(h,m,h+r,m+i),c),c.mark.bounds.clear().union(p),c}function I(e,t,r,i,o,a,s){const l="symbol"!==e.datum.type,c=r.datum.vgrad,f=(!l||!a&&c||s?t:t.items[0]).bounds[o?"y2":"x2"]-e.padding,d=c&&a?f:0,p=c&&a?0:f,h=o<=0?0:n.multiLineOffset(r);return Math.round("start"===i?d:i===u?p-h:.5*(f-h))}function $(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function U(e){t.Transform.call(this,null,e)}function q(e,t,r){var s,l,c,f,d,p=t.items,h=Math.max(0,t.width||0),m=Math.max(0,t.height||0),g=(new n.Bounds).set(0,0,h,m),v=g.clone(),y=g.clone(),b=[];for(f=0,d=p.length;f<d;++f)switch((l=p[f]).role){case"axis":(k(l)?v:y).union(C(e,l,h,m));break;case"title":s=l;break;case"legend":b.push(z(e,l));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":v.union(l.bounds),y.union(l.bounds);break;default:g.union(l.bounds)}if(b.length){const t={};b.forEach(e=>{"none"!==(c=e.orient||a)&&(t[c]||(t[c]=[])).push(e)});for(let n in t){const i=t[n];F(e,i,L(i,n,r.legends,v,y,h,m))}b.forEach(t=>{const n=t.bounds;if(n.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=n,e.dirty(t)),r.autosize&&"fit"===r.autosize.type)switch(t.orient){case o:case a:g.add(n.x1,0).add(n.x2,0);break;case i:case"bottom":g.add(0,n.y1).add(0,n.y2)}else g.union(n)})}g.union(v).union(y),s&&g.union(function(e,t,n,r,s){var l,c=t.items[0],f=c.frame,d=c.orient,p=c.anchor,h=c.offset,m=c.padding,g=c.items[0].items[0],v=c.items[1]&&c.items[1].items[0],y=d===o||d===a?r:n,b=0,x=0,w=0,k=0,C=0;if("group"!==f?d===o?(b=s.y2,y=s.y1):d===a?(b=s.y1,y=s.y2):(b=s.x1,y=s.x2):d===o&&(b=r,y=0),l="start"===p?b:p===u?y:(b+y)/2,v&&v.text){switch(d){case i:case"bottom":C=g.bounds.height()+m;break;case o:k=g.bounds.width()+m;break;case a:k=-g.bounds.width()-m}_.clear().union(v.bounds),_.translate(k-(v.x||0),C-(v.y||0)),E(v,"x",k)|E(v,"y",C)&&(e.dirty(v),v.bounds.clear().union(_),v.mark.bounds.clear().union(_),e.dirty(v)),_.clear().union(v.bounds)}else _.clear();switch(_.union(g.bounds),d){case i:x=l,w=s.y1-_.height()-h;break;case o:x=s.x1-_.width()-h,w=l;break;case a:x=s.x2+_.width()+h,w=l;break;case"bottom":x=l,w=s.y2+h;break;default:x=c.x,w=c.y}return E(c,"x",x)|E(c,"y",w)&&(_.translate(x,w),e.dirty(c),c.bounds.clear().union(_),t.bounds.clear().union(_),e.dirty(c)),c.bounds}(e,s,h,m,g)),t.clip&&g.set(0,0,t.width||0,t.height||0),function(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let a=e._width,u=e._height,s=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,Math.ceil(n.x2-s)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1)),p=Math.max(0,Math.ceil(n.y2-f));if("padding"===i.contains){const t=e.padding();a-=t.left+t.right,u-=t.top+t.bottom}"none"===o?(l=0,d=0,s=a,f=u):"fit"===o?(s=Math.max(0,a-l-c),f=Math.max(0,u-d-p)):"fit-x"===o?(s=Math.max(0,a-l-c),u=f+d+p):"fit-y"===o?(a=s+l+c,f=Math.max(0,u-d-p)):"pad"===o&&(a=s+l+c,u=f+d+p),e._resizeView(a,u,s,f,[l,d],i.resize)}(e,t,g,r)}r.inherits(U,t.Transform).transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&function(e,t,n){var r,i,o,a,l,c,f,d=function(e){for(var t,n,r=e.items,i=r.length,o=0,a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<i;++o)if(n=(t=r[o]).items,"group"===t.marktype)switch(t.role){case"axis":case"legend":case"title":break;case"row-header":a.rowheaders.push(...n);break;case"row-footer":a.rowfooters.push(...n);break;case"column-header":a.colheaders.push(...n);break;case"column-footer":a.colfooters.push(...n);break;case"row-title":a.rowtitle=n[0];break;case"column-title":a.coltitle=n[0];break;default:a.marks.push(...n)}return a}(t),p=d.marks,h="flush"===n.bounds?N:j,m=n.offset,g=n.columns||p.length,v=g<0?1:Math.ceil(p.length/g),y=v*g;const b=F(e,p,n);d.rowheaders&&(c=P(n.headerBand,s,null),r=R(e,d.rowheaders,p,0,v,-P(m,"rowHeader"),A,0,h,"x1",0,g,1,c)),d.colheaders&&(c=P(n.headerBand,"column",null),i=R(e,d.colheaders,p,0,g,-P(m,"columnHeader"),A,1,h,"y1",0,1,g,c)),d.rowfooters&&(c=P(n.footerBand,s,null),o=R(e,d.rowfooters,p,0,v,P(m,"rowFooter"),O,0,h,"x2",g-1,g,1,c)),d.colfooters&&(c=P(n.footerBand,"column",null),a=R(e,d.colfooters,p,0,g,P(m,"columnFooter"),O,1,h,"y2",y-g,1,g,c)),d.rowtitle&&(l=P(n.titleAnchor,s),f=P(m,"rowTitle"),f=l===u?o+f:r-f,c=P(n.titleBand,s,.5),B(e,d.rowtitle,f,0,b,c)),d.coltitle&&(l=P(n.titleAnchor,"column"),f=P(m,"columnTitle"),f=l===u?a+f:i-f,c=P(n.titleBand,"column",.5),B(e,d.coltitle,f,1,b,c))}(n,t,e.layout),q(n,t,e)}),e.modified()&&t.reflow(),t},e.bound=l,e.identifier=f,e.mark=d,e.overlap=p,e.render=w,e.viewlayout=U,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,aw,Ix)}));t(uw);var sw=n((function(e,t){!function(e,t,n,r,i,o){function a(e){t.Transform.call(this,null,e)}function u(e){t.Transform.call(this,null,e)}function s(){return t.ingest({})}function l(e){return e.exit}function c(e){t.Transform.call(this,null,e)}function f(e){t.Transform.call(this,[],e)}r.inherits(a,t.Transform).transform=function(e,r){if(this.value&&!e.modified())return r.StopPropagation;var i=r.fork(r.NO_SOURCE|r.NO_FIELDS),o=this.value,a=e.scale,u=null==e.count?e.values?e.values.length:10:e.count,s=n.tickCount(a,u,e.minstep),l=e.format||n.tickFormat(a,s,e.formatSpecifier,e.formatType,!!e.values),c=e.values?n.validTicks(a,e.values,s):n.tickValues(a,s);return o&&(i.rem=o),o=c.map((function(e,n){return t.ingest({index:n/(c.length-1||1),value:e,label:l(e)})})),e.extra&&o.length&&o.push(t.ingest({index:-1,extra:{value:o[0].value},label:""})),i.source=o,i.add=o,this.value=o,i},r.inherits(u,t.Transform).transform=function(e,n){var i=n.dataflow,o=n.fork(n.NO_SOURCE|n.NO_FIELDS),a=e.item||s,u=e.key||t.tupleid,c=this.value;return r.isArray(o.encode)&&(o.encode=null),c&&(e.modified("key")||n.modified(u))&&r.error("DataJoin does not support modified key function or fields."),c||(n=n.addAll(),this.value=c=r.fastmap().test(l),c.lookup=function(e){return c.get(u(e))}),n.visit(n.ADD,(function(e){var t=u(e),n=c.get(t);n?n.exit?(c.empty--,o.add.push(n)):o.mod.push(n):(c.set(t,n=a(e)),o.add.push(n)),n.datum=e,n.exit=!1})),n.visit(n.MOD,(function(e){var t=u(e),n=c.get(t);n&&(n.datum=e,o.mod.push(n))})),n.visit(n.REM,(function(e){var t=u(e),n=c.get(t);e!==n.datum||n.exit||(o.rem.push(n),n.exit=!0,++c.empty)})),n.changed(n.ADD_MOD)&&o.modifies("datum"),e.clean&&c.empty>i.cleanThreshold&&i.runAfter(c.clean),o},r.inherits(c,t.Transform).transform=function(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,o=e.encoders,a=t.encode;if(r.isArray(a)){if(!n.changed()&&!a.every((function(e){return o[e]})))return t.StopPropagation;a=a[0],n.encode=null}var u="enter"===a,s=o.update||r.falsy,l=o.enter||r.falsy,c=o.exit||r.falsy,f=(a&&!u?o[a]:s)||r.falsy;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){l(t,e),s(t,e)})),n.modifies(l.output),n.modifies(s.output),f!==r.falsy&&f!==s&&(t.visit(t.ADD,(function(t){f(t,e)})),n.modifies(f.output))),t.changed(t.REM)&&c!==r.falsy&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),u||f!==r.falsy){var d=t.MOD|(e.modified()?t.REFLOW:0);u?(t.visit(d,(function(t){var r=l(t,e)||i;(f(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)):t.visit(d,(function(t){(f(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(f.output)}return n.changed()?n:t.StopPropagation},r.inherits(f,t.Transform).transform=function(e,i){if(null!=this.value&&!e.modified())return i.StopPropagation;var o,a,u,s,l,c=i.fork(i.NO_SOURCE|i.NO_FIELDS),f=this.value,d=e.type||n.SymbolLegend,p=e.scale,h=+e.limit,m=n.tickCount(p,null==e.count?5:e.count,e.minstep),g=!!e.values||d===n.SymbolLegend,v=e.format||n.labelFormat(p,m,d,e.formatSpecifier,e.formatType,g),y=e.values||n.labelValues(p,m);return f&&(c.rem=f),d===n.SymbolLegend?(h&&y.length>h?(i.dataflow.warn("Symbol legend count exceeds limit, filtering items."),f=y.slice(0,h-1),l=!0):f=y,r.isFunction(u=e.size)?(e.values||0!==p(f[0])||(f=f.slice(1)),s=f.reduce((function(t,n){return Math.max(t,u(n,e))}),0)):u=r.constant(s=u||8),f=f.map((function(n,r){return t.ingest({index:r,label:v(n,r,f),value:n,offset:s,size:u(n,e)})})),l&&(l=y[f.length],f.push(t.ingest({index:f.length,label:`${y.length-f.length} entries`,value:l,offset:s,size:u(l,e)})))):d===n.GradientLegend?(o=p.domain(),a=n.scaleFraction(p,o[0],r.peek(o)),y.length<3&&!e.values&&o[0]!==r.peek(o)&&(y=[o[0],r.peek(o)]),f=y.map((function(e,n){return t.ingest({index:n,label:v(e,n,y),value:e,perc:a(e)})}))):(u=y.length-1,a=n.labelFraction(p),f=y.map((function(e,n){return t.ingest({index:n,label:v(e,n,y),value:e,perc:n?a(e):0,perc2:n===u?1:a(y[n+1])})}))),c.source=f,c.add=f,this.value=f,c};var d=r.fastmap({line:y,"line-radial":function(e,t,n,r){return y(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:b,"arc-radial":function(e,t,n,r){return b(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:x,"curve-radial":function(e,t,n,r){return x(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),u=Math.sin(n),s=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(s?1:0)+" "+t*a+","+t*u+"L"+r*a+","+r*u},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*o+"C"+s*i+","+s*o+" "+s*a+","+s*u+" "+r*a+","+r*u}});function p(e){return e.source.x}function h(e){return e.source.y}function m(e){return e.target.x}function g(e){return e.target.y}function v(e){t.Transform.call(this,{},e)}function y(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function b(e,t,n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o)/2;return"M"+e+","+t+"A"+a+","+a+" "+180*Math.atan2(o,i)/Math.PI+" 0 1 "+n+","+r}function x(e,t,n,r){var i=n-e,o=r-t,a=.2*(i+o),u=.2*(o-i);return"M"+e+","+t+"C"+(e+a)+","+(t+u)+" "+(n+u)+","+(r-a)+" "+n+","+r}function w(e){t.Transform.call(this,null,e)}function _(e){return n.isContinuous(e)&&e!==n.Sequential}v.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},r.inherits(v,t.Transform).transform=function(e,t){var n=e.sourceX||p,i=e.sourceY||h,o=e.targetX||m,a=e.targetY||g,u=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",c=d.get(l+"-"+s)||d.get(l);return c||r.error("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[u]=c(n(e),i(e),o(e),a(e))})),t.reflow(e.modified()).modifies(u)},w.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},r.inherits(w,t.Transform).transform=function(e,t){var n,o,a,u=e.as||["startAngle","endAngle"],s=u[0],l=u[1],c=e.field||r.one,f=e.startAngle||0,d=null!=e.endAngle?e.endAngle:2*Math.PI,p=t.source,h=p.map(c),m=h.length,g=f,v=(d-f)/i.sum(h),y=i.range(m);for(e.sort&&y.sort((function(e,t){return h[e]-h[t]})),n=0;n<m;++n)a=h[y[n]],(o=p[y[n]])[s]=g,o[l]=g+=a*v;return this.value=h,t.reflow(e.modified()).modifies(u)};var E=r.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function k(e){t.Transform.call(this,null,e),this.modified(!0)}function C(e){var t,i=e.type,o="";return i===n.Sequential?n.Sequential+"-"+n.Linear:(function(e){const t=e.type;return n.isContinuous(t)&&t!==n.Time&&t!==n.UTC&&(e.scheme||e.range&&e.range.length&&e.range.every(r.isString))}(e)&&(o=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?n.Sequential+"-":3===t?n.Diverging+"-":""),(o+i||n.Linear).toLowerCase())}function S(e,t,i){var o=function(e,t,n){return t?(e.domain(A(e.type,t,n)),t.length):-1}(e,t.domainRaw,i);if(o>-1)return o;var a,u,s=t.domain,l=e.type,c=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===n.Linear||t===n.Pow||t===n.Sqrt)}(e);return s?(_(l)&&t.padding&&s[0]!==r.peek(s)&&(s=function(e,t,i,o,a,u){var s=Math.abs(r.peek(i)-i[0]),l=s/(s-2*o),c=e===n.Log?r.zoomLog(t,null,l):e===n.Sqrt?r.zoomPow(t,null,l,.5):e===n.Pow?r.zoomPow(t,null,l,a||1):e===n.Symlog?r.zoomSymlog(t,null,l,u||1):r.zoomLinear(t,null,l);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(l,s,t.range,t.padding,t.exponent,t.constant)),(c||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(a=(s=s.slice()).length-1||1,c&&(s[0]>0&&(s[0]=0),s[a]<0&&(s[a]=0)),null!=t.domainMin&&(s[0]=t.domainMin),null!=t.domainMax&&(s[a]=t.domainMax),null!=t.domainMid&&(((u=t.domainMid)<s[0]||u>s[a])&&i.warn("Scale domainMid exceeds domain min or max.",u),s.splice(a,0,u))),e.domain(A(l,s,i)),l===n.Ordinal&&e.unknown(t.domainImplicit?n.scaleImplicit:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&n.tickCount(e,t.nice)||null),s.length):0}function A(e,t,i){return n.isLogarithmic(e)&&Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&i.warn("Log scale domain includes zero: "+r.stringValue(t)),t}function O(e,t,i){var a=e.type,u=t.round||!1,s=t.range;if(null!=t.rangeStep)s=function(e,t,i){e!==n.Band&&e!==n.Point&&r.error("Only band and point scales support rangeStep.");var o=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,a=e===n.Point?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*n.bandSpace(i,a,o)]}(a,t,i);else if(t.scheme&&(s=function(e,t,i){var o,a,u=t.schemeExtent;return r.isArray(t.scheme)?a=n.interpolateColors(t.scheme,t.interpolate,t.interpolateGamma):(o=t.scheme.toLowerCase(),(a=n.scheme(o))||r.error("Unrecognized scheme name: "+t.scheme)),i=e===n.Threshold?i+1:e===n.BinOrdinal?i-1:e===n.Quantile||e===n.Quantize?+t.schemeCount||5:i,n.isInterpolating(e)?M(a,u,t.reverse):r.isFunction(a)?n.quantizeInterpolator(M(a,u),i):e===n.Ordinal?a:a.slice(0,i)}(a,t,i),r.isFunction(s))){if(e.interpolator)return e.interpolator(s);r.error(`Scale type ${a} does not support interpolating color schemes.`)}if(s&&n.isInterpolating(a))return e.interpolator(n.interpolateColors(D(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate(n.interpolate(t.interpolate,t.interpolateGamma)):r.isFunction(e.round)?e.round(u):r.isFunction(e.rangeRound)&&e.interpolate(u?o.interpolateRound:o.interpolate),s&&e.range(D(s,t.reverse))}function M(e,t,i){return r.isFunction(e)&&(t||i)?n.interpolateRange(e,D(t||[0,1],i)):e}function D(e,t){return t?e.slice().reverse():e}function P(e){t.Transform.call(this,null,e)}r.inherits(k,t.Transform).transform=function(e,t){var o=t.dataflow,a=this.value,u=C(e);for(u in a&&u===a.type||(this.value=a=n.scale(u)()),e)if(!E[u]){if("padding"===u&&_(a.type))continue;r.isFunction(a[u])?a[u](e[u]):o.warn("Unsupported scale property: "+u)}return O(a,e,function(e,t,o){let a=t.bins;if(a&&!r.isArray(a)){let t=e.domain(),n=t[0],o=r.peek(t),u=null==a.start?n:a.start,s=null==a.stop?o:a.stop,l=a.step;l||r.error("Scale bins parameter missing step property."),u<n&&(u=l*Math.ceil(n/l)),s>o&&(s=l*Math.floor(o/l)),a=i.range(u,s+l/2,l)}return a?e.bins=a:e.bins&&delete e.bins,e.type===n.BinOrdinal&&(a?t.domain||t.domainRaw||(e.domain(a),o=a.length):e.bins=e.domain()),o}(a,e,S(a,e,o))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},r.inherits(P,t.Transform).transform=function(e,n){var r=e.modified("sort")||n.changed(n.ADD)||n.modified(e.sort.fields)||n.modified("datum");return r&&n.source.sort(t.stableCompare(e.sort)),this.modified(r),n};var T=["y0","y1"];function F(e){t.Transform.call(this,null,e)}function N(e,t,n,r,i){for(var o,a=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(o=e[s])[r]=a,o[i]=a+=Math.abs(n(o))}function j(e,t,n,r,i){for(var o,a=1/e.sum,u=0,s=e.length,l=0,c=0;l<s;++l)(o=e[l])[r]=u,o[i]=u=a*(c+=Math.abs(n(o)))}function R(e,t,n,r,i){for(var o,a,u=0,s=0,l=e.length,c=0;c<l;++c)(o=+n(a=e[c]))<0?(a[r]=s,a[i]=s+=o):(a[r]=u,a[i]=u+=o)}F.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:T}]},r.inherits(F,t.Transform).transform=function(e,n){var i,o,a,u,s=e.as||T,l=s[0],c=s[1],f=t.stableCompare(e.sort),d=e.field||r.one,p="center"===e.offset?N:"normalize"===e.offset?j:R;for(i=function(e,t,n,r){var i,o,a,u,s,l,c,f,d,p=[],h=function(e){return e(s)};if(null==t)p.push(e.slice());else for(i={},o=0,a=e.length;o<a;++o)s=e[o],(c=i[l=t.map(h)])||(i[l]=c=[],p.push(c)),c.push(s);for(l=0,d=0,u=p.length;l<u;++l){for(o=0,f=0,a=(c=p[l]).length;o<a;++o)f+=Math.abs(r(c[o]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return p.max=d,p}(n.source,e.groupby,f,d),o=0,a=i.length,u=i.max;o<a;++o)p(i[o],u,d,l,c);return n.reflow(e.modified()).modifies(s)},e.axisticks=a,e.datajoin=u,e.encode=c,e.legendentries=f,e.linkpath=v,e.pie=w,e.scale=k,e.sortitems=P,e.stack=F,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,ow,Ix,Gx,tw)}));t(sw);var lw=n((function(e,t){!function(e){function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(e=function(e){return function(n,r){return t(e(n),r)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var r=n(t),i=r.right,o=r.left;function a(e,t){return[e,t]}function u(e){return null===e?NaN:+e}function s(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=u(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=u(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)}function l(e,t){var n=s(e,t);return n?Math.sqrt(n):n}function c(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var f=Array.prototype,d=f.slice,p=f.map;function h(e){return function(){return e}}function m(e){return e}function g(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var v=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function x(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=v?10:o>=y?5:o>=b?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=v?10:o>=y?5:o>=b?2:1)}function w(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=v?i*=10:o>=y?i*=5:o>=b&&(i*=2),t<e?-i:i}function _(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function E(e,t,n){if(null==n&&(n=u),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function k(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}function C(e){if(!(i=e.length))return[];for(var t=-1,n=k(e,S),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function S(e){return e.length}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.cross=function(e,t,n){var r,i,o,u,s=e.length,l=t.length,c=new Array(s*l);for(null==n&&(n=a),r=o=0;r<s;++r)for(u=e[r],i=0;i<l;++i,++o)c[o]=n(u,t[i]);return c},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=l,e.extent=c,e.histogram=function(){var e=m,t=c,n=_;function r(r){var o,a,u=r.length,s=new Array(u);for(o=0;o<u;++o)s[o]=e(r[o],o,r);var l=t(s),c=l[0],f=l[1],d=n(s,c,f);Array.isArray(d)||(d=w(c,f,d),d=g(Math.ceil(c/d)*d,f,d));for(var p=d.length;d[0]<=c;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var h,m=new Array(p+1);for(o=0;o<=p;++o)(h=m[o]=[]).x0=o>0?d[o-1]:c,h.x1=o<p?d[o]:f;for(o=0;o<u;++o)c<=(a=s[o])&&a<=f&&m[i(d,a,0,p)].push(r[o]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:h(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:h([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?h(d.call(e)):h(e),r):n},r},e.thresholdFreedmanDiaconis=function(e,n,r){return e=p.call(e,u).sort(t),Math.ceil((r-n)/(2*(E(e,.75)-E(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*l(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=_,e.max=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},e.mean=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=u(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=u(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},e.median=function(e,n){var r,i=e.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(r=u(e[o]))||a.push(r);else for(;++o<i;)isNaN(r=u(n(e[o],o,e)))||a.push(r);return E(a.sort(t),.5)},e.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},e.min=k,e.pairs=function(e,t){null==t&&(t=a);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.quantile=E,e.range=g,e.scan=function(e,n){if(r=e.length){var r,i,o=0,a=0,u=e[a];for(null==n&&(n=t);++o<r;)(n(i=e[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},e.shuffle=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.sum=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},e.ticks=function(e,t,n){var r,i,o,a,u=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=x(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(e+u)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(e-u)/a;return r&&o.reverse(),o},e.tickIncrement=x,e.tickStep=w,e.transpose=C,e.variance=s,e.zip=function(){return C(arguments)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(lw);var cw=n((function(e,t){!function(e,t){function n(){return new r}function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){o(i,e,this.t),o(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function o(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var a=1e-6,u=Math.PI,s=u/2,l=u/4,c=2*u,f=180/u,d=u/180,p=Math.abs,h=Math.atan,m=Math.atan2,g=Math.cos,v=Math.ceil,y=Math.exp,b=Math.log,x=Math.pow,w=Math.sin,_=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,k=Math.tan;function C(e){return e>1?0:e<-1?u:Math.acos(e)}function S(e){return e>1?s:e<-1?-s:Math.asin(e)}function A(e){return(e=w(e/2))*e}function O(){}function M(e,t){e&&P.hasOwnProperty(e.type)&&P[e.type](e,t)}var D={Feature:function(e,t){M(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)M(n[r].geometry,t)}},P={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){T(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)T(n[r],t,0)},Polygon:function(e,t){F(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)F(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)M(n[r],t)}};function T(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function F(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)T(e[n],t,1);t.polygonEnd()}function N(e,t){e&&D.hasOwnProperty(e.type)?D[e.type](e,t):M(e,t)}var j,R,B,L,z,I=n(),$=n(),U={point:O,lineStart:O,lineEnd:O,polygonStart:function(){I.reset(),U.lineStart=q,U.lineEnd=W},polygonEnd:function(){var e=+I;$.add(e<0?c+e:e),this.lineStart=this.lineEnd=this.point=O},sphere:function(){$.add(c)}};function q(){U.point=H}function W(){V(j,R)}function H(e,t){U.point=V,j=e,R=t,B=e*=d,L=g(t=(t*=d)/2+l),z=w(t)}function V(e,t){var n=(e*=d)-B,r=n>=0?1:-1,i=r*n,o=g(t=(t*=d)/2+l),a=w(t),u=z*a,s=L*o+u*g(i),c=u*r*w(i);I.add(m(c,s)),B=e,L=o,z=a}function G(e){return[m(e[1],e[0]),S(e[2])]}function Y(e){var t=e[0],n=e[1],r=g(n);return[r*g(t),r*w(t),w(n)]}function X(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function K(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Q(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function J(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Z(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ee,te,ne,re,ie,oe,ae,ue,se,le,ce,fe,de,pe,he,me,ge,ve,ye,be,xe,we,_e,Ee,ke,Ce,Se=n(),Ae={point:Oe,lineStart:De,lineEnd:Pe,polygonStart:function(){Ae.point=Te,Ae.lineStart=Fe,Ae.lineEnd=Ne,Se.reset(),U.polygonStart()},polygonEnd:function(){U.polygonEnd(),Ae.point=Oe,Ae.lineStart=De,Ae.lineEnd=Pe,I<0?(ee=-(ne=180),te=-(re=90)):Se>a?re=90:Se<-a&&(te=-90),le[0]=ee,le[1]=ne},sphere:function(){ee=-(ne=180),te=-(re=90)}};function Oe(e,t){se.push(le=[ee=e,ne=e]),t<te&&(te=t),t>re&&(re=t)}function Me(e,t){var n=Y([e*d,t*d]);if(ue){var r=K(ue,n),i=K([r[1],-r[0],0],r);Z(i),i=G(i);var o,a=e-ie,u=a>0?1:-1,s=i[0]*f*u,l=p(a)>180;l^(u*ie<s&&s<u*e)?(o=i[1]*f)>re&&(re=o):l^(u*ie<(s=(s+360)%360-180)&&s<u*e)?(o=-i[1]*f)<te&&(te=o):(t<te&&(te=t),t>re&&(re=t)),l?e<ie?je(ee,e)>je(ee,ne)&&(ne=e):je(e,ne)>je(ee,ne)&&(ee=e):ne>=ee?(e<ee&&(ee=e),e>ne&&(ne=e)):e>ie?je(ee,e)>je(ee,ne)&&(ne=e):je(e,ne)>je(ee,ne)&&(ee=e)}else se.push(le=[ee=e,ne=e]);t<te&&(te=t),t>re&&(re=t),ue=n,ie=e}function De(){Ae.point=Me}function Pe(){le[0]=ee,le[1]=ne,Ae.point=Oe,ue=null}function Te(e,t){if(ue){var n=e-ie;Se.add(p(n)>180?n+(n>0?360:-360):n)}else oe=e,ae=t;U.point(e,t),Me(e,t)}function Fe(){U.lineStart()}function Ne(){Te(oe,ae),U.lineEnd(),p(Se)>a&&(ee=-(ne=180)),le[0]=ee,le[1]=ne,ue=null}function je(e,t){return(t-=e)<0?t+360:t}function Re(e,t){return e[0]-t[0]}function Be(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Le={sphere:O,point:ze,lineStart:$e,lineEnd:We,polygonStart:function(){Le.lineStart=He,Le.lineEnd=Ve},polygonEnd:function(){Le.lineStart=$e,Le.lineEnd=We}};function ze(e,t){e*=d;var n=g(t*=d);Ie(n*g(e),n*w(e),w(t))}function Ie(e,t,n){++ce,de+=(e-de)/ce,pe+=(t-pe)/ce,he+=(n-he)/ce}function $e(){Le.point=Ue}function Ue(e,t){e*=d;var n=g(t*=d);Ee=n*g(e),ke=n*w(e),Ce=w(t),Le.point=qe,Ie(Ee,ke,Ce)}function qe(e,t){e*=d;var n=g(t*=d),r=n*g(e),i=n*w(e),o=w(t),a=m(E((a=ke*o-Ce*i)*a+(a=Ce*r-Ee*o)*a+(a=Ee*i-ke*r)*a),Ee*r+ke*i+Ce*o);fe+=a,me+=a*(Ee+(Ee=r)),ge+=a*(ke+(ke=i)),ve+=a*(Ce+(Ce=o)),Ie(Ee,ke,Ce)}function We(){Le.point=ze}function He(){Le.point=Ge}function Ve(){Ye(we,_e),Le.point=ze}function Ge(e,t){we=e,_e=t,e*=d,t*=d,Le.point=Ye;var n=g(t);Ee=n*g(e),ke=n*w(e),Ce=w(t),Ie(Ee,ke,Ce)}function Ye(e,t){e*=d;var n=g(t*=d),r=n*g(e),i=n*w(e),o=w(t),a=ke*o-Ce*i,u=Ce*r-Ee*o,s=Ee*i-ke*r,l=E(a*a+u*u+s*s),c=S(l),f=l&&-c/l;ye+=f*a,be+=f*u,xe+=f*s,fe+=c,me+=c*(Ee+(Ee=r)),ge+=c*(ke+(ke=i)),ve+=c*(Ce+(Ce=o)),Ie(Ee,ke,Ce)}function Xe(e){return function(){return e}}function Ke(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Qe(e,t){return[p(e)>u?e+Math.round(-e/c)*c:e,t]}function Je(e,t,n){return(e%=c)?t||n?Ke(et(e),tt(t,n)):et(e):t||n?tt(t,n):Qe}function Ze(e){return function(t,n){return[(t+=e)>u?t-c:t<-u?t+c:t,n]}}function et(e){var t=Ze(e);return t.invert=Ze(-e),t}function tt(e,t){var n=g(e),r=w(e),i=g(t),o=w(t);function a(e,t){var a=g(t),u=g(e)*a,s=w(e)*a,l=w(t),c=l*n+u*r;return[m(s*i-c*o,u*n-l*r),S(c*i+s*o)]}return a.invert=function(e,t){var a=g(t),u=g(e)*a,s=w(e)*a,l=w(t),c=l*i-s*o;return[m(s*i+l*o,u*n+c*r),S(c*n-u*r)]},a}function nt(e){function t(t){return(t=e(t[0]*d,t[1]*d))[0]*=f,t[1]*=f,t}return e=Je(e[0]*d,e[1]*d,e.length>2?e[2]*d:0),t.invert=function(t){return(t=e.invert(t[0]*d,t[1]*d))[0]*=f,t[1]*=f,t},t}function rt(e,t,n,r,i,o){if(n){var a=g(t),u=w(t),s=r*n;null==i?(i=t+r*c,o=t-s/2):(i=it(a,i),o=it(a,o),(r>0?i<o:i>o)&&(i+=r*c));for(var l,f=i;r>0?f>o:f<o;f-=s)l=G([a,-u*g(f),-u*w(f)]),e.point(l[0],l[1])}}function it(e,t){(t=Y(t))[0]-=e,Z(t);var n=C(-t[1]);return((-t[2]<0?-n:n)+c-a)%c}function ot(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:O,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function at(e,t){return p(e[0]-t[0])<a&&p(e[1]-t[1])<a}function ut(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function st(e,t,n,r,i){var o,a,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(at(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else u.push(n=new ut(r,e,null,!0)),s.push(n.o=new ut(r,null,n,!1)),u.push(n=new ut(a,e,null,!1)),s.push(n.o=new ut(a,null,n,!0))}})),u.length){for(s.sort(t),lt(u),lt(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var l,c,f=u[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function lt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}Qe.invert=Qe;var ct=n();function ft(e){return p(e[0])<=u?e[0]:_(e[0])*((p(e[0])+u)%c-u)}function dt(e,t){var n=ft(t),r=t[1],i=w(r),o=[w(n),-g(n),0],f=0,d=0;ct.reset(),1===i?r=s+a:-1===i&&(r=-s-a);for(var p=0,h=e.length;p<h;++p)if(y=(v=e[p]).length)for(var v,y,b=v[y-1],x=ft(b),_=b[1]/2+l,E=w(_),k=g(_),C=0;C<y;++C,x=O,E=D,k=P,b=A){var A=v[C],O=ft(A),M=A[1]/2+l,D=w(M),P=g(M),T=O-x,F=T>=0?1:-1,N=F*T,j=N>u,R=E*D;if(ct.add(m(R*F*w(N),k*P+R*g(N))),f+=j?T+F*c:T,j^x>=n^O>=n){var B=K(Y(b),Y(A));Z(B);var L=K(o,B);Z(L);var z=(j^T>=0?-1:1)*S(L[2]);(r>z||r===z&&(B[0]||B[1]))&&(d+=j^T>=0?1:-1)}}return(f<-a||f<a&&ct<-a)^1&d}function pt(e,n,r,i){return function(o){var a,u,s,l=n(o),c=ot(),f=n(c),d=!1,p={point:h,lineStart:g,lineEnd:v,polygonStart:function(){p.point=y,p.lineStart=b,p.lineEnd=x,u=[],a=[]},polygonEnd:function(){p.point=h,p.lineStart=g,p.lineEnd=v,u=t.merge(u);var e=dt(a,i);u.length?(d||(o.polygonStart(),d=!0),st(u,mt,e,r,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),u=a=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(t,n){e(t,n)&&o.point(t,n)}function m(e,t){l.point(e,t)}function g(){p.point=m,l.lineStart()}function v(){p.point=h,l.lineEnd()}function y(e,t){s.push([e,t]),f.point(e,t)}function b(){f.lineStart(),s=[]}function x(){y(s[0][0],s[0][1]),f.lineEnd();var e,t,n,r,i=f.clean(),l=c.result(),p=l.length;if(s.pop(),a.push(s),s=null,p)if(1&i){if((t=(n=l[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else p>1&&2&i&&l.push(l.pop().concat(l.shift())),u.push(l.filter(ht))}return p}}function ht(e){return e.length>1}function mt(e,t){return((e=e.x)[0]<0?e[1]-s-a:s-e[1])-((t=t.x)[0]<0?t[1]-s-a:s-t[1])}var gt=pt((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,l){var c=o>0?u:-u,f=p(o-n);p(f-u)<a?(e.point(n,r=(r+l)/2>0?s:-s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(c,r),e.point(o,r),t=0):i!==c&&f>=u&&(p(n-i)<a&&(n-=i*a),p(o-c)<a&&(o-=c*a),r=function(e,t,n,r){var i,o,u=w(e-n);return p(u)>a?h((w(t)*(o=g(r))*w(n)-w(r)*(i=g(t))*w(e))/(i*o*u)):(t+r)/2}(n,r,o,l),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(c,r),t=0),e.point(n=o,r=l),i=c},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*s,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(p(e[0]-t[0])>a){var o=e[0]<t[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-u,-s]);function vt(e){var t=g(e),n=6*d,r=t>0,i=p(t)>a;function o(e,n){return g(e)*g(n)>t}function s(e,n,r){var i=[1,0,0],o=K(Y(e),Y(n)),s=X(o,o),l=o[0],c=s-l*l;if(!c)return!r&&e;var f=t*s/c,d=-t*l/c,h=K(i,o),m=J(i,f);Q(m,J(o,d));var g=h,v=X(m,g),y=X(g,g),b=v*v-y*(X(m,m)-1);if(!(b<0)){var x=E(b),w=J(g,(-v-x)/y);if(Q(w,m),w=G(w),!r)return w;var _,k=e[0],C=n[0],S=e[1],A=n[1];C<k&&(_=k,k=C,C=_);var O=C-k,M=p(O-u)<a;if(!M&&A<S&&(_=S,S=A,A=_),M||O<a?M?S+A>0^w[1]<(p(w[0]-k)<a?S:A):S<=w[1]&&w[1]<=A:O>u^(k<=w[0]&&w[0]<=C)){var D=J(g,(-v+x)/y);return Q(D,m),[w,G(D)]}}}function l(t,n){var i=r?e:u-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return pt(o,(function(e){var t,n,c,f,d;return{lineStart:function(){f=c=!1,d=1},point:function(p,h){var m,g=[p,h],v=o(p,h),y=r?v?0:l(p,h):v?l(p+(p<0?u:-u),h):0;if(!t&&(f=c=v)&&e.lineStart(),v!==c&&(!(m=s(t,g))||at(t,m)||at(g,m))&&(g[0]+=a,g[1]+=a,v=o(g[0],g[1])),v!==c)d=0,v?(e.lineStart(),m=s(g,t),e.point(m[0],m[1])):(m=s(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(i&&t&&r^v){var b;y&n||!(b=s(g,t,!0))||(d=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1])))}!v||t&&at(t,g)||e.point(g[0],g[1]),t=g,c=v,n=y},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return d|(f&&c)<<1}}}),(function(t,r,i,o){rt(o,e,n,i,t,r)}),r?[0,-e]:[-u,e-u])}function yt(e,n,r,i){function o(t,o){return e<=t&&t<=r&&n<=o&&o<=i}function u(t,o,a,u){var l=0,f=0;if(null==t||(l=s(t,a))!==(f=s(o,a))||c(t,o)<0^a>0)do{u.point(0===l||3===l?e:r,l>1?i:n)}while((l=(l+a+4)%4)!==f);else u.point(o[0],o[1])}function s(t,i){return p(t[0]-e)<a?i>0?0:3:p(t[0]-r)<a?i>0?2:1:p(t[1]-n)<a?i>0?1:0:i>0?3:2}function l(e,t){return c(e.x,t.x)}function c(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var s,c,f,d,p,h,m,g,v,y,b,x=a,w=ot(),_={point:E,lineStart:function(){_.point=k,c&&c.push(f=[]),y=!0,v=!1,m=g=NaN},lineEnd:function(){s&&(k(d,p),h&&v&&w.rejoin(),s.push(w.result())),_.point=E,v&&x.lineEnd()},polygonStart:function(){x=w,s=[],c=[],b=!0},polygonEnd:function(){var n=function(){for(var t=0,n=0,r=c.length;n<r;++n)for(var o,a,u=c[n],s=1,l=u.length,f=u[0],d=f[0],p=f[1];s<l;++s)o=d,a=p,f=u[s],d=f[0],p=f[1],a<=i?p>i&&(d-o)*(i-a)>(p-a)*(e-o)&&++t:p<=i&&(d-o)*(i-a)<(p-a)*(e-o)&&--t;return t}(),r=b&&n,o=(s=t.merge(s)).length;(r||o)&&(a.polygonStart(),r&&(a.lineStart(),u(null,null,1,a),a.lineEnd()),o&&st(s,l,n,u,a),a.polygonEnd()),x=a,s=c=f=null}};function E(e,t){o(e,t)&&x.point(e,t)}function k(t,a){var u=o(t,a);if(c&&f.push([t,a]),y)d=t,p=a,h=u,y=!1,u&&(x.lineStart(),x.point(t,a));else if(u&&v)x.point(t,a);else{var s=[m=Math.max(-1e9,Math.min(1e9,m)),g=Math.max(-1e9,Math.min(1e9,g))],l=[t=Math.max(-1e9,Math.min(1e9,t)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,i,o){var a,u=e[0],s=e[1],l=0,c=1,f=t[0]-u,d=t[1]-s;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=r-s,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(e[0]=u+l*f,e[1]=s+l*d),c<1&&(t[0]=u+c*f,t[1]=s+c*d),!0}}}}}(s,l,e,n,r,i)?u&&(x.lineStart(),x.point(t,a),b=!1):(v||(x.lineStart(),x.point(s[0],s[1])),x.point(l[0],l[1]),u||x.lineEnd(),b=!1)}m=t,g=a,v=u}return _}}var bt,xt,wt,_t=n(),Et={sphere:O,point:O,lineStart:function(){Et.point=Ct,Et.lineEnd=kt},lineEnd:O,polygonStart:O,polygonEnd:O};function kt(){Et.point=Et.lineEnd=O}function Ct(e,t){bt=e*=d,xt=w(t*=d),wt=g(t),Et.point=St}function St(e,t){e*=d;var n=w(t*=d),r=g(t),i=p(e-bt),o=g(i),a=r*w(i),u=wt*n-xt*r*o,s=xt*n+wt*r*o;_t.add(m(E(a*a+u*u),s)),bt=e,xt=n,wt=r}function At(e){return _t.reset(),N(e,Et),+_t}var Ot=[null,null],Mt={type:"LineString",coordinates:Ot};function Dt(e,t){return Ot[0]=e,Ot[1]=t,At(Mt)}var Pt={Feature:function(e,t){return Ft(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Ft(n[r].geometry,t))return!0;return!1}},Tt={Sphere:function(){return!0},Point:function(e,t){return Nt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Nt(n[r],t))return!0;return!1},LineString:function(e,t){return jt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(jt(n[r],t))return!0;return!1},Polygon:function(e,t){return Rt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Rt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Ft(n[r],t))return!0;return!1}};function Ft(e,t){return!(!e||!Tt.hasOwnProperty(e.type))&&Tt[e.type](e,t)}function Nt(e,t){return 0===Dt(e,t)}function jt(e,t){for(var n,r,i,o=0,a=e.length;o<a;o++){if(0===(r=Dt(e[o],t)))return!0;if(o>0&&(i=Dt(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<1e-12*i)return!0;n=r}return!1}function Rt(e,t){return!!dt(e.map(Bt),Lt(t))}function Bt(e){return(e=e.map(Lt)).pop(),e}function Lt(e){return[e[0]*d,e[1]*d]}function zt(e,n,r){var i=t.range(e,n-a,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function It(e,n,r){var i=t.range(e,n-a,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function $t(){var e,n,r,i,o,u,s,l,c,f,d,h,m=10,g=m,y=90,b=360,x=2.5;function w(){return{type:"MultiLineString",coordinates:_()}}function _(){return t.range(v(i/y)*y,r,y).map(d).concat(t.range(v(l/b)*b,s,b).map(h)).concat(t.range(v(n/m)*m,e,m).filter((function(e){return p(e%y)>a})).map(c)).concat(t.range(v(u/g)*g,o,g).filter((function(e){return p(e%b)>a})).map(f))}return w.lines=function(){return _().map((function(e){return{type:"LineString",coordinates:e}}))},w.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(r).reverse().slice(1),h(l).reverse().slice(1))]}},w.extent=function(e){return arguments.length?w.extentMajor(e).extentMinor(e):w.extentMinor()},w.extentMajor=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),l>s&&(e=l,l=s,s=e),w.precision(x)):[[i,l],[r,s]]},w.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],u=+t[0][1],o=+t[1][1],n>e&&(t=n,n=e,e=t),u>o&&(t=u,u=o,o=t),w.precision(x)):[[n,u],[e,o]]},w.step=function(e){return arguments.length?w.stepMajor(e).stepMinor(e):w.stepMinor()},w.stepMajor=function(e){return arguments.length?(y=+e[0],b=+e[1],w):[y,b]},w.stepMinor=function(e){return arguments.length?(m=+e[0],g=+e[1],w):[m,g]},w.precision=function(t){return arguments.length?(x=+t,c=zt(u,o,90),f=It(n,e,x),d=zt(l,s,90),h=It(i,r,x),w):x},w.extentMajor([[-180,-90+a],[180,90-a]]).extentMinor([[-180,-80-a],[180,80+a]])}function Ut(e){return e}var qt,Wt,Ht,Vt,Gt=n(),Yt=n(),Xt={point:O,lineStart:O,lineEnd:O,polygonStart:function(){Xt.lineStart=Kt,Xt.lineEnd=Zt},polygonEnd:function(){Xt.lineStart=Xt.lineEnd=Xt.point=O,Gt.add(p(Yt)),Yt.reset()},result:function(){var e=Gt/2;return Gt.reset(),e}};function Kt(){Xt.point=Qt}function Qt(e,t){Xt.point=Jt,qt=Ht=e,Wt=Vt=t}function Jt(e,t){Yt.add(Vt*e-Ht*t),Ht=e,Vt=t}function Zt(){Jt(qt,Wt)}var en,tn,nn,rn,on=1/0,an=on,un=-on,sn=un,ln={point:function(e,t){e<on&&(on=e),e>un&&(un=e),t<an&&(an=t),t>sn&&(sn=t)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var e=[[on,an],[un,sn]];return un=sn=-(an=on=1/0),e}},cn=0,fn=0,dn=0,pn=0,hn=0,mn=0,gn=0,vn=0,yn=0,bn={point:xn,lineStart:wn,lineEnd:kn,polygonStart:function(){bn.lineStart=Cn,bn.lineEnd=Sn},polygonEnd:function(){bn.point=xn,bn.lineStart=wn,bn.lineEnd=kn},result:function(){var e=yn?[gn/yn,vn/yn]:mn?[pn/mn,hn/mn]:dn?[cn/dn,fn/dn]:[NaN,NaN];return cn=fn=dn=pn=hn=mn=gn=vn=yn=0,e}};function xn(e,t){cn+=e,fn+=t,++dn}function wn(){bn.point=_n}function _n(e,t){bn.point=En,xn(nn=e,rn=t)}function En(e,t){var n=e-nn,r=t-rn,i=E(n*n+r*r);pn+=i*(nn+e)/2,hn+=i*(rn+t)/2,mn+=i,xn(nn=e,rn=t)}function kn(){bn.point=xn}function Cn(){bn.point=An}function Sn(){On(en,tn)}function An(e,t){bn.point=On,xn(en=nn=e,tn=rn=t)}function On(e,t){var n=e-nn,r=t-rn,i=E(n*n+r*r);pn+=i*(nn+e)/2,hn+=i*(rn+t)/2,mn+=i,gn+=(i=rn*e-nn*t)*(nn+e),vn+=i*(rn+t),yn+=3*i,xn(nn=e,rn=t)}function Mn(e){this._context=e}Mn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,c)}},result:O};var Dn,Pn,Tn,Fn,Nn,jn=n(),Rn={point:O,lineStart:function(){Rn.point=Bn},lineEnd:function(){Dn&&Ln(Pn,Tn),Rn.point=O},polygonStart:function(){Dn=!0},polygonEnd:function(){Dn=null},result:function(){var e=+jn;return jn.reset(),e}};function Bn(e,t){Rn.point=Ln,Pn=Fn=e,Tn=Nn=t}function Ln(e,t){Fn-=e,Nn-=t,jn.add(E(Fn*Fn+Nn*Nn)),Fn=e,Nn=t}function zn(){this._string=[]}function In(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function $n(e){return function(t){var n=new Un;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Un(){}function qn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),N(n,e.stream(ln)),t(ln.result()),null!=r&&e.clipExtent(r),e}function Wn(e,t,n){return qn(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,u])}),n)}function Hn(e,t,n){return Wn(e,[[0,0],t],n)}function Vn(e,t,n){return qn(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function Gn(e,t,n){return qn(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}zn.prototype={_radius:4.5,_circle:In(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=In(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Un.prototype={constructor:Un,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yn=g(30*d);function Xn(e,t){return+t?function(e,t){function n(r,i,o,u,s,l,c,f,d,h,g,v,y,b){var x=c-r,w=f-i,_=x*x+w*w;if(_>4*t&&y--){var k=u+h,C=s+g,A=l+v,O=E(k*k+C*C+A*A),M=S(A/=O),D=p(p(A)-1)<a||p(o-d)<a?(o+d)/2:m(C,k),P=e(D,M),T=P[0],F=P[1],N=T-r,j=F-i,R=w*N-x*j;(R*R/_>t||p((x*N+w*j)/_-.5)>.3||u*h+s*g+l*v<Yn)&&(n(r,i,o,u,s,l,T,F,D,k/=O,C/=O,A,y,b),b.point(T,F),n(T,F,D,k,C,A,c,f,d,h,g,v,y,b))}}return function(t){var r,i,o,a,u,s,l,c,f,d,p,h,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=x},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=Y([r,i]),a=e(r,i);n(c,f,l,d,p,h,c=a[0],f=a[1],l=r,d=o[0],p=o[1],h=o[2],16,t),t.point(c,f)}function b(){m.point=g,t.lineEnd()}function x(){v(),m.point=w,m.lineEnd=_}function w(e,t){y(r=e,t),i=c,o=f,a=d,u=p,s=h,m.point=y}function _(){n(c,f,l,d,p,h,i,o,r,a,u,s,16,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return $n({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Kn=$n({point:function(e,t){this.stream.point(e*d,t*d)}});function Qn(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}function Jn(e,t,n,r,i,o){var a=g(o),u=w(o),s=a*e,l=u*e,c=a/e,f=u/e,d=(u*n-a*t)/e,p=(u*t+a*n)/e;function h(e,o){return[s*(e*=r)-l*(o*=i)+t,n-l*e-s*o]}return h.invert=function(e,t){return[r*(c*e-f*t+d),i*(p-f*e-c*t)]},h}function Zn(e){return er((function(){return e}))()}function er(e){var t,n,r,i,o,a,u,s,l,c,p=150,h=480,m=250,g=0,v=0,y=0,b=0,x=0,w=0,_=1,k=1,C=null,S=gt,A=null,O=Ut,M=.5;function D(e){return s(e[0]*d,e[1]*d)}function P(e){return(e=s.invert(e[0],e[1]))&&[e[0]*f,e[1]*f]}function T(){var e=Jn(p,0,0,_,k,w).apply(null,t(g,v)),r=(w?Jn:Qn)(p,h-e[0],m-e[1],_,k,w);return n=Je(y,b,x),u=Ke(t,r),s=Ke(n,u),a=Xn(u,M),F()}function F(){return l=c=null,D}return D.stream=function(e){return l&&c===e?l:l=Kn(function(e){return $n({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(O(c=e)))))},D.preclip=function(e){return arguments.length?(S=e,C=void 0,F()):S},D.postclip=function(e){return arguments.length?(O=e,A=r=i=o=null,F()):O},D.clipAngle=function(e){return arguments.length?(S=+e?vt(C=e*d):(C=null,gt),F()):C*f},D.clipExtent=function(e){return arguments.length?(O=null==e?(A=r=i=o=null,Ut):yt(A=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),F()):null==A?null:[[A,r],[i,o]]},D.scale=function(e){return arguments.length?(p=+e,T()):p},D.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],T()):[h,m]},D.center=function(e){return arguments.length?(g=e[0]%360*d,v=e[1]%360*d,T()):[g*f,v*f]},D.rotate=function(e){return arguments.length?(y=e[0]%360*d,b=e[1]%360*d,x=e.length>2?e[2]%360*d:0,T()):[y*f,b*f,x*f]},D.angle=function(e){return arguments.length?(w=e%360*d,T()):w*f},D.reflectX=function(e){return arguments.length?(_=e?-1:1,T()):_<0},D.reflectY=function(e){return arguments.length?(k=e?-1:1,T()):k<0},D.precision=function(e){return arguments.length?(a=Xn(u,M=e*e),F()):E(M)},D.fitExtent=function(e,t){return Wn(D,e,t)},D.fitSize=function(e,t){return Hn(D,e,t)},D.fitWidth=function(e,t){return Vn(D,e,t)},D.fitHeight=function(e,t){return Gn(D,e,t)},function(){return t=e.apply(this,arguments),D.invert=t.invert&&P,T()}}function tr(e){var t=0,n=u/3,r=er(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*d,n=e[1]*d):[t*f,n*f]},i}function nr(e,t){var n=w(e),r=(n+w(t))/2;if(p(r)<a)return function(e){var t=g(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,S(n*t)]},n}(e);var i=1+n*(2*r-n),o=E(i)/r;function s(e,t){var n=E(i-2*r*w(t))/r;return[n*w(e*=r),o-n*g(e)]}return s.invert=function(e,t){var n=o-t,a=m(e,p(n))*_(n);return n*r<0&&(a-=u*_(e)*_(n)),[a/r,S((i-(e*e+n*n)*r*r)/(2*r))]},s}function rr(){return tr(nr).scale(155.424).center([0,33.6442])}function ir(){return rr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function or(e){return function(t,n){var r=g(t),i=g(n),o=e(r*i);return[o*i*w(t),o*w(n)]}}function ar(e){return function(t,n){var r=E(t*t+n*n),i=e(r),o=w(i),a=g(i);return[m(t*o,r*a),S(r&&n*o/r)]}}var ur=or((function(e){return E(2/(1+e))}));ur.invert=ar((function(e){return 2*S(e/2)}));var sr=or((function(e){return(e=C(e))&&e/w(e)}));function lr(e,t){return[e,b(k((s+t)/2))]}function cr(e){var t,n,r,i=Zn(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function f(){var o=u*a(),s=i(nt(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===lr?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),f()):a()},i.translate=function(e){return arguments.length?(s(e),f()):s()},i.center=function(e){return arguments.length?(o(e),f()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),f()):null==c?null:[[c,t],[n,r]]},f()}function fr(e){return k((s+e)/2)}function dr(e,t){var n=g(e),r=e===t?w(e):b(n/g(t))/b(fr(t)/fr(e)),i=n*x(fr(e),r)/r;if(!r)return lr;function o(e,t){i>0?t<-s+a&&(t=-s+a):t>s-a&&(t=s-a);var n=i/x(fr(t),r);return[n*w(r*e),i-n*g(r*e)]}return o.invert=function(e,t){var n=i-t,o=_(r)*E(e*e+n*n),a=m(e,p(n))*_(n);return n*r<0&&(a-=u*_(e)*_(n)),[a/r,2*h(x(i/o,1/r))-s]},o}function pr(e,t){return[e,t]}function hr(e,t){var n=g(e),r=e===t?w(e):(n-g(t))/(t-e),i=n/r+e;if(p(r)<a)return pr;function o(e,t){var n=i-t,o=r*e;return[n*w(o),i-n*g(o)]}return o.invert=function(e,t){var n=i-t,o=m(e,p(n))*_(n);return n*r<0&&(o-=u*_(e)*_(n)),[o/r,i-_(r)*E(e*e+n*n)]},o}sr.invert=ar((function(e){return e})),lr.invert=function(e,t){return[e,2*h(y(t))-s]},pr.invert=pr;var mr=1.340264,gr=-.081106,vr=893e-6,yr=.003796,br=E(3)/2;function xr(e,t){var n=S(br*w(t)),r=n*n,i=r*r*r;return[e*g(n)/(br*(mr+3*gr*r+i*(7*vr+9*yr*r))),n*(mr+gr*r+i*(vr+yr*r))]}function wr(e,t){var n=g(t),r=g(e)*n;return[n*w(e)/r,w(t)/r]}function _r(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Er(e,t){return[g(t)*w(e),w(t)]}function kr(e,t){var n=g(t),r=1+g(e)*n;return[n*w(e)/r,w(t)/r]}function Cr(e,t){return[b(k((s+t)/2)),-e]}xr.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(mr+gr*i+o*(vr+yr*i))-t)/(mr+3*gr*i+o*(7*vr+9*yr*i)))*r)*i*i,!(p(n)<1e-12));++a);return[br*e*(mr+3*gr*i+o*(7*vr+9*yr*i))/g(r),S(w(r)/br)]},wr.invert=ar(h),_r.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,u=o*o;r-=n=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-t)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(p(n)>a&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Er.invert=ar(S),kr.invert=ar((function(e){return 2*h(e)})),Cr.invert=function(e,t){return[-t,2*h(y(e))-s]},e.geoAlbers=ir,e.geoAlbersUsa=function(){var e,t,n,r,i,o,u=ir(),s=rr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=rr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function f(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function d(){return e=t=null,f}return f.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:u).invert(e)},f.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([u.stream(t=n),s.stream(n),l.stream(n)])},f.precision=function(e){return arguments.length?(u.precision(e),s.precision(e),l.precision(e),d()):u.precision()},f.scale=function(e){return arguments.length?(u.scale(e),s.scale(.35*e),l.scale(e),f.translate(u.translate())):u.scale()},f.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),o=+e[0],f=+e[1];return n=u.translate(e).clipExtent([[o-.455*t,f-.238*t],[o+.455*t,f+.238*t]]).stream(c),r=s.translate([o-.307*t,f+.201*t]).clipExtent([[o-.425*t+a,f+.12*t+a],[o-.214*t-a,f+.234*t-a]]).stream(c),i=l.translate([o-.205*t,f+.212*t]).clipExtent([[o-.214*t+a,f+.166*t+a],[o-.115*t-a,f+.234*t-a]]).stream(c),d()},f.fitExtent=function(e,t){return Wn(f,e,t)},f.fitSize=function(e,t){return Hn(f,e,t)},f.fitWidth=function(e,t){return Vn(f,e,t)},f.fitHeight=function(e,t){return Gn(f,e,t)},f.scale(1070)},e.geoArea=function(e){return $.reset(),N(e,U),2*$},e.geoAzimuthalEqualArea=function(){return Zn(ur).scale(124.75).clipAngle(179.999)},e.geoAzimuthalEqualAreaRaw=ur,e.geoAzimuthalEquidistant=function(){return Zn(sr).scale(79.4188).clipAngle(179.999)},e.geoAzimuthalEquidistantRaw=sr,e.geoBounds=function(e){var t,n,r,i,o,a,u;if(re=ne=-(ee=te=1/0),se=[],N(e,Ae),n=se.length){for(se.sort(Re),t=1,o=[r=se[0]];t<n;++t)Be(r,(i=se[t])[0])||Be(r,i[1])?(je(r[0],i[1])>je(r[0],r[1])&&(r[1]=i[1]),je(i[0],r[1])>je(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(u=je(r[1],i[0]))>a&&(a=u,ee=i[0],ne=r[1])}return se=le=null,ee===1/0||te===1/0?[[NaN,NaN],[NaN,NaN]]:[[ee,te],[ne,re]]},e.geoCentroid=function(e){ce=fe=de=pe=he=me=ge=ve=ye=be=xe=0,N(e,Le);var t=ye,n=be,r=xe,i=t*t+n*n+r*r;return i<1e-12&&(t=me,n=ge,r=ve,fe<a&&(t=de,n=pe,r=he),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[m(n,t)*f,S(r/E(i))*f]},e.geoCircle=function(){var e,t,n=Xe([0,0]),r=Xe(90),i=Xe(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=f,n[1]*=f}};function a(){var a=n.apply(this,arguments),u=r.apply(this,arguments)*d,s=i.apply(this,arguments)*d;return e=[],t=Je(-a[0]*d,-a[1]*d,0).invert,rt(o,u,s,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Xe([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:Xe(+e),a):r},a.precision=function(e){return arguments.length?(i="function"==typeof e?e:Xe(+e),a):i},a},e.geoClipAntimeridian=gt,e.geoClipCircle=vt,e.geoClipExtent=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=yt(r,i,o,a)(t=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],e=t=null,n):[[r,i],[o,a]]}}},e.geoClipRectangle=yt,e.geoConicConformal=function(){return tr(dr).scale(109.5).parallels([30,30])},e.geoConicConformalRaw=dr,e.geoConicEqualArea=rr,e.geoConicEqualAreaRaw=nr,e.geoConicEquidistant=function(){return tr(hr).scale(131.154).center([0,13.9389])},e.geoConicEquidistantRaw=hr,e.geoContains=function(e,t){return(e&&Pt.hasOwnProperty(e.type)?Pt[e.type]:Ft)(e,t)},e.geoDistance=Dt,e.geoEqualEarth=function(){return Zn(xr).scale(177.158)},e.geoEqualEarthRaw=xr,e.geoEquirectangular=function(){return Zn(pr).scale(152.63)},e.geoEquirectangularRaw=pr,e.geoGnomonic=function(){return Zn(wr).scale(144.049).clipAngle(60)},e.geoGnomonicRaw=wr,e.geoGraticule=$t,e.geoGraticule10=function(){return $t()()},e.geoIdentity=function(){var e,t,n,r,i,o,a,u=1,s=0,l=0,c=1,p=1,h=0,m=null,v=1,y=1,b=$n({point:function(e,t){var n=E([e,t]);this.stream.point(n[0],n[1])}}),x=Ut;function _(){return v=u*c,y=u*p,o=a=null,E}function E(n){var r=n[0]*v,i=n[1]*y;if(h){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+s,i+l]}return E.invert=function(n){var r=n[0]-s,i=n[1]-l;if(h){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/v,i/y]},E.stream=function(e){return o&&a===e?o:o=b(x(a=e))},E.postclip=function(e){return arguments.length?(x=e,m=n=r=i=null,_()):x},E.clipExtent=function(e){return arguments.length?(x=null==e?(m=n=r=i=null,Ut):yt(m=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),_()):null==m?null:[[m,n],[r,i]]},E.scale=function(e){return arguments.length?(u=+e,_()):u},E.translate=function(e){return arguments.length?(s=+e[0],l=+e[1],_()):[s,l]},E.angle=function(n){return arguments.length?(t=w(h=n%360*d),e=g(h),_()):h*f},E.reflectX=function(e){return arguments.length?(c=e?-1:1,_()):c<0},E.reflectY=function(e){return arguments.length?(p=e?-1:1,_()):p<0},E.fitExtent=function(e,t){return Wn(E,e,t)},E.fitSize=function(e,t){return Hn(E,e,t)},E.fitWidth=function(e,t){return Vn(E,e,t)},E.fitHeight=function(e,t){return Gn(E,e,t)},E},e.geoInterpolate=function(e,t){var n=e[0]*d,r=e[1]*d,i=t[0]*d,o=t[1]*d,a=g(r),u=w(r),s=g(o),l=w(o),c=a*g(n),p=a*w(n),h=s*g(i),v=s*w(i),y=2*S(E(A(o-r)+a*s*A(i-n))),b=w(y),x=y?function(e){var t=w(e*=y)/b,n=w(y-e)/b,r=n*c+t*h,i=n*p+t*v,o=n*u+t*l;return[m(i,r)*f,m(o,E(r*r+i*i))*f]}:function(){return[n*f,r*f]};return x.distance=y,x},e.geoLength=At,e.geoMercator=function(){return cr(lr).scale(961/c)},e.geoMercatorRaw=lr,e.geoNaturalEarth1=function(){return Zn(_r).scale(175.295)},e.geoNaturalEarth1Raw=_r,e.geoOrthographic=function(){return Zn(Er).scale(249.5).clipAngle(90+a)},e.geoOrthographicRaw=Er,e.geoPath=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),N(e,n(r))),r.result()}return o.area=function(e){return N(e,n(Xt)),Xt.result()},o.measure=function(e){return N(e,n(Rn)),Rn.result()},o.bounds=function(e){return N(e,n(ln)),ln.result()},o.centroid=function(e){return N(e,n(bn)),bn.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Ut):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new zn):new Mn(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},e.geoProjection=Zn,e.geoProjectionMutator=er,e.geoRotation=nt,e.geoStereographic=function(){return Zn(kr).scale(250).clipAngle(142)},e.geoStereographicRaw=kr,e.geoStream=N,e.geoTransform=function(e){return{stream:$n(e)}},e.geoTransverseMercator=function(){var e=cr(Cr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},e.geoTransverseMercatorRaw=Cr,Object.defineProperty(e,"__esModule",{value:!0})}(t,lw)}));t(cw);var fw=n((function(e,t){!function(e){function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(e=function(e){return function(n,r){return t(e(n),r)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var r=n(t),i=r.right,o=r.left;function a(e,t){return[e,t]}function u(e){return null===e?NaN:+e}function s(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=u(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=u(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)}function l(e,t){var n=s(e,t);return n?Math.sqrt(n):n}function c(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var f=Array.prototype,d=f.slice,p=f.map;function h(e){return function(){return e}}function m(e){return e}function g(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var v=Math.sqrt(50),y=Math.sqrt(10),b=Math.sqrt(2);function x(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=v?10:o>=y?5:o>=b?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=v?10:o>=y?5:o>=b?2:1)}function w(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=v?i*=10:o>=y?i*=5:o>=b&&(i*=2),t<e?-i:i}function _(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function E(e,t,n){if(null==n&&(n=u),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function k(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}function C(e){if(!(i=e.length))return[];for(var t=-1,n=k(e,S),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function S(e){return e.length}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.cross=function(e,t,n){var r,i,o,u,s=e.length,l=t.length,c=new Array(s*l);for(null==n&&(n=a),r=o=0;r<s;++r)for(u=e[r],i=0;i<l;++i,++o)c[o]=n(u,t[i]);return c},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=l,e.extent=c,e.histogram=function(){var e=m,t=c,n=_;function r(r){var o,a,u=r.length,s=new Array(u);for(o=0;o<u;++o)s[o]=e(r[o],o,r);var l=t(s),c=l[0],f=l[1],d=n(s,c,f);Array.isArray(d)||(d=w(c,f,d),d=g(Math.ceil(c/d)*d,f,d));for(var p=d.length;d[0]<=c;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var h,m=new Array(p+1);for(o=0;o<=p;++o)(h=m[o]=[]).x0=o>0?d[o-1]:c,h.x1=o<p?d[o]:f;for(o=0;o<u;++o)c<=(a=s[o])&&a<=f&&m[i(d,a,0,p)].push(r[o]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:h(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:h([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?h(d.call(e)):h(e),r):n},r},e.thresholdFreedmanDiaconis=function(e,n,r){return e=p.call(e,u).sort(t),Math.ceil((r-n)/(2*(E(e,.75)-E(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*l(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=_,e.max=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},e.mean=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=u(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=u(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},e.median=function(e,n){var r,i=e.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(r=u(e[o]))||a.push(r);else for(;++o<i;)isNaN(r=u(n(e[o],o,e)))||a.push(r);return E(a.sort(t),.5)},e.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},e.min=k,e.pairs=function(e,t){null==t&&(t=a);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.quantile=E,e.range=g,e.scan=function(e,n){if(r=e.length){var r,i,o=0,a=0,u=e[a];for(null==n&&(n=t);++o<r;)(n(i=e[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},e.shuffle=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.sum=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},e.ticks=function(e,t,n){var r,i,o,a,u=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=x(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(e+u)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(e-u)/a;return r&&o.reverse(),o},e.tickIncrement=x,e.tickStep=w,e.transpose=C,e.variance=s,e.zip=function(){return C(arguments)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(fw);var dw=n((function(e,t){!function(e,t,n){var r=Math.abs,i=Math.atan,o=Math.atan2,a=Math.cos,u=Math.exp,s=Math.floor,l=Math.log,c=Math.max,f=Math.min,d=Math.pow,p=Math.round,h=Math.sign||function(e){return e>0?1:e<0?-1:0},m=Math.sin,g=Math.tan,v=1e-6,y=Math.PI,b=y/2,x=y/4,w=Math.SQRT1_2,_=M(2),E=M(y),k=2*y,C=180/y,S=y/180;function A(e){return e>1?b:e<-1?-b:Math.asin(e)}function O(e){return e>1?0:e<-1?y:Math.acos(e)}function M(e){return e>0?Math.sqrt(e):0}function D(e){return(u(e)-u(-e))/2}function P(e){return(u(e)+u(-e))/2}function T(e){var t=g(e/2),n=2*l(a(e/2))/(t*t);function i(e,t){var r=a(e),i=a(t),o=m(t),u=i*r,s=-((1-u?l((1+u)/2)/(1-u):-.5)+n/(1+u));return[s*i*m(e),s*o]}return i.invert=function(t,i){var u,s=M(t*t+i*i),c=-e/2,f=50;if(!s)return[0,0];do{var d=c/2,p=a(d),h=m(d),g=h/p,y=-l(r(p));c-=u=(2/g*y-n*g-s)/(-y/(h*h)+1-n/(2*p*p))*(p<0?.7:1)}while(r(u)>v&&--f>0);var b=m(c);return[o(t*b,s*a(c)),A(i*b/s)]},i}function F(e,t){var n=a(t),r=function(e){return e?e/Math.sin(e):1}(O(n*a(e/=2)));return[2*n*m(e)*r,m(t)*r]}function N(e){var t=m(e),n=a(e),i=e>=0?1:-1,u=g(i*e),s=(1+t-n)/2;function l(e,r){var l=a(r),c=a(e/=2);return[(1+l)*m(e),(i*r>-o(c,u)-.001?0:10*-i)+s+m(r)*n-(1+l)*t*c]}return l.invert=function(e,l){var c=0,f=0,d=50;do{var p=a(c),h=m(c),g=a(f),y=m(f),b=1+g,x=b*h-e,w=s+y*n-b*t*p-l,_=b*p/2,E=-h*y,k=t*b*h/2,C=n*g+t*p*y,S=E*k-C*_,A=(w*E-x*C)/S/2,O=(x*k-w*_)/S;r(O)>2&&(O/=2),c-=A,f-=O}while((r(A)>v||r(O)>v)&&--d>0);return i*f>-o(a(c),u)-.001?[2*c,f]:null},l}function j(e,t){var n=g(t/2),r=M(1-n*n),i=1+r*a(e/=2),o=m(e)*r/i,u=n/i,s=o*o,l=u*u;return[4/3*o*(3+s-3*l),4/3*u*(3+3*s-l)]}F.invert=function(e,t){if(!(e*e+4*t*t>y*y+v)){var n=e,i=t,o=25;do{var u,s=m(n),l=m(n/2),c=a(n/2),f=m(i),d=a(i),p=m(2*i),h=f*f,g=d*d,b=l*l,x=1-g*c*c,w=x?O(d*c)*M(u=1/x):u=0,_=2*w*d*l-e,E=w*f-t,k=u*(g*b+w*d*c*h),C=u*(.5*s*p-2*w*f*l),S=.25*u*(p*l-w*f*g*s),A=u*(h*c+w*b*d),D=C*S-A*k;if(!D)break;var P=(E*C-_*A)/D,T=(_*S-E*k)/D;n-=P,i-=T}while((r(P)>v||r(T)>v)&&--o>0);return[n,i]}},j.invert=function(e,t){if(t*=3/8,!(e*=3/8)&&r(t)>1)return null;var n=1+e*e+t*t,i=M((n-M(n*n-4*t*t))/2),u=A(i)/3,s=i?function(e){return l(e+M(e*e-1))}(r(t/i))/3:function(e){return l(e+M(e*e+1))}(r(e))/3,c=a(u),f=P(s),d=f*f-c*c;return[2*h(e)*o(D(s)*c,.25-d),2*h(t)*o(f*m(u),.25+d)]};var R=M(8),B=l(1+_);function L(e,t){var n=r(t);return n<x?[e,l(g(x+t/2))]:[e*a(n)*(2*_-1/m(n)),h(t)*(2*_*(n-x)-l(g(n/2)))]}function z(e){var n=2*y/e;function u(e,i){var u=t.geoAzimuthalEquidistantRaw(e,i);if(r(e)>b){var s=o(u[1],u[0]),l=M(u[0]*u[0]+u[1]*u[1]),c=n*p((s-b)/n)+b,f=o(m(s-=c),2-a(s));s=c+A(y/l*m(f))-f,u[0]=l*a(s),u[1]=l*m(s)}return u}return u.invert=function(e,r){var u=M(e*e+r*r);if(u>b){var s=o(r,e),l=n*p((s-b)/n)+b,c=s>l?-1:1,f=u*a(l-s),d=1/g(c*O((f-y)/M(y*(y-2*f)+u*u)));s=l+2*i((d+c*M(d*d-3))/3),e=u*a(s),r=u*m(s)}return t.geoAzimuthalEquidistantRaw.invert(e,r)},u}function I(e,n){if(arguments.length<2&&(n=e),1===n)return t.geoAzimuthalEqualAreaRaw;if(n===1/0)return $;function r(r,i){var o=t.geoAzimuthalEqualAreaRaw(r/n,i);return o[0]*=e,o}return r.invert=function(r,i){var o=t.geoAzimuthalEqualAreaRaw.invert(r/e,i);return o[0]*=n,o},r}function $(e,t){return[e*a(t)/a(t/=2),2*m(t)]}function U(e,t,n){var i,o,a,u=100;n=void 0===n?0:+n,t=+t;do{(o=e(n))===(a=e(n+v))&&(a=o+v),n-=i=-1*v*(o-t)/(o-a)}while(u-- >0&&r(i)>v);return u<0?NaN:n}function q(e,t,n){return void 0===t&&(t=40),void 0===n&&(n=1e-12),function(i,o,a,u){var s,l,c;a=void 0===a?0:+a,u=void 0===u?0:+u;for(var f=0;f<t;f++){var d=e(a,u),p=d[0]-i,h=d[1]-o;if(r(p)<n&&r(h)<n)break;var m=p*p+h*h;if(m>s)a-=l/=2,u-=c/=2;else{s=m;var g=(a>0?-1:1)*n,v=(u>0?-1:1)*n,y=e(a+g,u),b=e(a,u+v),x=(y[0]-d[0])/g,w=(y[1]-d[1])/g,_=(b[0]-d[0])/v,E=(b[1]-d[1])/v,k=E*x-w*_,C=(r(k)<.5?.5:1)/k;if(a+=l=(h*_-p*E)*C,u+=c=(p*w-h*x)*C,r(l)<n&&r(c)<n)break}}return[a,u]}}function W(){var e=I(1.68,2);function t(t,n){if(t+n<-1.4){var r=(t-n+1.6)*(t+n+1.4)/8;t+=r,n-=.8*r*m(n+y/2)}var i=e(t,n),o=(1-a(t*n))/12;return i[1]<0&&(i[0]*=1+o),i[1]>0&&(i[1]*=1+o/1.5*i[0]*i[0]),i}return t.invert=q(t),t}function H(e,t){var n,i=e*m(t),o=30;do{t-=n=(t+m(t)-i)/(1+a(t))}while(r(n)>v&&--o>0);return t/2}function V(e,t,n){function r(r,i){return[e*r*a(i=H(n,i)),t*m(i)]}return r.invert=function(r,i){return i=A(i/t),[r/(e*a(i)),A((2*i+m(2*i))/n)]},r}L.invert=function(e,t){if((o=r(t))<B)return[e,2*i(u(t))-b];var n,o,s=x,c=25;do{var f=a(s/2),d=g(s/2);s-=n=(R*(s-x)-l(d)-o)/(R-f*f/(2*d))}while(r(n)>1e-12&&--c>0);return[e/(a(s)*(R-1/m(s))),h(t)*s]},$.invert=function(e,t){var n=2*A(t/2);return[e*a(n/2)/a(n),n]};var G=V(_/b,_,y),Y=2.00276,X=1.11072;function K(e,t){var n=H(y,t);return[Y*e/(1/a(t)+X/a(n)),(t+_*m(n))/Y]}function Q(e){var n=0,r=t.geoProjectionMutator(e),i=r(n);return i.parallel=function(e){return arguments.length?r(n=e*S):n*C},i}function J(e,t){return[e*a(t),t]}function Z(e){if(!e)return J;var t=1/g(e);function n(n,r){var i=t+e-r,o=i?n*a(r)/i:i;return[i*m(o),t-i*a(o)]}return n.invert=function(n,r){var i=M(n*n+(r=t-r)*r),u=t+e-i;return[i/a(u)*o(n,r),u]},n}function ee(e){function t(t,n){var r=b-n,i=r?t*e*m(r)/r:r;return[r*m(i)/e,b-r*a(i)]}return t.invert=function(t,n){var r=t*e,i=b-n,a=M(r*r+i*i),u=o(r,i);return[(a?a/m(a):1)*u/e,b-a]},t}K.invert=function(e,t){var n,i,o=Y*t,u=t<0?-x:x,s=25;do{i=o-_*m(u),u-=n=(m(2*u)+2*u-y*m(i))/(2*a(2*u)+2+y*a(i)*_*a(u))}while(r(n)>v&&--s>0);return i=o-_*m(u),[e*(1/a(i)+X/a(u))/Y,i]},J.invert=function(e,t){return[e/a(t),t]};var te=V(1,4/y,y);function ne(e,t,n,i,u,s){var l,c=a(s);if(r(e)>1||r(s)>1)l=O(n*u+t*i*c);else{var f=m(e/2),d=m(s/2);l=2*A(M(f*f+t*i*d*d))}return r(l)>v?[l,o(i*m(s),t*u-n*i*c)]:[0,0]}function re(e,t,n){return O((e*e+t*t-n*n)/(2*e*t))}function ie(e){return e-2*y*s((e+y)/(2*y))}function oe(e,t,n){for(var r,i=[[e[0],e[1],m(e[1]),a(e[1])],[t[0],t[1],m(t[1]),a(t[1])],[n[0],n[1],m(n[1]),a(n[1])]],o=i[2],u=0;u<3;++u,o=r)r=i[u],o.v=ne(r[1]-o[1],o[3],o[2],r[3],r[2],r[0]-o[0]),o.point=[0,0];var s=re(i[0].v[0],i[2].v[0],i[1].v[0]),l=re(i[0].v[0],i[1].v[0],i[2].v[0]),c=y-s;i[2].point[1]=0,i[0].point[0]=-(i[1].point[0]=i[0].v[0]/2);var f=[i[2].point[0]=i[0].point[0]+i[2].v[0]*a(s),2*(i[0].point[1]=i[1].point[1]=i[2].v[0]*m(s))];return function(e,t){var n,r=m(t),o=a(t),u=new Array(3);for(n=0;n<3;++n){var s=i[n];if(u[n]=ne(t-s[1],s[3],s[2],o,r,e-s[0]),!u[n][0])return s.point;u[n][1]=ie(u[n][1]-s.v[1])}var d=f.slice();for(n=0;n<3;++n){var p=2==n?0:n+1,h=re(i[n].v[0],u[n][0],u[p][0]);u[n][1]<0&&(h=-h),n?1==n?(h=l-h,d[0]-=u[n][0]*a(h),d[1]-=u[n][0]*m(h)):(h=c-h,d[0]+=u[n][0]*a(h),d[1]+=u[n][0]*m(h)):(d[0]+=u[n][0]*a(h),d[1]-=u[n][0]*m(h))}return d[0]/=3,d[1]/=3,d}}function ae(e){return e[0]*=S,e[1]*=S,e}function ue(e,n,r){var i=t.geoCentroid({type:"MultiPoint",coordinates:[e,n,r]}),o=[-i[0],-i[1]],a=t.geoRotation(o),u=oe(ae(a(e)),ae(a(n)),ae(a(r)));u.invert=q(u);var s=t.geoProjection(u).rotate(o),l=s.center;return delete s.rotate,s.center=function(e){return arguments.length?l(a(e)):a.invert(l())},s.clipAngle(90)}function se(e,t){var n=M(1-m(t));return[2/E*e*n,E*(1-n)]}function le(e){var t=g(e);function n(e,n){return[e,(e?e/m(e):1)*(m(n)*a(e)-t*a(n))]}return n.invert=t?function(e,n){e&&(n*=m(e)/e);var r=a(e);return[e,2*o(M(r*r+t*t-n*n)-r,t-n)]}:function(e,t){return[e,A(e?t*g(e)/e:t)]},n}se.invert=function(e,t){var n=(n=t/E-1)*n;return[n>0?e*M(y/n)/2:0,A(1-n)]};var ce=M(3);function fe(e,t){return[ce*e*(2*a(2*t/3)-1)/E,ce*E*m(t/3)]}function de(e){var t=a(e);function n(e,n){return[e*t,m(n)/t]}return n.invert=function(e,n){return[e/t,A(n*t)]},n}function pe(e){var t=a(e);function n(e,n){return[e*t,(1+t)*g(n/2)]}return n.invert=function(e,n){return[e/t,2*i(n/(1+t))]},n}function he(e,t){var n=M(8/(3*y));return[n*e*(1-r(t)/y),n*t]}function me(e,t){var n=M(4-3*m(r(t)));return[2/M(6*y)*e*n,h(t)*M(2*y/3)*(2-n)]}function ge(e,t){var n=M(y*(4+y));return[2/n*e*(1+M(1-4*t*t/(y*y))),4/n*t]}function ve(e,t){var n=(2+b)*m(t);t/=2;for(var i=0,o=1/0;i<10&&r(o)>v;i++){var u=a(t);t-=o=(t+m(t)*(u+2)-n)/(2*u*(1+u))}return[2/M(y*(4+y))*e*(1+a(t)),2*M(y/(4+y))*m(t)]}function ye(e,t){return[e*(1+a(t))/M(2+y),2*t/M(2+y)]}function be(e,t){for(var n=(1+b)*m(t),i=0,o=1/0;i<10&&r(o)>v;i++)t-=o=(t+m(t)-n)/(1+a(t));return n=M(2+y),[e*(1+a(t))/n,2*t/n]}fe.invert=function(e,t){var n=3*A(t/(ce*E));return[E*e/(ce*(2*a(2*n/3)-1)),n]},he.invert=function(e,t){var n=M(8/(3*y)),i=t/n;return[e/(n*(1-r(i)/y)),i]},me.invert=function(e,t){var n=2-r(t)/M(2*y/3);return[e*M(6*y)/(2*n),h(t)*A((4-n*n)/3)]},ge.invert=function(e,t){var n=M(y*(4+y))/2;return[e*n/(1+M(1-t*t*(4+y)/(4*y))),t*n/2]},ve.invert=function(e,t){var n=t*M((4+y)/y)/2,r=A(n),i=a(r);return[e/(2/M(y*(4+y))*(1+i)),A((r+n*(i+2))/(2+b))]},ye.invert=function(e,t){var n=M(2+y),r=t*n/2;return[n*e/(1+a(r)),r]},be.invert=function(e,t){var n=1+b,r=M(n/2);return[2*e*r/(1+a(t*=r)),A((t+m(t))/n)]};var xe=3+2*_;function we(e,t){var n=m(e/=2),r=a(e),o=M(a(t)),u=a(t/=2),s=m(t)/(u+_*r*o),c=M(2/(1+s*s)),f=M((_*u+(r+n)*o)/(_*u+(r-n)*o));return[xe*(c*(f-1/f)-2*l(f)),xe*(c*s*(f+1/f)-2*i(s))]}we.invert=function(e,t){if(!(n=j.invert(e/1.2,1.065*t)))return null;var n,o=n[0],u=n[1],s=20;e/=xe,t/=xe;do{var d=o/2,p=u/2,h=m(d),g=a(d),y=m(p),x=a(p),E=a(u),k=M(E),C=y/(x+_*g*k),S=C*C,A=M(2/(1+S)),O=(_*x+(g+h)*k)/(_*x+(g-h)*k),D=M(O),P=D-1/D,T=D+1/D,F=A*P-2*l(D)-e,N=A*C*T-2*i(C)-t,R=y&&w*k*h*S/y,B=(_*g*x+k)/(2*(x+_*g*k)*(x+_*g*k)*k),L=-.5*C*A*A*A,z=L*R,I=L*B,$=($=2*x+_*k*(g-h))*$*D,U=(_*g*x*k+E)/$,q=-_*h*y/(k*$),W=P*z-2*U/D+A*(U+U/O),H=P*I-2*q/D+A*(q+q/O),V=C*T*z-2*R/(1+S)+A*T*R+A*C*(U-U/O),G=C*T*I-2*B/(1+S)+A*T*B+A*C*(q-q/O),Y=H*V-G*W;if(!Y)break;var X=(N*H-F*G)/Y,K=(F*V-N*W)/Y;o-=X,u=c(-b,f(b,u-K))}while((r(X)>v||r(K)>v)&&--s>0);return r(r(u)-b)<v?[0,u]:s&&[o,u]};var _e=a(35*S);function Ee(e,t){var n=g(t/2);return[e*_e*M(1-n*n),(1+_e)*n]}function ke(e,t){var n=t/2,r=a(n);return[2*e/E*a(t)*r*r,E*g(n)]}function Ce(e){var t=1-e,n=i(y,0)[0]-i(-y,0)[0],r=M(2*(i(0,b)[1]-i(0,-b)[1])/n);function i(n,r){var i=a(r),o=m(r);return[i/(t+e*i)*n,t*r+e*o]}function o(e,t){var n=i(e,t);return[n[0]*r,n[1]/r]}function u(e){return o(0,e)[1]}return o.invert=function(n,i){var o=U(u,i);return[n/r*(e+t/a(o)),o]},o}function Se(e){return[e[0]/2,A(g(e[1]/2*S))*C]}function Ae(e){return[2*e[0],2*i(m(e[1]*S))*C]}function Oe(e,n){var i=2*y/n,u=e*e;function s(n,s){var l=t.geoAzimuthalEquidistantRaw(n,s),c=l[0],f=l[1],d=c*c+f*f;if(d>u){var h=M(d),g=o(f,c),x=i*p(g/i),w=g-x,_=e*a(w),E=(e*m(w)-w*m(_))/(b-_),k=Me(w,E),C=(y-e)/De(k,_,y);c=h;var S,A=50;do{c-=S=(e+De(k,_,c)*C-h)/(k(c)*C)}while(r(S)>v&&--A>0);f=w*m(c),c<b&&(f-=E*(c-b));var O=m(x),D=a(x);l[0]=c*D-f*O,l[1]=c*O+f*D}return l}return s.invert=function(n,s){var l=n*n+s*s;if(l>u){var c=M(l),f=o(s,n),d=i*p(f/i),h=f-d;n=c*a(h),s=c*m(h);for(var g=n-b,v=m(n),x=s/v,w=n<b?1/0:0,_=10;;){var E=e*m(x),k=e*a(x),C=m(k),S=b-k,A=(E-x*C)/S,O=Me(x,A);if(r(w)<1e-12||!--_)break;x-=w=(x*v-A*g-s)/(v-2*g*(S*(k+x*E*a(k)-C)-E*(E-x*C))/(S*S))}n=(c=e+De(O,k,n)*(y-e)/De(O,k,y))*a(f=d+x),s=c*m(f)}return t.geoAzimuthalEquidistantRaw.invert(n,s)},s}function Me(e,t){return function(n){var r=e*a(n);return n<b&&(r-=t),M(1+r*r)}}function De(e,t,n){for(var r=(n-t)/50,i=e(t)+e(n),o=1,a=t;o<50;++o)i+=2*e(a+=r);return.5*i*r}function Pe(e,t,n,i,o,u,s,l){function c(r,c){if(!c)return[e*r/y,0];var f=c*c,d=e+f*(t+f*(n+f*i)),p=c*(o-1+f*(u-l+f*s)),h=(d*d+p*p)/(2*p),g=r*A(d/h)/y;return[h*m(g),c*(1+f*l)+h*(1-a(g))]}return arguments.length<8&&(l=0),c.invert=function(c,f){var d,p,h=y*c/e,g=f,b=50;do{var x=g*g,w=e+x*(t+x*(n+x*i)),_=g*(o-1+x*(u-l+x*s)),E=w*w+_*_,k=2*_,C=E/k,S=C*C,O=A(w/C)/y,D=h*O,P=w*w,T=(2*t+x*(4*n+6*x*i))*g,F=o+x*(3*u+5*x*s),N=(2*(w*T+_*(F-1))*k-E*(2*(F-1)))/(k*k),j=a(D),R=m(D),B=C*j,L=C*R,z=h/y*(1/M(1-P/S))*(T*C-w*N)/S,I=L-c,$=g*(1+x*l)+C-B-f,U=N*R+B*z,q=B*O,W=1+N-(N*j-L*z),H=L*O,V=U*H-W*q;if(!V)break;h-=d=($*U-I*W)/V,g-=p=(I*H-$*q)/V}while((r(d)>v||r(p)>v)&&--b>0);return[h,g]},c}Ee.invert=function(e,t){var n=t/(1+_e);return[e&&e/(_e*M(1-n*n)),2*i(n)]},ke.invert=function(e,t){var n=i(t/E),r=a(n),o=2*n;return[e*E/2/(a(o)*r*r),o]};var Te=Pe(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Fe=Pe(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ne=Pe(5/6*y,-.62636,-.0344,0,1.3493,-.05524,0,.045);function je(e,t){var n=e*e,r=t*t;return[e*(1-.162388*r)*(.87-952426e-9*n*n),t*(1+r/12)]}je.invert=function(e,t){var n,i=e,o=t,a=50;do{var u=o*o;o-=n=(o*(1+u/12)-t)/(1+u/4)}while(r(n)>v&&--a>0);a=50,e/=1-.162388*u;do{var s=(s=i*i)*s;i-=n=(i*(.87-952426e-9*s)-e)/(.87-.00476213*s)}while(r(n)>v&&--a>0);return[i,o]};var Re=Pe(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Be(e){var t=e(b,0)[0]-e(-b,0)[0];function n(n,r){var i=n>0?-.5:.5,o=e(n+i*y,r);return o[0]-=i*t,o}return e.invert&&(n.invert=function(n,r){var i=n>0?-.5:.5,o=e.invert(n+i*t,r),a=o[0]-i*y;return a<-y?a+=2*y:a>y&&(a-=2*y),o[0]=a,o}),n}function Le(e,t){var n=h(e),i=h(t),u=a(t),s=a(e)*u,l=m(e)*u,c=m(i*t);e=r(o(l,c)),t=A(s),r(e-b)>v&&(e%=b);var f=function(e,t){if(t===b)return[0,0];var n,i,o=m(t),u=o*o,s=u*u,l=1+s,c=1+3*s,f=1-s,d=A(1/M(l)),p=f+u*l*d,h=(1-o)/p,g=M(h),x=h*l,w=M(x),_=g*f;if(0===e)return[0,-(_+u*w)];var E,k=a(t),C=1/k,S=2*o*k,O=(-p*k-(-3*u+d*c)*S*(1-o))/(p*p),D=-C*S,P=-C*(u*l*O+h*c*S),T=-2*C*(f*(.5*O/g)-2*u*g*S),F=4*e/y;if(e>.222*y||t<y/4&&e>.175*y){if(n=(_+u*M(x*(1+s)-_*_))/(1+s),e>y/4)return[n,n];var N=n,j=.5*n;n=.5*(j+N),i=50;do{var R=M(x-n*n),B=n*(T+D*R)+P*A(n/w)-F;if(!B)break;B<0?j=n:N=n,n=.5*(j+N)}while(r(N-j)>v&&--i>0)}else{n=v,i=25;do{var L=n*n,z=M(x-L),I=T+D*z,$=n*I+P*A(n/w)-F,U=I+(P-D*L)/z;n-=E=z?$/U:0}while(r(E)>v&&--i>0)}return[n,-_-u*M(x-n*n)]}(e>y/4?b-e:e,t);return e>y/4&&(c=f[0],f[0]=-f[1],f[1]=-c),f[0]*=n,f[1]*=-i,f}function ze(e,t){var n,o,s,l,c;if(t<v)return[(l=m(e))-(n=t*(e-l*(o=a(e)))/4)*o,o+n*l,1-t*l*l/2,e-n];if(t>=1-v)return n=(1-t)/4,s=1/(o=P(e)),[(l=function(e){return((e=u(2*e))-1)/(e+1)}(e))+n*((c=o*D(e))-e)/(o*o),s-n*l*s*(c-e),s+n*l*s*(c+e),2*i(u(e))-b+n*(c-e)/o];var f=[1,0,0,0,0,0,0,0,0],d=[M(t),0,0,0,0,0,0,0,0],p=0;for(o=M(1-t),c=1;r(d[p]/f[p])>v&&p<8;)n=f[p++],d[p]=(n-o)/2,f[p]=(n+o)/2,o=M(n*o),c*=2;s=c*f[p]*e;do{s=(A(l=d[p]*m(o=s)/f[p])+s)/2}while(--p);return[m(s),l=a(s),l/a(s-o),s]}function Ie(e,t){if(!t)return e;if(1===t)return l(g(e/2+x));for(var n=1,o=M(1-t),a=M(t),u=0;r(a)>v;u++){if(e%y){var s=i(o*g(e)/n);s<0&&(s+=y),e+=s+~~(e/y)*y}else e+=e;a=(n+o)/2,o=M(n*o),a=((n=a)-o)/2}return e/(d(2,u)*n)}function $e(e,t){var n=(_-1)/(_+1),s=M(1-n*n),c=Ie(b,s*s),f=l(g(y/4+r(t)/2)),d=u(-1*f)/M(n),p=function(e,t){var n=e*e,r=t+1,i=1-n-t*t;return[.5*((e>=0?b:-b)-o(i,2*e)),-.25*l(i*i+4*n)+.5*l(r*r+n)]}(d*a(-1*e),d*m(-1*e)),v=function(e,t,n){var o=r(e),a=D(r(t));if(o){var u=1/m(o),s=1/(g(o)*g(o)),l=-(s+n*(a*a*u*u)-1+n),c=(-l+M(l*l-(n-1)*s*4))/2;return[Ie(i(1/M(c)),n)*h(e),Ie(i(M((c/s-1)/n)),1-n)*h(t)]}return[0,Ie(i(a),1-n)*h(t)]}(p[0],p[1],s*s);return[-v[1],(t>=0?1:-1)*(.5*c-v[0])]}function Ue(e){var t=m(e),n=a(e),i=qe(e);function u(e,o){var u=i(e,o);e=u[0],o=u[1];var s=m(o),l=a(o),c=a(e),f=O(t*s+n*l*c),d=m(f),p=r(d)>v?f/d:1;return[p*n*m(e),(r(e)>b?p:-p)*(t*l-n*s*c)]}return i.invert=qe(-e),u.invert=function(e,n){var r=M(e*e+n*n),u=-m(r),s=a(r),l=r*s,c=-n*u,f=r*t,d=M(l*l+c*c-f*f),p=o(l*f+c*d,c*f-l*d),h=(r>b?-1:1)*o(e*u,r*a(p)*s+n*m(p)*u);return i.invert(h,p)},u}function qe(e){var t=m(e),n=a(e);return function(e,r){var i=a(r),u=a(e)*i,s=m(e)*i,l=m(r);return[o(s,u*n-l*t),A(l*n+u*t)]}}Le.invert=function(e,t){r(e)>1&&(e=2*h(e)-e),r(t)>1&&(t=2*h(t)-t);var n=h(e),i=h(t),u=-n*e,s=-i*t,l=s/u<1,c=function(e,t){for(var n=0,i=1,o=.5,u=50;;){var s=o*o,l=M(o),c=A(1/M(1+s)),f=1-s+o*(1+s)*c,d=(1-l)/f,p=M(d),h=d*(1+s),m=p*(1-s),g=M(h-e*e),v=t+m+o*g;if(r(i-n)<1e-12||0==--u||0===v)break;v>0?n=o:i=o,o=.5*(n+i)}if(!u)return null;var b=A(l),x=a(b),w=1/x,_=2*l*x,E=(-f*x-(-3*o+c*(1+3*s))*_*(1-l))/(f*f);return[y/4*(e*(-2*w*(.5*E/p*(1-s)-2*o*p*_)+-w*_*g)+-w*(o*(1+s)*E+d*(1+3*s)*_)*A(e/M(h))),b]}(l?s:u,l?u:s),f=c[0],d=c[1],p=a(d);return l&&(f=-b-f),[n*(o(m(f)*p,-m(d))+y),i*A(a(f)*p)]},$e.invert=function(e,t){var n=(_-1)/(_+1),r=M(1-n*n),a=function(e,t,n){var r,i,o;return e?(r=ze(e,n),t?(o=(i=ze(t,1-n))[1]*i[1]+n*r[0]*r[0]*i[0]*i[0],[[r[0]*i[2]/o,r[1]*r[2]*i[0]*i[1]/o],[r[1]*i[1]/o,-r[0]*r[2]*i[0]*i[2]/o],[r[2]*i[1]*i[2]/o,-n*r[0]*r[1]*i[0]/o]]):[[r[0],0],[r[1],0],[r[2],0]]):[[0,(i=ze(t,1-n))[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]]}(.5*Ie(b,r*r)-t,-e,r*r),s=function(e,t){var n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}(a[0],a[1]);return[o(s[1],s[0])/-1,2*i(u(-.5*l(n*s[0]*s[0]+n*s[1]*s[1])))-b]};var We=A(1-1/3)*C,He=de(0);function Ve(e){var t=We*S,n=se(y,t)[0]-se(-y,t)[0],i=He(0,t)[1],o=se(0,t)[1],a=E-o,u=k/e,l=4/k,d=i+a*a*4/k;function p(p,h){var m,g=r(h);if(g>t){var v=f(e-1,c(0,s((p+y)/u)));(m=se(p+=y*(e-1)/e-v*u,g))[0]=m[0]*k/n-k*(e-1)/(2*e)+v*k/e,m[1]=i+4*(m[1]-o)*a/k,h<0&&(m[1]=-m[1])}else m=He(p,h);return m[0]*=l,m[1]/=d,m}return p.invert=function(t,p){t/=l;var h=r(p*=d);if(h>i){var m=f(e-1,c(0,s((t+y)/u)));t=(t+y*(e-1)/e-m*u)*n/k;var g=se.invert(t,.25*(h-i)*k/a+o);return g[0]-=y*(e-1)/e-m*u,p<0&&(g[1]=-g[1]),g}return He.invert(t,p)},p}function Ge(e,t){return[e,1&t?90-v:We]}function Ye(e,t){return[e,1&t?-90+v:-We]}function Xe(e){return[e[0]*(1-v),e[1]]}function Ke(e){var t,n=1+e,i=A(m(1/n)),u=2*M(y/(t=y+4*i*n)),s=.5*u*(n+M(e*(2+e))),l=e*e,c=n*n;function f(f,d){var p,h,g=1-m(d);if(g&&g<2){var v,x=b-d,w=25;do{var _=m(x),E=a(x),k=i+o(_,n-E),C=1+c-2*n*E;x-=v=(x-l*i-n*_+C*k-.5*g*t)/(2*n*_*k)}while(r(v)>1e-12&&--w>0);p=u*M(C),h=f*k/y}else p=u*(e+g),h=f*i/y;return[p*m(h),s-p*a(h)]}return f.invert=function(e,r){var a=e*e+(r-=s)*r,f=(1+c-a/(u*u))/(2*n),d=O(f),p=m(d),h=i+o(p,n-f);return[A(e/M(a))*y/h,A(1-2*(d-l*i-n*p+(1+c-2*n*f)*h)/t)]},f}function Qe(e,t){return t>-.7109889596207567?((e=G(e,t))[1]+=.0528035274542,e):J(e,t)}function Je(e,t){return r(t)>.7109889596207567?((e=G(e,t))[1]-=t>0?.0528035274542:-.0528035274542,e):J(e,t)}function Ze(e,t,n,r){var i=M(4*y/(2*n+(1+e-t/2)*m(2*n)+(e+t)/2*m(4*n)+t/2*m(6*n))),o=M(r*m(n)*M((1+e*a(2*n)+t*a(4*n))/(1+e+t))),u=n*l(1);function s(n){return M(1+e*a(2*n)+t*a(4*n))}function l(r){var i=r*n;return(2*i+(1+e-t/2)*m(2*i)+(e+t)/2*m(4*i)+t/2*m(6*i))/n}function c(e){return s(e)*m(e)}var f=function(e,t){var r=n*U(l,u*m(t)/n,t/y);isNaN(r)&&(r=n*h(t));var c=i*s(r);return[c*o*e/y*a(r),c/o*m(r)]};return f.invert=function(e,t){var r=U(c,t*o/i);return[e*y/(a(r)*i*o*s(r)),A(n*l(r/n)/u)]},0===n&&(i=M(r/y),(f=function(e,t){return[e*i,m(t)/i]}).invert=function(e,t){return[e/i,A(t*i)]}),f}function et(e,t,n,r,i){void 0===r&&(r=1e-8),void 0===i&&(i=20);var o=e(t),a=e(.5*(t+n)),u=e(n);return function e(t,n,r,i,o,a,u,s,l,c,f){if(f.nanEncountered)return NaN;var d,p,h,m,g,v,y,b,x,w;if(p=t(n+.25*(d=r-n)),h=t(r-.25*d),isNaN(p))f.nanEncountered=!0;else{if(!isNaN(h))return w=((v=(m=d*(i+4*p+o)/12)+(g=d*(o+4*h+a)/12))-u)/15,c>l?(f.maxDepthCount++,v+w):Math.abs(w)<s?v+w:(b=e(t,n,y=n+.5*d,i,p,o,m,.5*s,l,c+1,f),isNaN(b)?(f.nanEncountered=!0,NaN):(x=e(t,y,r,o,h,a,g,.5*s,l,c+1,f),isNaN(x)?(f.nanEncountered=!0,NaN):b+x));f.nanEncountered=!0}}(e,t,n,o,a,u,(o+4*a+u)*(n-t)/6,r,i,1,{maxDepthCount:0,nanEncountered:!1})}function tt(e,t,n){function i(n){return e+(1-e)*d(1-d(n,t),1/t)}function o(e){return et(i,0,e,1e-4)}for(var a=1/o(1),u=1e3,s=(1+1e-8)*a,l=[],c=0;c<=u;c++)l.push(o(c/u)*s);function f(e){var t=0,n=u,r=500;do{l[r]>e?n=r:t=r,r=t+n>>1}while(r>t);var i=l[r+1]-l[r];return i&&(i=(e-l[r+1])/i),(r+1+i)/u}var p=2*f(1)/y*a/n,g=function(e,t){var n=f(r(m(t))),o=i(n)*e;return n/=p,[o,t>=0?n:-n]};return g.invert=function(e,t){var n;return r(t*=p)<1&&(n=h(t)*A(o(r(t))*a)),[e/i(r(t)),n]},g}function nt(e,t){return r(e[0]-t[0])<v&&r(e[1]-t[1])<v}function rt(e,t){for(var n,r,i,o=-1,a=e.length,u=e[0],s=[];++o<a;){r=((n=e[o])[0]-u[0])/t,i=(n[1]-u[1])/t;for(var l=0;l<t;++l)s.push([u[0]+l*r,u[1]+l*i]);u=n}return s.push(n),s}function it(e){var t,r,i,o,a,u,s,l=[],c=e[0].length;for(s=0;s<c;++s)r=(t=e[0][s])[0][0],i=t[0][1],o=t[1][1],a=t[2][0],u=t[2][1],l.push(rt([[r+v,i+v],[r+v,o-v],[a-v,o-v],[a-v,u+v]],30));for(s=e[1].length-1;s>=0;--s)r=(t=e[1][s])[0][0],i=t[0][1],o=t[1][1],a=t[2][0],u=t[2][1],l.push(rt([[a-v,u-v],[a-v,o+v],[r+v,o+v],[r+v,i-v]],30));return{type:"Polygon",coordinates:[n.merge(l)]}}function ot(e,n,r){var i,o;function a(t,r){for(var i=r<0?-1:1,o=n[+(r<0)],a=0,u=o.length-1;a<u&&t>o[a][2][0];++a);var s=e(t-o[a][1][0],r);return s[0]+=e(o[a][1][0],i*r>i*o[a][0][1]?o[a][0][1]:r)[0],s}r?a.invert=r(a):e.invert&&(a.invert=function(t,r){for(var i=o[+(r<0)],u=n[+(r<0)],s=0,l=i.length;s<l;++s){var c=i[s];if(c[0][0]<=t&&t<c[1][0]&&c[0][1]<=r&&r<c[1][1]){var f=e.invert(t-e(u[s][1][0],0)[0],r);return f[0]+=u[s][1][0],nt(a(f[0],f[1]),[t,r])?f:null}}});var u=t.geoProjection(a),s=u.stream;return u.stream=function(e){var n=u.rotate(),r=s(e),o=(u.rotate([0,0]),s(e));return u.rotate(n),r.sphere=function(){t.geoStream(i,o)},r},u.lobes=function(t){return arguments.length?(i=it(t),n=t.map((function(e){return e.map((function(e){return[[e[0][0]*S,e[0][1]*S],[e[1][0]*S,e[1][1]*S],[e[2][0]*S,e[2][1]*S]]}))})),o=n.map((function(t){return t.map((function(t){var n,r=e(t[0][0],t[0][1])[0],i=e(t[2][0],t[2][1])[0],o=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return o>a&&(n=o,o=a,a=n),[[r,o],[i,a]]}))})),u):n.map((function(e){return e.map((function(e){return[[e[0][0]*C,e[0][1]*C],[e[1][0]*C,e[1][1]*C],[e[2][0]*C,e[2][1]*C]]}))}))},null!=n&&u.lobes(n),u}Qe.invert=function(e,t){return t>-.7109889596207567?G.invert(e,t-.0528035274542):J.invert(e,t)},Je.invert=function(e,t){return r(t)>.7109889596207567?G.invert(e,t+(t>0?.0528035274542:-.0528035274542)):J.invert(e,t)};var at=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ut=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],st=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],lt=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],ct=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],ft=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function dt(e,t){return[3/k*e*M(y*y/3-t*t),t]}function pt(e){function t(t,n){if(r(r(n)-b)<v)return[0,n<0?-2:2];var i=m(n),o=d((1+i)/(1-i),e/2),u=.5*(o+1/o)+a(t*=e);return[2*m(t)/u,(o-1/o)/u]}return t.invert=function(t,n){var i=r(n);if(r(i-2)<v)return t?null:[0,h(n)*b];if(i>2)return null;var a=(t/=2)*t,u=(n/=2)*n,s=2*n/(1+a+u);return s=d((1+s)/(1-s),1/e),[o(2*t,1-a-u)/e,A((s-1)/(s+1))]},t}dt.invert=function(e,t){return[k/3*e/M(y*y/3-t*t),t]};var ht=y/_;function mt(e,t){return[e*(1+M(a(t)))/2,t/(a(t/2)*a(e/6))]}function gt(e,t){var n=e*e,r=t*t;return[e*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),t*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}function vt(e,t){return[m(e)/a(t),g(t)*a(e)]}function yt(e){var t=a(e),n=g(x+e/2);function i(i,o){var a=o-e,u=r(a)<v?i*t:r(u=x+o/2)<v||r(r(u)-b)<v?0:i*a/l(g(u)/n);return[u,a]}return i.invert=function(i,o){var a,u=o+e;return[r(o)<v?i/t:r(a=x+u/2)<v||r(r(a)-b)<v?0:i*l(g(a)/n)/o,u]},i}function bt(e,t){return[e,1.25*l(g(x+.4*t))]}function xt(e){var t=e.length-1;function n(n,r){for(var i,o=a(r),u=2/(1+o*a(n)),s=u*o*m(n),l=u*m(r),c=t,f=e[c],d=f[0],p=f[1];--c>=0;)d=(f=e[c])[0]+s*(i=d)-l*p,p=f[1]+s*p+l*i;return[d=s*(i=d)-l*p,p=s*p+l*i]}return n.invert=function(n,u){var s=20,l=n,c=u;do{for(var f,d=t,p=e[d],h=p[0],g=p[1],v=0,y=0;--d>=0;)v=h+l*(f=v)-c*y,y=g+l*y+c*f,h=(p=e[d])[0]+l*(f=h)-c*g,g=p[1]+l*g+c*f;var b,x,w=(v=h+l*(f=v)-c*y)*v+(y=g+l*y+c*f)*y;l-=b=((h=l*(f=h)-c*g-n)*v+(g=l*g+c*f-u)*y)/w,c-=x=(g*v-h*y)/w}while(r(b)+r(x)>1e-12&&--s>0);if(s){var _=M(l*l+c*c),E=2*i(.5*_),k=m(E);return[o(l*k,_*a(E)),_?A(c*k/_):0]}},n}mt.invert=function(e,t){var n=r(e),i=r(t),o=v,u=b;i<ht?u*=i/ht:o+=6*O(ht/i);for(var s=0;s<25;s++){var l=m(u),c=M(a(u)),f=m(u/2),d=a(u/2),p=m(o/6),h=a(o/6),g=.5*o*(1+c)-n,y=u/(d*h)-i,x=c?-.25*o*l/c:0,w=.5*(1+c),_=(1+.5*u*f/d)/(d*h),E=u/d*(p/6)/(h*h),k=x*E-_*w,C=(g*E-y*w)/k,S=(y*x-g*_)/k;if(u-=C,o-=S,r(C)<v&&r(S)<v)break}return[e<0?-o:o,t<0?-u:u]},gt.invert=function(e,t){var n=h(e)*y,i=t/2,o=50;do{var a=n*n,u=i*i,s=n*i,l=n*(.975534+u*(-.0143059*a-.119161+-.0547009*u))-e,c=i*(1.00384+a*(.0802894+-.02855*u+199025e-9*a)+u*(.0998909+-.0491032*u))-t,f=.975534-u*(.119161+3*a*.0143059+.0547009*u),d=-s*(.238322+.2188036*u+.0286118*a),p=s*(.1605788+7961e-7*a+-.0571*u),m=1.00384+a*(.0802894+199025e-9*a)+u*(3*(.0998909-.02855*a)-.245516*u),g=d*p-m*f,b=(c*d-l*m)/g,x=(l*p-c*f)/g;n-=b,i-=x}while((r(b)>v||r(x)>v)&&--o>0);return o&&[n,i]},vt.invert=function(e,t){var n=e*e,r=t*t+1,i=n+r,o=e?w*M((i-M(i*i-4*n))/n):1/M(r);return[A(e*o),h(t)*O(o)]},bt.invert=function(e,t){return[e,2.5*i(u(.8*t))-.625*y]};var wt=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],_t=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Et=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],kt=[[.9245,0],[0,0],[.01943,0]],Ct=[[.721316,0],[0,0],[-.00881625,-.00617325]];function St(e,n){var r=t.geoProjection(xt(e)).rotate(n).clipAngle(90),i=t.geoRotation(n),o=r.center;return delete r.rotate,r.center=function(e){return arguments.length?o(i(e)):i.invert(o())},r}var At=M(6),Ot=M(7);function Mt(e,t){var n=A(7*m(t)/(3*At));return[At*e*(2*a(2*n/3)-1)/Ot,9*m(n/3)/Ot]}function Dt(e,t){for(var n,i=(1+w)*m(t),o=t,u=0;u<25&&(o-=n=(m(o/2)+m(o)-i)/(.5*a(o/2)+a(o)),!(r(n)<v));u++);return[e*(1+2*a(o)/a(o/2))/(3*_),2*M(3)*m(o/2)/M(2+_)]}function Pt(e,t){for(var n,i=M(6/(4+y)),o=(1+y/4)*m(t),u=t/2,s=0;s<25&&(u-=n=(u/2+m(u)-o)/(.5+a(u)),!(r(n)<v));s++);return[i*(.5+a(u))*e/1.5,i*u]}function Tt(e,t){var n=t*t,r=n*n,i=n*r;return[e*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),t*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}function Ft(e,t){return[e*(1+a(t))/2,2*(t-g(t/2))]}Mt.invert=function(e,t){var n=3*A(t*Ot/9);return[e*Ot/(At*(2*a(2*n/3)-1)),A(3*m(n)*At/7)]},Dt.invert=function(e,t){var n=t*M(2+_)/(2*M(3)),r=2*A(n);return[3*_*e/(1+2*a(r)/a(r/2)),A((n+m(r))/(1+w))]},Pt.invert=function(e,t){var n=M(6/(4+y)),i=t/n;return r(r(i)-b)<v&&(i=i<0?-b:b),[1.5*e/(n*(.5+a(i))),A((i/2+m(i))/(1+y/4))]},Tt.invert=function(e,t){var n,i,o,a,u=t,s=25;do{u-=n=(u*(1.01183+(o=(i=u*u)*i)*o*(.01926*i-.02625-.00396*o))-t)/(1.01183+o*o*(.21186*i-.23625+-.05148*o))}while(r(n)>1e-12&&--s>0);return[e/(.84719-.13063*(i=u*u)+(a=i*(o=i*i))*a*(.05494*i-.04515-.02326*o+.00331*a)),u]},Ft.invert=function(e,t){for(var n=t/2,i=0,o=1/0;i<10&&r(o)>v;++i){var u=a(t/2);t-=o=(t-g(t/2)-n)/(1-.5/(u*u))}return[2*e/(1+a(t)),t]};var Nt=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function jt(e,t){var n=m(t),i=a(t),o=h(e);if(0===e||r(t)===b)return[0,t];if(0===t)return[e,0];if(r(e)===b)return[e*i,b*n];var u=y/(2*e)-2*e/y,s=2*t/y,l=(1-s*s)/(n-s),c=u*u,f=l*l,d=1+c/f,p=1+f/c,g=(u*n/l-u/2)/d,v=(f*n/c+l/2)/p,x=v*v-(f*n*n/c+l*n-1)/p;return[b*(g+M(g*g+i*i/d)*o),b*(v+M(x<0?0:x)*h(-t*u)*o)]}function Rt(e,t){var n=t*t;return[e,t*(1.0148+n*n*(.23185+n*(.02406*n-.14499)))]}function Bt(e,t){if(r(t)<v)return[e,0];var n=g(t),i=e*m(t);return[m(i)/n,t+(1-a(i))/n]}function Lt(e,t){var n=It(e[1],e[0]),r=It(t[1],t[0]),i=function(e,t){return o(e[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])}(n,r),u=$t(n)/$t(r);return zt([1,0,e[0][0],0,1,e[0][1]],zt([u,0,0,0,u,0],zt([a(i),m(i),0,-m(i),a(i),0],[1,0,-t[0][0],0,1,-t[0][1]])))}function zt(e,t){return[e[0]*t[0]+e[1]*t[3],e[0]*t[1]+e[1]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[0]+e[4]*t[3],e[3]*t[1]+e[4]*t[4],e[3]*t[2]+e[4]*t[5]+e[5]]}function It(e,t){return[e[0]-t[0],e[1]-t[1]]}function $t(e){return M(e[0]*e[0]+e[1]*e[1])}function Ut(e,n,i){function o(e,t){var r,i=n(e,t),o=i.project([e*C,t*C]);return(r=i.transform)?[r[0]*o[0]+r[1]*o[1]+r[2],-(r[3]*o[0]+r[4]*o[1]+r[5])]:(o[1]=-o[1],o)}!function e(t,n){if(t.edges=function(e){for(var t=e.length,n=[],r=e[t-1],i=0;i<t;++i)n.push([r,r=e[i]]);return n}(t.face),n.face){var r=t.shared=function(e,t){for(var n,r,i=e.length,o=null,a=0;a<i;++a){n=e[a];for(var u=t.length;--u>=0;)if(r=t[u],n[0]===r[0]&&n[1]===r[1]){if(o)return[o,n];o=n}}}(t.face,n.face),i=Lt(r.map(n.project),r.map(t.project));t.transform=n.transform?zt(n.transform,i):i;for(var o=n.edges,a=0,u=o.length;a<u;++a)qt(r[0],o[a][1])&&qt(r[1],o[a][0])&&(o[a]=t),qt(r[0],o[a][0])&&qt(r[1],o[a][1])&&(o[a]=t);for(o=t.edges,a=0,u=o.length;a<u;++a)qt(r[0],o[a][0])&&qt(r[1],o[a][1])&&(o[a]=n),qt(r[0],o[a][1])&&qt(r[1],o[a][0])&&(o[a]=n)}else t.transform=n.transform;return t.children&&t.children.forEach((function(n){e(n,t)})),t}(e,{transform:null}),Wt(e)&&(o.invert=function(t,r){var i=function e(t,r){var i=t.project.invert,o=t.transform,a=r;if(o&&(o=function(e){var t=1/(e[0]*e[4]-e[1]*e[3]);return[t*e[4],-t*e[1],t*(e[1]*e[5]-e[2]*e[4]),-t*e[3],t*e[0],t*(e[2]*e[3]-e[0]*e[5])]}(o),a=[o[0]*a[0]+o[1]*a[1]+o[2],o[3]*a[0]+o[4]*a[1]+o[5]]),i&&t===function(e){return n(e[0]*S,e[1]*S)}(u=i(a)))return u;for(var u,s=t.children,l=0,c=s&&s.length;l<c;++l)if(u=e(s[l],r))return u}(e,[t,-r]);return i&&(i[0]*=S,i[1]*=S,i)});var a=t.geoProjection(o),u=a.stream;return a.stream=function(n){var i=a.rotate(),o=u(n),s=(a.rotate([0,0]),u(n));return a.rotate(i),o.sphere=function(){s.polygonStart(),s.lineStart(),function e(n,i,o){var a,u,s=i.edges,l=s.length,c={type:"MultiPoint",coordinates:i.face},f=i.face.filter((function(e){return 90!==r(e[1])})),d=t.geoBounds({type:"MultiPoint",coordinates:f}),p=!1,h=-1,m=d[1][0]-d[0][0],g=180===m||360===m?[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]:t.geoCentroid(c);if(o)for(;++h<l&&s[h]!==o;);++h;for(var y=0;y<l;++y)u=s[(y+h)%l],Array.isArray(u)?(p||(n.point((a=t.geoInterpolate(u[0],g)(v))[0],a[1]),p=!0),n.point((a=t.geoInterpolate(u[1],g)(v))[0],a[1])):(p=!1,u!==o&&e(n,u,i))}(s,e),s.lineEnd(),s.polygonEnd()},o},a.angle(null==i?-30:i*C)}function qt(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function Wt(e){return e.project.invert||e.children&&e.children.some(Wt)}jt.invert=function(e,t){var n=(e/=b)*e,r=n+(t/=b)*t,i=y*y;return[e?(r-1+M((1-r)*(1-r)+4*n))/(2*e)*b:0,U((function(e){return r*(y*m(e)-2*e)*y+4*e*e*(t-m(e))+2*y*e-i*t}),0)]},Rt.invert=function(e,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var n,i=t;do{var o=i*i;i-=n=(i*(1.0148+o*o*(.23185+o*(.02406*o-.14499)))-t)/(1.0148+o*o*(5*.23185+o*(.21654*o-1.01493)))}while(r(n)>v);return[e,i]},Bt.invert=function(e,t){if(r(t)<v)return[e,0];var n,i=e*e+t*t,o=.5*t,u=10;do{var s=g(o),l=1/a(o),c=i-2*t*o+o*o;o-=n=(s*c+2*(o-t))/(2+c*l*l+2*(o-t)*s)}while(r(n)>v&&--u>0);return s=g(o),[(r(t)<r(o+1/s)?A(e*s):h(t)*h(e)*(O(r(e*s))+b))/m(o),o]};var Ht=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Vt=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(e){return e.map((function(e){return Ht[e]}))})),Gt=2/M(3);function Yt(e,t){var n=se(e,t);return[n[0]*Gt,n[1]]}function Xt(e,t){for(var n=0,r=e.length,i=0;n<r;++n)i+=e[n]*t[n];return i}function Kt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Qt(e){return[o(e[1],e[0])*C,A(c(-1,f(1,e[2])))*C]}function Jt(e){var t=e[0]*S,n=e[1]*S,r=a(n);return[r*a(t),r*m(t),m(n)]}function Zt(){}function en(e,t){return{type:"FeatureCollection",features:e.features.map((function(e){return tn(e,t)}))}}function tn(e,t){return{type:"Feature",id:e.id,properties:e.properties,geometry:nn(e.geometry,t)}}function nn(e,n){if(!e)return null;if("GeometryCollection"===e.type)return function(e,t){return{type:"GeometryCollection",geometries:e.geometries.map((function(e){return nn(e,t)}))}}(e,n);var r;switch(e.type){case"Point":case"MultiPoint":r=an;break;case"LineString":case"MultiLineString":r=un;break;case"Polygon":case"MultiPolygon":case"Sphere":r=sn;break;default:return null}return t.geoStream(e,n(r)),r.result()}Yt.invert=function(e,t){return se.invert(e/Gt,t)};var rn=[],on=[],an={point:function(e,t){rn.push([e,t])},result:function(){var e=rn.length?rn.length<2?{type:"Point",coordinates:rn[0]}:{type:"MultiPoint",coordinates:rn}:null;return rn=[],e}},un={lineStart:Zt,point:function(e,t){rn.push([e,t])},lineEnd:function(){rn.length&&(on.push(rn),rn=[])},result:function(){var e=on.length?on.length<2?{type:"LineString",coordinates:on[0]}:{type:"MultiLineString",coordinates:on}:null;return on=[],e}},sn={polygonStart:Zt,lineStart:Zt,point:function(e,t){rn.push([e,t])},lineEnd:function(){var e=rn.length;if(e){do{rn.push(rn[0].slice())}while(++e<4);on.push(rn),rn=[]}},polygonEnd:Zt,result:function(){if(!on.length)return null;var e=[],t=[];return on.forEach((function(n){!function(e){if((t=e.length)<4)return!1;for(var t,n=0,r=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++n<t;)r+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return r<=0}(n)?t.push(n):e.push([n])})),t.forEach((function(t){var n=t[0];e.some((function(e){if(function(e,t){for(var n=t[0],r=t[1],i=!1,o=0,a=e.length,u=a-1;o<a;u=o++){var s=e[o],l=s[0],c=s[1],f=e[u],d=f[0],p=f[1];c>r^p>r&&n<(d-l)*(r-c)/(p-c)+l&&(i=!i)}return i}(e[0],n))return e.push(t),!0}))||e.push([t])})),on=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}};function ln(e){var n=e(b,0)[0]-e(-b,0)[0];function i(t,i){var o=r(t)<b,a=e(o?t:t>0?t-y:t+y,i),u=(a[0]-a[1])*w,s=(a[0]+a[1])*w;if(o)return[u,s];var l=n*w,c=u>0^s>0?-1:1;return[c*u-h(s)*l,c*s-h(u)*l]}return e.invert&&(i.invert=function(t,i){var o=(t+i)*w,a=(i-t)*w,u=r(o)<.5*n&&r(a)<.5*n;if(!u){var s=n*w,l=o>0^a>0?-1:1,c=-l*t+(a>0?1:-1)*s,f=-l*i+(o>0?1:-1)*s;o=(-c-f)*w,a=(c-f)*w}var d=e.invert(o,a);return u||(d[0]+=o>0?y:-y),d}),t.geoProjection(i).rotate([-90,-90,45]).clipAngle(179.999)}function cn(){return ln($e).scale(111.48)}function fn(e){var t=m(e);function n(n,r){var o=t?g(n*t/2)/t:n/2;if(!r)return[2*o,-e];var u=2*i(o*m(r)),s=1/g(r);return[m(u)*s,r+(1-a(u))*s-e]}return n.invert=function(n,o){if(r(o+=e)<v)return[t?2*i(t*n/2)/t:n,0];var u,s=n*n+o*o,l=0,c=10;do{var f=g(l),d=1/a(l),p=s-2*o*l+l*l;l-=u=(f*p+2*(l-o))/(2+p*d*d+2*(l-o)*f)}while(r(u)>v&&--c>0);var h=n*(f=g(l)),b=g(r(o)<r(l+1/f)?.5*A(h):.5*O(h)+y/4)/m(l);return[t?2*i(t*b)/t:2*b,l]},n}var dn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function pn(e,t){var n,i=f(18,36*r(t)/y),o=s(i),a=i-o,u=(n=dn[o])[0],l=n[1],c=(n=dn[++o])[0],d=n[1],p=(n=dn[f(19,++o)])[0],h=n[1];return[e*(c+a*(p-u)/2+a*a*(p-2*c+u)/2),(t>0?b:-b)*(d+a*(h-l)/2+a*a*(h-2*d+l)/2)]}function hn(e,t){var n=function(e){function t(t,n){var r=a(n),i=(e-1)/(e-r*a(t));return[i*r*m(t),i*m(n)]}return t.invert=function(t,n){var r=t*t+n*n,i=M(r),a=(e-M(1-r*(e+1)/(e-1)))/((e-1)/i+i/(e-1));return[o(t*a,i*M(1-a*a)),i?A(n*a/i):0]},t}(e);if(!t)return n;var r=a(t),i=m(t);function u(t,o){var a=n(t,o),u=a[1],s=u*i/(e-1)+r;return[a[0]*r/s,u/s]}return u.invert=function(t,o){var a=(e-1)/(e-1-o*i);return n.invert(a*t,a*o*r)},u}dn.forEach((function(e){e[1]*=1.0144})),pn.invert=function(e,t){var n=t/b,i=90*n,o=f(18,r(i/5)),a=c(0,s(o));do{var u=dn[a][1],l=dn[a+1][1],d=dn[f(19,a+2)][1],p=d-u,h=d-2*l+u,m=2*(r(n)-l)/p,g=h/p,v=m*(1-g*m*(1-2*g*m));if(v>=0||1===a){i=(t>=0?5:-5)*(v+o);var y,x=50;do{v=(o=f(18,r(i)/5))-(a=s(o)),u=dn[a][1],l=dn[a+1][1],d=dn[f(19,a+2)][1],i-=(y=(t>=0?b:-b)*(l+v*(d-u)/2+v*v*(d-2*l+u)/2)-t)*C}while(r(y)>1e-12&&--x>0);break}}while(--a>=0);var w=dn[a][0],_=dn[a+1][0],E=dn[f(19,a+2)][0];return[e/(_+v*(E-w)/2+v*v*(E-2*_+w)/2),i*S]};var mn=-179.9999,gn=179.9999,vn=-89.9999;function yn(e){return e.length>0}function bn(e){return Math.floor(1e4*e)/1e4}function xn(e){return-90===e||90===e?[0,e]:[-180,bn(e)]}function wn(e){var t=e[0],n=e[1],r=!1;return t<=mn?(t=-180,r=!0):t>=gn&&(t=180,r=!0),n<=vn?(n=-90,r=!0):n>=89.9999&&(n=90,r=!0),r?[t,n]:e}function _n(e){return e.map(wn)}function En(e,t,n){for(var r=0,i=e.length;r<i;++r){var o=e[r].slice();n.push({index:-1,polygon:t,ring:o});for(var a=0,u=o.length;a<u;++a){var s=o[a],l=s[0],c=s[1];if(l<=mn||l>=gn||c<=vn||c>=89.9999){o[a]=wn(s);for(var f=a+1;f<u;++f){var d=o[f],p=d[0],h=d[1];if(p>mn&&p<gn&&h>vn&&h<89.9999)break}if(f===a+1)continue;if(a){var m={index:-1,polygon:t,ring:o.slice(0,a+1)};m.ring[m.ring.length-1]=xn(c),n[n.length-1]=m}else n.pop();if(f>=u)break;n.push({index:-1,polygon:t,ring:o=o.slice(f-1)}),o[0]=xn(o[0][1]),a=-1,u=o.length}}}}function kn(e){var t,n,r,i,o,a,u=e.length,s={},l={};for(t=0;t<u;++t)r=(n=e[t]).ring[0],o=n.ring[n.ring.length-1],r[0]!==o[0]||r[1]!==o[1]?(n.index=t,s[r]=l[o]=n):(n.polygon.push(n.ring),e[t]=null);for(t=0;t<u;++t)if(n=e[t]){if(r=n.ring[0],o=n.ring[n.ring.length-1],i=l[r],a=s[o],delete s[r],delete l[o],r[0]===o[0]&&r[1]===o[1]){n.polygon.push(n.ring);continue}i?(delete l[r],delete s[i.ring[0]],i.ring.pop(),e[i.index]=null,n={index:-1,polygon:i.polygon,ring:i.ring.concat(n.ring)},i===a?n.polygon.push(n.ring):(n.index=u++,e.push(s[n.ring[0]]=l[n.ring[n.ring.length-1]]=n))):a?(delete s[o],delete l[a.ring[a.ring.length-1]],n.ring.pop(),n={index:u++,polygon:a.polygon,ring:n.ring.concat(a.ring)},e[a.index]=null,e.push(s[n.ring[0]]=l[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function Cn(e){var t={type:"Feature",geometry:Sn(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function Sn(e){if(null==e)return e;var t,n,r,i;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(Sn)};break;case"Point":t={type:"Point",coordinates:wn(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:_n(e.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:e.coordinates.map(_n)};break;case"Polygon":var o=[];En(e.coordinates,o,n=[]),kn(n),t={type:"Polygon",coordinates:o};break;case"MultiPolygon":n=[],r=-1,i=e.coordinates.length;for(var a=new Array(i);++r<i;)En(e.coordinates[r],a[r]=[],n);kn(n),t={type:"MultiPolygon",coordinates:a.filter(yn)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function An(e,t){var n=g(t/2),r=m(x*n);return[e*(.74482-.34588*r*r),1.70711*n]}function On(e,n,r){var i=t.geoInterpolate(n,r),o=i(.5),a=t.geoRotation([-o[0],-o[1]])(n),u=i.distance/2,s=-A(m(a[1]*S)/m(u)),l=[-o[0],-o[1],-(a[0]>0?y-s:s)*C],c=t.geoProjection(e(u)).rotate(l),f=t.geoRotation(l),d=c.center;return delete c.rotate,c.center=function(e){return arguments.length?d(f(e)):f.invert(d())},c.clipAngle(90)}function Mn(e){var n=a(e);function r(e,r){var i=t.geoGnomonicRaw(e,r);return i[0]*=n,i}return r.invert=function(e,r){return t.geoGnomonicRaw.invert(e/n,r)},r}function Dn(e,t){return On(Mn,e,t)}function Pn(e){if(!(e*=2))return t.geoAzimuthalEquidistantRaw;var n=-e/2,r=-n,i=e*e,u=g(r),s=.5/m(r);function l(t,o){var u=O(a(o)*a(t-n)),s=O(a(o)*a(t-r));return[((u*=u)-(s*=s))/(2*e),(o<0?-1:1)*M(4*i*s-(i-u+s)*(i-u+s))/(2*e)]}return l.invert=function(e,t){var i,l,c=t*t,f=a(M(c+(i=e+n)*i)),d=a(M(c+(i=e+r)*i));return[o(l=f-d,i=(f+d)*u),(t<0?-1:1)*O(M(i*i+l*l)*s)]},l}function Tn(e,t){return On(Pn,e,t)}function Fn(e,t){if(r(t)<v)return[e,0];var n=r(t/b),i=A(n);if(r(e)<v||r(r(t)-b)<v)return[0,h(t)*y*g(i/2)];var o=a(i),u=r(y/e-e/y)/2,s=u*u,l=o/(n+o-1),c=l*(2/n-1),f=c*c,d=f+s,p=l-f,m=s+l;return[h(e)*y*(u*p+M(s*p*p-d*(l*l-f)))/d,h(t)*y*(c*m-u*M((s+1)*d-m*m))/d]}function Nn(e,t){if(r(t)<v)return[e,0];var n=r(t/b),i=A(n);if(r(e)<v||r(r(t)-b)<v)return[0,h(t)*y*g(i/2)];var o=a(i),u=r(y/e-e/y)/2,s=u*u,l=o*(M(1+s)-u*o)/(1+s*n*n);return[h(e)*y*l,h(t)*y*M(1-l*(2*u+l))]}function jn(e,t){if(r(t)<v)return[e,0];var n=t/b,i=A(n);if(r(e)<v||r(r(t)-b)<v)return[0,y*g(i/2)];var o=(y/e-e/y)/2,u=n/(1+a(i));return[y*(h(e)*M(o*o+1-u*u)-o),y*u]}function Rn(e,t){if(!t)return[e,0];var n=r(t);if(!e||n===b)return[0,t];var i=n/b,o=i*i,a=(8*i-o*(o+2)-5)/(2*o*(i-1)),u=a*a,s=i*a,l=o+u+2*s,c=i+3*a,f=e/b,d=f+1/f,p=h(r(e)-b)*M(d*d-4),m=p*p,g=(p*(l+u-1)+2*M(l*(o+u*m-1)+(1-o)*(o*(c*c+4*u)+12*s*u+4*u*u)))/(4*l+m);return[h(e)*b*g,h(t)*b*M(1+p*r(g)-g*g)]}function Bn(e,t,n,r){var i=y/3;e=c(e,v),t=c(t,v),e=f(e,b),t=f(t,y-v),n=c(n,0),n=f(n,100-v);var u=(r=c(r,v))/100,s=O((n/100+1)*a(i))/i,l=m(e)/m(s*b),d=t/y,p=M(u*m(e/2)/m(t/2));return function(e,t,n,r,i){function u(o,u){var s=n*m(r*u),l=M(1-s*s),c=M(2/(1+l*a(o*=i)));return[e*l*c*m(o),t*s*c]}return u.invert=function(a,u){var s=a/e,l=u/t,c=M(s*s+l*l),f=2*A(c/2);return[o(a*g(f),e*c)/i,c&&A(u*m(f)/(t*n*c))/r]},u}(p/M(d*l*s),1/(p*M(d*l*s)),l,s,d)}function Ln(){var e=65*S,n=60*S,r=20,i=200,o=t.geoProjectionMutator(Bn),a=o(e,n,r,i);return a.poleline=function(t){return arguments.length?o(e=+t*S,n,r,i):e*C},a.parallels=function(t){return arguments.length?o(e,n=+t*S,r,i):n*C},a.inflation=function(t){return arguments.length?o(e,n,r=+t,i):r},a.ratio=function(t){return arguments.length?o(e,n,r,i=+t):i},a.scale(163.775)}An.invert=function(e,t){var n=t/1.70711,r=m(x*n);return[e/(.74482-.34588*r*r),2*i(n)]},Fn.invert=function(e,t){if(r(t)<v)return[e,0];if(r(e)<v)return[0,b*m(2*i(t/y))];var n=(e/=y)*e,o=(t/=y)*t,u=n+o,s=u*u,l=-r(t)*(1+u),c=l-2*o+n,f=-2*l+1+2*o+s,d=o/f+(2*c*c*c/(f*f*f)-9*l*c/(f*f))/27,p=(l-c*c/(3*f))/f,g=2*M(-p/3),x=O(3*d/(p*g))/3;return[y*(u-1+M(1+2*(n-o)+s))/(2*e),h(t)*y*(-g*a(x+y/3)-c/(3*f))]},Nn.invert=function(e,t){if(!e)return[0,b*m(2*i(t/y))];var n=r(e/y),a=(1-n*n-(t/=y)*t)/(2*n),u=M(a*a+1);return[h(e)*y*(u-a),h(t)*b*m(2*o(M((1-2*a*n)*(a+u)-n),M(u+a+n)))]},jn.invert=function(e,t){if(!t)return[e,0];var n=t/y,r=(y*y*(1-n*n)-e*e)/(2*y*e);return[e?y*(h(e)*M(r*r+1)-r):0,b*m(2*i(n))]},Rn.invert=function(e,t){var n;if(!e||!t)return[e,t];t/=y;var i=h(e)*e/b,o=(i*i-1+4*t*t)/r(i),a=o*o,u=2*t,s=50;do{var l=u*u,c=(8*u-l*(l+2)-5)/(2*l*(u-1)),f=(3*u-l*u-10)/(2*l*u),d=c*c,p=u*c,m=u+c,g=m*m,x=u+3*c,w=-2*m*(4*p*d+(1-4*l+3*l*l)*(1+f)+d*(14*l-6-a+(8*l-8-2*a)*f)+p*(12*l-8+(10*l-10-a)*f)),_=M(g*(l+d*a-1)+(1-l)*(l*(x*x+4*d)+d*(12*p+4*d)));u-=n=(o*(g+d-1)+2*_-i*(4*g+a))/(o*(2*c*f+2*m*(1+f))+w/_-8*m*(o*(-1+d+g)+2*_)*(1+f)/(a+4*g))}while(n>v&&--s>0);return[h(e)*(M(o*o+4)+o)*y/4,b*u]};var zn=4*y+3*M(3),In=2*M(2*y*M(3)/zn),$n=V(In*M(3)/y,In,zn/6);function Un(e,t){return[e*M(1-3*t*t/(y*y)),t]}function qn(e,t){var n=a(t),r=a(e)*n,i=1-r,u=a(e=o(m(e)*n,-m(t))),s=m(e);return[s*(n=M(1-r*r))-u*i,-u*n-s*i]}function Wn(e,t){var n=F(e,t);return[(n[0]+e/b)/2,(n[1]+t)/2]}Un.invert=function(e,t){return[e/M(1-3*t*t/(y*y)),t]},qn.invert=function(e,t){var n=(e*e+t*t)/-2,r=M(-n*(2+n)),i=t*n+e*r,a=e*n-t*r,u=M(a*a+i*i);return[o(r*i,u*(1+n)),u?-A(r*a/u):0]},Wn.invert=function(e,t){var n=e,i=t,o=25;do{var u,s=a(i),l=m(i),c=m(2*i),f=l*l,d=s*s,p=m(n),h=a(n/2),g=m(n/2),y=g*g,x=1-d*h*h,w=x?O(s*h)*M(u=1/x):u=0,_=.5*(2*w*s*g+n/b)-e,E=.5*(w*l+i)-t,k=.5*u*(d*y+w*s*h*f)+.5/b,C=u*(p*c/4-w*l*g),S=.125*u*(c*g-w*l*d*p),A=.5*u*(f*h+w*y*s)+.5,D=C*S-A*k,P=(E*C-_*A)/D,T=(_*S-E*k)/D;n-=P,i-=T}while((r(P)>v||r(T)>v)&&--o>0);return[n,i]},e.geoNaturalEarth=t.geoNaturalEarth1,e.geoNaturalEarthRaw=t.geoNaturalEarth1Raw,e.geoAiry=function(){var e=b,n=t.geoProjectionMutator(T),r=n(e);return r.radius=function(t){return arguments.length?n(e=t*S):e*C},r.scale(179.976).clipAngle(147)},e.geoAiryRaw=T,e.geoAitoff=function(){return t.geoProjection(F).scale(152.63)},e.geoAitoffRaw=F,e.geoArmadillo=function(){var e=20*S,n=e>=0?1:-1,r=g(n*e),i=t.geoProjectionMutator(N),u=i(e),s=u.stream;return u.parallel=function(t){return arguments.length?(r=g((n=(e=t*S)>=0?1:-1)*e),i(e)):e*C},u.stream=function(t){var i=u.rotate(),l=s(t),c=(u.rotate([0,0]),s(t)),f=u.precision();return u.rotate(i),l.sphere=function(){c.polygonStart(),c.lineStart();for(var t=-180*n;n*t<180;t+=90*n)c.point(t,90*n);if(e)for(;n*(t-=3*n*f)>=-180;)c.point(t,n*-o(a(t*S/2),r)*C);c.lineEnd(),c.polygonEnd()},l},u.scale(218.695).center([0,28.0974])},e.geoArmadilloRaw=N,e.geoAugust=function(){return t.geoProjection(j).scale(66.1603)},e.geoAugustRaw=j,e.geoBaker=function(){return t.geoProjection(L).scale(112.314)},e.geoBakerRaw=L,e.geoBerghaus=function(){var e=5,n=t.geoProjectionMutator(z),r=n(e),i=r.stream,u=-a(.01*S),s=m(.01*S);return r.lobes=function(t){return arguments.length?n(e=+t):e},r.stream=function(t){var n=r.rotate(),l=i(t),c=(r.rotate([0,0]),i(t));return r.rotate(n),l.sphere=function(){c.polygonStart(),c.lineStart();for(var t=0,n=360/e,r=2*y/e,i=90-180/e,l=b;t<e;++t,i-=n,l-=r)c.point(o(s*a(l),u)*C,A(s*m(l))*C),i<-90?(c.point(-90,-180-i-.01),c.point(-90,-180-i+.01)):(c.point(90,i+.01),c.point(90,i-.01));c.lineEnd(),c.polygonEnd()},l},r.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},e.geoBerghausRaw=z,e.geoBertin1953=function(){return t.geoProjection(W()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])},e.geoBertin1953Raw=W,e.geoBoggs=function(){return t.geoProjection(K).scale(160.857)},e.geoBoggsRaw=K,e.geoBonne=function(){return Q(Z).scale(123.082).center([0,26.1441]).parallel(45)},e.geoBonneRaw=Z,e.geoBottomley=function(){var e=.5,n=t.geoProjectionMutator(ee),r=n(e);return r.fraction=function(t){return arguments.length?n(e=+t):e},r.scale(158.837)},e.geoBottomleyRaw=ee,e.geoBromley=function(){return t.geoProjection(te).scale(152.63)},e.geoBromleyRaw=te,e.geoChamberlin=ue,e.geoChamberlinRaw=oe,e.geoChamberlinAfrica=function(){return ue([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},e.geoCollignon=function(){return t.geoProjection(se).scale(95.6464).center([0,30])},e.geoCollignonRaw=se,e.geoCraig=function(){return Q(le).scale(249.828).clipAngle(90)},e.geoCraigRaw=le,e.geoCraster=function(){return t.geoProjection(fe).scale(156.19)},e.geoCrasterRaw=fe,e.geoCylindricalEqualArea=function(){return Q(de).parallel(38.58).scale(195.044)},e.geoCylindricalEqualAreaRaw=de,e.geoCylindricalStereographic=function(){return Q(pe).scale(124.75)},e.geoCylindricalStereographicRaw=pe,e.geoEckert1=function(){return t.geoProjection(he).scale(165.664)},e.geoEckert1Raw=he,e.geoEckert2=function(){return t.geoProjection(me).scale(165.664)},e.geoEckert2Raw=me,e.geoEckert3=function(){return t.geoProjection(ge).scale(180.739)},e.geoEckert3Raw=ge,e.geoEckert4=function(){return t.geoProjection(ve).scale(180.739)},e.geoEckert4Raw=ve,e.geoEckert5=function(){return t.geoProjection(ye).scale(173.044)},e.geoEckert5Raw=ye,e.geoEckert6=function(){return t.geoProjection(be).scale(173.044)},e.geoEckert6Raw=be,e.geoEisenlohr=function(){return t.geoProjection(we).scale(62.5271)},e.geoEisenlohrRaw=we,e.geoFahey=function(){return t.geoProjection(Ee).scale(137.152)},e.geoFaheyRaw=Ee,e.geoFoucaut=function(){return t.geoProjection(ke).scale(135.264)},e.geoFoucautRaw=ke,e.geoFoucautSinusoidal=function(){var e=.5,n=t.geoProjectionMutator(Ce),r=n(e);return r.alpha=function(t){return arguments.length?n(e=+t):e},r.scale(168.725)},e.geoFoucautSinusoidalRaw=Ce,e.geoGilbert=function(e){null==e&&(e=t.geoOrthographic);var n=e(),r=t.geoEquirectangular().scale(C).precision(0).clipAngle(null).translate([0,0]);function i(e){return n(Se(e))}function o(e){i[e]=function(){return arguments.length?(n[e].apply(n,arguments),i):n[e]()}}return n.invert&&(i.invert=function(e){return Ae(n.invert(e))}),i.stream=function(e){var t=n.stream(e),i=r.stream({point:function(e,n){t.point(e/2,A(g(-n/2*S))*C)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}});return i.sphere=t.sphere,i},i.rotate=function(e){return arguments.length?(r.rotate(e),i):r.rotate()},i.center=function(e){return arguments.length?(n.center(Se(e)),i):Ae(n.center())},o("angle"),o("clipAngle"),o("clipExtent"),o("fitExtent"),o("fitHeight"),o("fitSize"),o("fitWidth"),o("scale"),o("translate"),o("precision"),i.scale(249.5)},e.geoGingery=function(){var e=6,n=30*S,r=a(n),i=m(n),u=t.geoProjectionMutator(Oe),s=u(n,e),l=s.stream,c=-a(.01*S),f=m(.01*S);return s.radius=function(t){return arguments.length?(r=a(n=t*S),i=m(n),u(n,e)):n*C},s.lobes=function(t){return arguments.length?u(n,e=+t):e},s.stream=function(t){var n=s.rotate(),u=l(t),d=(s.rotate([0,0]),l(t));return s.rotate(n),u.sphere=function(){d.polygonStart(),d.lineStart();for(var t=0,n=2*y/e,u=0;t<e;++t,u-=n)d.point(o(f*a(u),c)*C,A(f*m(u))*C),d.point(o(i*a(u-n/2),r)*C,A(i*m(u-n/2))*C);d.lineEnd(),d.polygonEnd()},u},s.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},e.geoGingeryRaw=Oe,e.geoGinzburg4=function(){return t.geoProjection(Te).scale(149.995)},e.geoGinzburg4Raw=Te,e.geoGinzburg5=function(){return t.geoProjection(Fe).scale(153.93)},e.geoGinzburg5Raw=Fe,e.geoGinzburg6=function(){return t.geoProjection(Ne).scale(130.945)},e.geoGinzburg6Raw=Ne,e.geoGinzburg8=function(){return t.geoProjection(je).scale(131.747)},e.geoGinzburg8Raw=je,e.geoGinzburg9=function(){return t.geoProjection(Re).scale(131.087)},e.geoGinzburg9Raw=Re,e.geoGringorten=function(){return t.geoProjection(Be(Le)).scale(239.75)},e.geoGringortenRaw=Le,e.geoGuyou=function(){return t.geoProjection(Be($e)).scale(151.496)},e.geoGuyouRaw=$e,e.geoHammer=function(){var e=2,n=t.geoProjectionMutator(I),r=n(e);return r.coefficient=function(t){return arguments.length?n(e=+t):e},r.scale(169.529)},e.geoHammerRaw=I,e.geoHammerRetroazimuthal=function(){var e=0,n=t.geoProjectionMutator(Ue),r=n(e),i=r.rotate,o=r.stream,a=t.geoCircle();return r.parallel=function(t){if(!arguments.length)return e*C;var i=r.rotate();return n(e=t*S).rotate(i)},r.rotate=function(t){return arguments.length?(i.call(r,[t[0],t[1]-e*C]),a.center([-t[0],-t[1]]),r):((t=i.call(r))[1]+=e*C,t)},r.stream=function(e){return(e=o(e)).sphere=function(){e.polygonStart();var t,n=a.radius(89.99)().coordinates[0],r=n.length-1,i=-1;for(e.lineStart();++i<r;)e.point((t=n[i])[0],t[1]);for(e.lineEnd(),r=(n=a.radius(90.01)().coordinates[0]).length-1,e.lineStart();--i>=0;)e.point((t=n[i])[0],t[1]);e.lineEnd(),e.polygonEnd()},e},r.scale(79.4187).parallel(45).clipAngle(179.999)},e.geoHammerRetroazimuthalRaw=Ue,e.geoHealpix=function(){var e=4,r=t.geoProjectionMutator(Ve),i=r(e),o=i.stream;return i.lobes=function(t){return arguments.length?r(e=+t):e},i.stream=function(r){var a=i.rotate(),u=o(r),s=(i.rotate([0,0]),o(r));return i.rotate(a),u.sphere=function(){t.geoStream(function(e){var t=[].concat(n.range(-180,180+e/2,e).map(Ge),n.range(180,-180-e/2,-e).map(Ye));return{type:"Polygon",coordinates:[180===e?t.map(Xe):t]}}(180/e),s)},u},i.scale(239.75)},e.geoHealpixRaw=Ve,e.geoHill=function(){var e=1,n=t.geoProjectionMutator(Ke),r=n(e);return r.ratio=function(t){return arguments.length?n(e=+t):e},r.scale(167.774).center([0,18.67])},e.geoHillRaw=Ke,e.geoHomolosine=function(){return t.geoProjection(Je).scale(152.63)},e.geoHomolosineRaw=Je,e.geoHufnagel=function(){var e=1,n=0,r=45*S,i=2,o=t.geoProjectionMutator(Ze),a=o(e,n,r,i);return a.a=function(t){return arguments.length?o(e=+t,n,r,i):e},a.b=function(t){return arguments.length?o(e,n=+t,r,i):n},a.psiMax=function(t){return arguments.length?o(e,n,r=+t*S,i):r*C},a.ratio=function(t){return arguments.length?o(e,n,r,i=+t):i},a.scale(180.739)},e.geoHufnagelRaw=Ze,e.geoHyperelliptical=function(){var e=0,n=2.5,r=1.183136,i=t.geoProjectionMutator(tt),o=i(e,n,r);return o.alpha=function(t){return arguments.length?i(e=+t,n,r):e},o.k=function(t){return arguments.length?i(e,n=+t,r):n},o.gamma=function(t){return arguments.length?i(e,n,r=+t):r},o.scale(152.63)},e.geoHyperellipticalRaw=tt,e.geoInterrupt=ot,e.geoInterruptedBoggs=function(){return ot(K,at).scale(160.857)},e.geoInterruptedHomolosine=function(){return ot(Je,ut).scale(152.63)},e.geoInterruptedMollweide=function(){return ot(G,st).scale(169.529)},e.geoInterruptedMollweideHemispheres=function(){return ot(G,lt).scale(169.529).rotate([20,0])},e.geoInterruptedSinuMollweide=function(){return ot(Qe,ct,q).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},e.geoInterruptedSinusoidal=function(){return ot(J,ft).scale(152.63).rotate([-20,0])},e.geoKavrayskiy7=function(){return t.geoProjection(dt).scale(158.837)},e.geoKavrayskiy7Raw=dt,e.geoLagrange=function(){var e=.5,n=t.geoProjectionMutator(pt),r=n(e);return r.spacing=function(t){return arguments.length?n(e=+t):e},r.scale(124.75)},e.geoLagrangeRaw=pt,e.geoLarrivee=function(){return t.geoProjection(mt).scale(97.2672)},e.geoLarriveeRaw=mt,e.geoLaskowski=function(){return t.geoProjection(gt).scale(139.98)},e.geoLaskowskiRaw=gt,e.geoLittrow=function(){return t.geoProjection(vt).scale(144.049).clipAngle(89.999)},e.geoLittrowRaw=vt,e.geoLoximuthal=function(){return Q(yt).parallel(40).scale(158.837)},e.geoLoximuthalRaw=yt,e.geoMiller=function(){return t.geoProjection(bt).scale(108.318)},e.geoMillerRaw=bt,e.geoModifiedStereographic=St,e.geoModifiedStereographicRaw=xt,e.geoModifiedStereographicAlaska=function(){return St(wt,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)},e.geoModifiedStereographicGs48=function(){return St(_t,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},e.geoModifiedStereographicGs50=function(){return St(Et,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},e.geoModifiedStereographicMiller=function(){return St(kt,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},e.geoModifiedStereographicLee=function(){return St(Ct,[165,10]).scale(250).clipAngle(130).center([-165,-10])},e.geoMollweide=function(){return t.geoProjection(G).scale(169.529)},e.geoMollweideRaw=G,e.geoMtFlatPolarParabolic=function(){return t.geoProjection(Mt).scale(164.859)},e.geoMtFlatPolarParabolicRaw=Mt,e.geoMtFlatPolarQuartic=function(){return t.geoProjection(Dt).scale(188.209)},e.geoMtFlatPolarQuarticRaw=Dt,e.geoMtFlatPolarSinusoidal=function(){return t.geoProjection(Pt).scale(166.518)},e.geoMtFlatPolarSinusoidalRaw=Pt,e.geoNaturalEarth2=function(){return t.geoProjection(Tt).scale(175.295)},e.geoNaturalEarth2Raw=Tt,e.geoNellHammer=function(){return t.geoProjection(Ft).scale(152.63)},e.geoNellHammerRaw=Ft,e.geoInterruptedQuarticAuthalic=function(){return ot(I(1/0),Nt).rotate([20,0]).scale(152.63)},e.geoNicolosi=function(){return t.geoProjection(jt).scale(127.267)},e.geoNicolosiRaw=jt,e.geoPatterson=function(){return t.geoProjection(Rt).scale(139.319)},e.geoPattersonRaw=Rt,e.geoPolyconic=function(){return t.geoProjection(Bt).scale(103.74)},e.geoPolyconicRaw=Bt,e.geoPolyhedral=Ut,e.geoPolyhedralButterfly=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Vt.map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,t){var r=n[e];r&&(r.children||(r.children=[])).push(n[t])})),Ut(n[0],(function(e,t){return n[e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5]})).angle(-30).scale(101.858).center([0,45])},e.geoPolyhedralCollignon=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoProjection(Yt).translate([0,0]).scale(1).rotate(n[1]>0?[-n[0],0]:[180-n[0],180])};var n=Vt.map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,t){var r=n[e];r&&(r.children||(r.children=[])).push(n[t])})),Ut(n[0],(function(e,t){return n[e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5]})).angle(-30).scale(121.906).center([0,48.5904])},e.geoPolyhedralWaterman=function(e){e=e||function(e){var n=6===e.length?t.geoCentroid({type:"MultiPoint",coordinates:e}):e[0];return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Vt.map((function(e){for(var t,n=e.map(Jt),r=n.length,i=n[r-1],o=[],a=0;a<r;++a)t=n[a],o.push(Qt([.9486832980505138*i[0]+.31622776601683794*t[0],.9486832980505138*i[1]+.31622776601683794*t[1],.9486832980505138*i[2]+.31622776601683794*t[2]]),Qt([.9486832980505138*t[0]+.31622776601683794*i[0],.9486832980505138*t[1]+.31622776601683794*i[1],.9486832980505138*t[2]+.31622776601683794*i[2]])),i=t;return o})),r=[],i=[-1,0,0,1,0,1,4,5];n.forEach((function(e,t){for(var o=Vt[t],a=o.length,u=r[t]=[],s=0;s<a;++s)n.push([o[s],e[(2*s+2)%(2*a)],e[(2*s+1)%(2*a)]]),i.push(t),u.push(Kt(Jt(e[(2*s+2)%(2*a)]),Jt(e[(2*s+1)%(2*a)])))}));var o=n.map((function(t){return{project:e(t),face:t}}));return i.forEach((function(e,t){var n=o[e];n&&(n.children||(n.children=[])).push(o[t])})),Ut(o[0],(function(e,t){var n=a(t),i=[n*a(e),n*m(e),m(t)],u=e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5,s=r[u];return o[Xt(s[0],i)<0?8+3*u:Xt(s[1],i)<0?8+3*u+1:Xt(s[2],i)<0?8+3*u+2:u]})).angle(-30).scale(110.625).center([0,45])},e.geoProject=function(e,t){var n,r=t.stream;if(!r)throw new Error("invalid projection");switch(e&&e.type){case"Feature":n=tn;break;case"FeatureCollection":n=en;break;default:n=nn}return n(e,r)},e.geoGringortenQuincuncial=function(){return ln(Le).scale(176.423)},e.geoPeirceQuincuncial=cn,e.geoPierceQuincuncial=cn,e.geoQuantize=function(e,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function n(e){var n=e.length,r=2,i=new Array(n);for(i[0]=+e[0].toFixed(t),i[1]=+e[1].toFixed(t);r<n;)i[r]=e[r],++r;return i}function r(e){return e.map(n)}function i(e){for(var t=n(e[0]),r=[t],i=1;i<e.length;i++){var o=n(e[i]);(o.length>2||o[0]!=t[0]||o[1]!=t[1])&&(r.push(o),t=o)}return 1===r.length&&e.length>1&&r.push(n(e[e.length-1])),r}function o(e){return e.map(i)}function a(e){if(null==e)return e;var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(a)};break;case"Point":t={type:"Point",coordinates:n(e.coordinates)};break;case"MultiPoint":t={type:e.type,coordinates:r(e.coordinates)};break;case"LineString":t={type:e.type,coordinates:i(e.coordinates)};break;case"MultiLineString":case"Polygon":t={type:e.type,coordinates:o(e.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:e.coordinates.map(o)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function u(e){var t={type:"Feature",properties:e.properties,geometry:a(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),t}if(null!=e)switch(e.type){case"Feature":return u(e);case"FeatureCollection":var s={type:"FeatureCollection",features:e.features.map(u)};return null!=e.bbox&&(s.bbox=e.bbox),s;default:return a(e)}return e},e.geoQuincuncial=ln,e.geoRectangularPolyconic=function(){return Q(fn).scale(131.215)},e.geoRectangularPolyconicRaw=fn,e.geoRobinson=function(){return t.geoProjection(pn).scale(152.63)},e.geoRobinsonRaw=pn,e.geoSatellite=function(){var e=2,n=0,r=t.geoProjectionMutator(hn),i=r(e,n);return i.distance=function(t){return arguments.length?r(e=+t,n):e},i.tilt=function(t){return arguments.length?r(e,n=t*S):n*C},i.scale(432.147).clipAngle(O(1/e)*C-1e-6)},e.geoSatelliteRaw=hn,e.geoSinuMollweide=function(){return t.geoProjection(Qe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},e.geoSinuMollweideRaw=Qe,e.geoSinusoidal=function(){return t.geoProjection(J).scale(152.63)},e.geoSinusoidalRaw=J,e.geoStitch=function(e){if(null==e)return e;switch(e.type){case"Feature":return Cn(e);case"FeatureCollection":var t={type:"FeatureCollection",features:e.features.map(Cn)};return null!=e.bbox&&(t.bbox=e.bbox),t;default:return Sn(e)}},e.geoTimes=function(){return t.geoProjection(An).scale(146.153)},e.geoTimesRaw=An,e.geoTwoPointAzimuthal=Dn,e.geoTwoPointAzimuthalRaw=Mn,e.geoTwoPointAzimuthalUsa=function(){return Dn([-158,21.5],[-77,39]).clipAngle(60).scale(400)},e.geoTwoPointEquidistant=Tn,e.geoTwoPointEquidistantRaw=Pn,e.geoTwoPointEquidistantUsa=function(){return Tn([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},e.geoVanDerGrinten=function(){return t.geoProjection(Fn).scale(79.4183)},e.geoVanDerGrintenRaw=Fn,e.geoVanDerGrinten2=function(){return t.geoProjection(Nn).scale(79.4183)},e.geoVanDerGrinten2Raw=Nn,e.geoVanDerGrinten3=function(){return t.geoProjection(jn).scale(79.4183)},e.geoVanDerGrinten3Raw=jn,e.geoVanDerGrinten4=function(){return t.geoProjection(Rn).scale(127.16)},e.geoVanDerGrinten4Raw=Rn,e.geoWagner=Ln,e.geoWagner7=function(){return Ln().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)},e.geoWagnerRaw=Bn,e.geoWagner4=function(){return t.geoProjection($n).scale(176.84)},e.geoWagner4Raw=$n,e.geoWagner6=function(){return t.geoProjection(Un).scale(152.63)},e.geoWagner6Raw=Un,e.geoWiechel=function(){return t.geoProjection(qn).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},e.geoWiechelRaw=qn,e.geoWinkel3=function(){return t.geoProjection(Wn).scale(158.837)},e.geoWinkel3Raw=Wn,Object.defineProperty(e,"__esModule",{value:!0})}(t,cw,fw)}));t(dw);var pw=n((function(e,t){!function(e,t,n){var r=t.geoPath(),i=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function o(e,n){return function r(){var o=n();return o.type=e,o.path=t.geoPath().projection(o),o.copy=o.copy||function(){var e=r();return i.forEach((function(t){o[t]&&e[t](o[t]())})),e.path.pointRadius(o.path.pointRadius()),e},o}}function a(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(u[e]=o(e,t),this):u[e]||null}var u={albers:t.geoAlbers,albersusa:t.geoAlbersUsa,azimuthalequalarea:t.geoAzimuthalEqualArea,azimuthalequidistant:t.geoAzimuthalEquidistant,conicconformal:t.geoConicConformal,conicequalarea:t.geoConicEqualArea,conicequidistant:t.geoConicEquidistant,equalEarth:t.geoEqualEarth,equirectangular:t.geoEquirectangular,gnomonic:t.geoGnomonic,identity:t.geoIdentity,mercator:t.geoMercator,mollweide:n.geoMollweide,naturalEarth1:t.geoNaturalEarth1,orthographic:t.geoOrthographic,stereographic:t.geoStereographic,transversemercator:t.geoTransverseMercator};for(var s in u)a(s,u[s]);e.getProjectionPath=function(e){return e&&e.path||r},e.projection=a,e.projectionProperties=i,Object.defineProperty(e,"__esModule",{value:!0})}(t,cw,dw)}));t(pw);var hw=n((function(e,t){!function(e,t,n,r,i,o,a,u,s){function l(){}const c=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function f(){var e=1,t=1,r=u;function i(e,t){return t.map(t=>o(e,t))}function o(n,i){var o=[],u=[];return function(n,r,i){var o,u,s,l,f,d,p=new Array,h=new Array;for(o=u=-1,l=n[0]>=r,c[l<<1].forEach(m);++o<e-1;)s=l,l=n[o+1]>=r,c[s|l<<1].forEach(m);for(c[l<<0].forEach(m);++u<t-1;){for(o=-1,l=n[u*e+e]>=r,f=n[u*e]>=r,c[l<<1|f<<2].forEach(m);++o<e-1;)s=l,l=n[u*e+e+o+1]>=r,d=f,f=n[u*e+o+1]>=r,c[s|l<<1|f<<2|d<<3].forEach(m);c[l|f<<3].forEach(m)}for(o=-1,f=n[u*e]>=r,c[f<<2].forEach(m);++o<e-1;)d=f,f=n[u*e+o+1]>=r,c[f<<2|d<<3].forEach(m);function m(e){var t,n,r=[e[0][0]+o,e[0][1]+u],s=[e[1][0]+o,e[1][1]+u],l=a(r),c=a(s);(t=h[l])?(n=p[c])?(delete h[t.end],delete p[n.start],t===n?(t.ring.push(s),i(t.ring)):p[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(s),h[t.end=c]=t):(t=p[c])?(n=h[l])?(delete p[t.start],delete h[n.end],t===n?(t.ring.push(s),i(t.ring)):p[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(r),p[t.start=l]=t):p[l]=h[c]={start:l,end:c,ring:[r,s]}}c[f<<3].forEach(m)}(n,i,(function(e){r(e,n,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==d((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function u(n,r,i){n.forEach((function(n){var o,a=n[0],u=n[1],s=0|a,l=0|u,c=r[l*e+s];a>0&&a<e&&s===a&&(o=r[l*e+s-1],n[0]=a+(i-o)/(c-o)-.5),u>0&&u<t&&l===u&&(o=r[(l-1)*e+s],n[1]=u+(i-o)/(c-o)-.5)}))}return i.contour=o,i.size=function(r){if(!arguments.length)return[e,t];var o=Math.ceil(r[0]),a=Math.ceil(r[1]);return o>0&&a>0||n.error("invalid size"),e=o,t=a,i},i.smooth=function(e){return arguments.length?(r=e?u:l,i):r===u},i}function d(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=p(e,t[r]))return n;return 0}function p(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,u=a-1;o<a;u=o++){var s=e[o],l=s[0],c=s[1],f=e[u],d=f[0],p=f[1];if(h(s,f,t))return 0;c>r!=p>r&&n<(d-l)*(r-c)/(p-c)+l&&(i=-i)}return i}function h(e,t,n){var r;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function m(e,t,i){return function(o){var a=n.extent(o),u=i?Math.min(a[0],0):a[0],s=a[1],l=s-u,c=t?r.tickStep(u,s,e):l/(e+1);return r.range(c,s,c)}}function g(e){t.Transform.call(this,null,e)}function v(e,t,n,r,i){const o=e.x1||0,a=e.y1||0,u=t*n<0;function s(e){e.forEach(l)}function l(e){u&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+r,e[1]=(e[1]-a)*n+i}return function(e){return e.coordinates.forEach(s),e}}function y(e,t,n){const r=e>=0?e:i.bandwidthNRD(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function b(e){return n.isFunction(e)?e:n.constant(+e)}function x(){var e=e=>e[0],t=e=>e[1],i=n.one,o=[-1,-1],a=960,u=500,s=2;function l(n,l){const c=y(o[0],n,e)>>s,f=y(o[1],n,t)>>s,d=c?c+2:0,p=f?f+2:0,h=2*d+(a>>s),m=2*p+(u>>s),g=new Float32Array(h*m),v=new Float32Array(h*m);let b=g;n.forEach(n=>{const r=d+(+e(n)>>s),o=p+(+t(n)>>s);r>=0&&r<h&&o>=0&&o<m&&(g[r+o*h]+=+i(n))}),c>0&&f>0?(w(h,m,g,v,c),_(h,m,v,g,f),w(h,m,g,v,c),_(h,m,v,g,f),w(h,m,g,v,c),_(h,m,v,g,f)):c>0?(w(h,m,g,v,c),w(h,m,v,g,c),w(h,m,g,v,c),b=v):f>0&&(_(h,m,g,v,f),_(h,m,v,g,f),_(h,m,g,v,f),b=v);let x=l?Math.pow(2,-2*s):1/r.sum(b);for(let e=0,t=h*m;e<t;++e)b[e]*=x;return{values:b,scale:1<<s,width:h,height:m,x1:d,y1:p,x2:d+(a>>s),y2:p+(u>>s)}}return l.x=function(t){return arguments.length?(e=b(t),l):e},l.y=function(e){return arguments.length?(t=b(e),l):t},l.weight=function(e){return arguments.length?(i=b(e),l):i},l.size=function(e){if(!arguments.length)return[a,u];var t=Math.ceil(e[0]),r=Math.ceil(e[1]);return t>=0||r>=0||n.error("invalid size"),a=t,u=r,l},l.cellSize=function(e){return arguments.length?((e=+e)>=1||n.error("invalid cell size"),s=Math.floor(Math.log(e)/Math.LN2),l):1<<s},l.bandwidth=function(e){return arguments.length?(1===(e=n.array(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&n.error("invalid bandwidth"),o=e,l):o},l}function w(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<t;++a)for(let t=0,u=0;t<e+i;++t)t<e&&(u+=n[t+a*e]),t>=i&&(t>=o&&(u-=n[t-o+a*e]),r[t-i+a*e]=u/Math.min(t+1,e-1+o-t,o))}function _(e,t,n,r,i){const o=1+(i<<1);for(let a=0;a<e;++a)for(let u=0,s=0;u<t+i;++u)u<t&&(s+=n[a+u*e]),u>=i&&(u>=o&&(s-=n[a+(u-o)*e]),r[a+(u-i)*e]=s/Math.min(u+1,t-1+o-u,o))}function E(e){t.Transform.call(this,null,e)}g.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},n.inherits(g,t.Transform).transform=function(e,i){if(this.value&&!i.changed()&&!e.modified())return i.StopPropagation;var o=i.fork(i.NO_SOURCE|i.NO_FIELDS),a=i.materialize(i.SOURCE).source,u=e.field||n.identity,s=f().smooth(!1!==e.smooth),l=e.thresholds||function(e,t,n){const i=m(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map(e=>r.max(t(e).values)))}(a,u,e),c=null===e.as?null:e.as||"contour",d=[];return a.forEach(r=>{const i=u(r),o=s.size([i.width,i.height])(i.values,n.isArray(l)?l:l(i.values));!function(e,t,r,i){let o=i.scale||t.scale,a=i.translate||t.translate;if(n.isFunction(o)&&(o=o(r,i)),n.isFunction(a)&&(a=a(r,i)),(1===o||null==o)&&!a)return;const u=(n.isNumber(o)?o:o[0])||1,s=(n.isNumber(o)?o:o[1])||1,l=a&&a[0]||0,c=a&&a[1]||0;e.forEach(v(t,u,s,l,c))}(o,i,r,e),o.forEach(e=>{d.push(t.rederive(r,t.ingest(null!=c?{[c]:e}:e)))})}),this.value&&(o.rem=this.value),this.value=o.source=o.add=d,o},E.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var k=n.inherits(E,t.Transform);const C=["x","y","weight","size","cellSize","bandwidth"];function S(e,t){return C.forEach(n=>null!=t[n]?e[n](t[n]):0),e}function A(e){t.Transform.call(this,null,e)}function O(e){t.Transform.call(this,null,e)}function M(e){t.Transform.call(this,null,e)}function D(e){t.Transform.call(this,null,e)}function P(e){t.Transform.call(this,null,e)}function T(e){t.Transform.call(this,[],e),this.generator=a.geoGraticule()}function F(e){t.Transform.call(this,null,e)}function N(e){if(!n.isFunction(e))return!1;const t=n.toSet(n.accessorFields(e));return t.$x||t.$y||t.$value||t.$max}function j(e){t.Transform.call(this,null,e),this.modified(!0)}function R(e,t){var r=function(e){return 1===(e=n.array(e)).length?e[0]:{type:"FeatureCollection",features:e.reduce((e,t)=>e.concat(function(e){return"FeatureCollection"===e.type?e.features:n.array(e).filter(e=>null!=e).map(e=>"Feature"===e.type?e:{type:"Feature",geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,r):t.size&&e.fitSize(t.size,r)}function B(e,t,r){n.isFunction(e[t])&&e[t](r)}k.transform=function(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var i,o=r.fork(r.NO_SOURCE|r.NO_FIELDS),a=function(e,t){var n,r,i,o,a,u,s=[],l=e=>e(o);if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(u=n[a=t.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}(r.materialize(r.SOURCE).source,e.groupby),u=(e.groupby||[]).map(n.accessorName),s=S(x(),e),l=e.as||"grid";return i=a.map(n=>t.ingest(function(e,t){for(let n=0;n<u.length;++n)e[u[n]]=t[n];return e}({[l]:s(n,e.counts)},n.dims))),this.value&&(o.rem=this.value),this.value=o.source=o.add=i,o},A.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},n.inherits(A,t.Transform).transform=function(e,r){if(this.value&&!r.changed()&&!e.modified())return r.StopPropagation;var i,o,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),u=f().smooth(!1!==e.smooth),s=e.values,l=e.thresholds||m(e.count||10,e.nice,!!s),c=e.size;return s||(s=r.materialize(r.SOURCE).source,o=v(i=S(x(),e)(s,!0),i.scale||1,i.scale||1,0,0),c=[i.width,i.height],s=i.values),l=n.isArray(l)?l:l(s),s=u.size(c)(s,l),o&&s.forEach(o),this.value&&(a.rem=this.value),this.value=a.source=a.add=(s||[]).map(t.ingest),a},O.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},n.inherits(O,t.Transform).transform=function(e,t){var r,i=this._features,o=this._points,a=e.fields,u=a&&a[0],s=a&&a[1],l=e.geojson||!a&&n.identity,c=t.ADD;r=e.modified()||t.changed(t.REM)||t.modified(n.accessorFields(l))||u&&t.modified(n.accessorFields(u))||s&&t.modified(n.accessorFields(s)),this.value&&!r||(c=t.SOURCE,this._features=i=[],this._points=o=[]),l&&t.visit(c,(function(e){i.push(l(e))})),u&&s&&(t.visit(c,(function(e){var t=u(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&o.push([t,n])})),i=i.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:o}})),this.value={type:"FeatureCollection",features:i}},M.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},n.inherits(M,t.Transform).transform=function(e,t){var r=t.fork(t.ALL),i=this.value,a=e.field||n.identity,u=e.as||"path",s=r.SOURCE;!i||e.modified()?(this.value=i=o.getProjectionPath(e.projection),r.materialize().reflow()):s=a===n.identity||t.modified(a.fields)?r.ADD_MOD:r.ADD;var l=function(e,t){var n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(i,e.pointRadius);return r.visit(s,(function(e){e[u]=i(a(e))})),i.pointRadius(l),r.modifies(u)},D.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},n.inherits(D,t.Transform).transform=function(e,t){var n,r=e.projection,i=e.fields[0],o=e.fields[1],a=e.as||["x","y"],u=a[0],s=a[1];function l(e){var t=r([i(e),o(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(n=t.modified(i.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,l)),t.modifies(a)},P.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},n.inherits(P,t.Transform).transform=function(e,t){var r=t.fork(t.ALL),i=this.value,a=e.as||"shape",u=r.ADD;return i&&!e.modified()||(this.value=i=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),o=e.pointRadius(n)(t(r));return e.pointRadius(i),o};return r.context=function(t){return e.context(t),r},r}(o.getProjectionPath(e.projection),e.field||n.field("datum"),e.pointRadius),r.materialize().reflow(),u=r.SOURCE),r.visit(u,(function(e){e[a]=i})),r.modifies(a)},T.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},n.inherits(T,t.Transform).transform=function(e,r){var i,o=this.value,a=this.generator;if(!o.length||e.modified())for(var u in e)n.isFunction(a[u])&&a[u](e[u]);return i=a(),o.length?r.mod.push(t.replace(o[0],i)):r.add.push(t.ingest(i)),o[0]=i,r},F.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},n.inherits(F,t.Transform).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var i=t.materialize(t.SOURCE).source,o="shared"===e.resolve,a=e.field||n.identity,l=function(e,t){let r;return n.isFunction(e)?(r=n=>e(n,t),r.dep=N(e)):e?r=n.constant(e):(r=e=>e.$value/e.$max||0,r.dep=!0),r}(e.opacity,e),c=function(e,t){let r;return n.isFunction(e)?(r=n=>u.rgb(e(n,t)),r.dep=N(e)):r=n.constant(u.rgb(e||"#888")),r}(e.color,e),f=e.as||"image",d={$x:0,$y:0,$value:0,$max:o?r.max(i.map(e=>r.max(a(e).values))):0};return i.forEach(e=>{const t=a(e),i=n.extend({},e,d);o||(i.$max=r.max(t.values||[])),e[f]=function(e,t,r,i){const o=e.width,a=e.height,u=e.x1||0,l=e.y1||0,c=e.x2||o,f=e.y2||a,d=e.values,p=d?e=>d[e]:n.zero,h=s.canvas(c-u,f-l),m=h.getContext("2d"),g=m.getImageData(0,0,c-u,f-l),v=g.data;for(let e=l,n=0;e<f;++e){t.$y=e-l;for(let a=u,s=e*o;a<c;++a,n+=4){t.$x=a-u,t.$value=p(a+s);const e=r(t);v[n+0]=e.r,v[n+1]=e.g,v[n+2]=e.b,v[n+3]=~~(255*i(t))}}return m.putImageData(g,0,0),h}(t,i,c.dep?c:n.constant(c(i)),l.dep?l:n.constant(l(i)))}),t.reflow(!0).modifies(f)},n.inherits(j,t.Transform).transform=function(e,t){var r=this.value;return!r||e.modified("type")?(this.value=r=function(e){var t=o.projection((e||"mercator").toLowerCase());return t||n.error("Unrecognized projection type: "+e),t()}(e.type),o.projectionProperties.forEach((function(t){null!=e[t]&&B(r,t,e[t])}))):o.projectionProperties.forEach((function(t){e.modified(t)&&B(r,t,e[t])})),null!=e.pointRadius&&r.path.pointRadius(e.pointRadius),e.fit&&R(r,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)},e.contour=A,e.geojson=O,e.geopath=M,e.geopoint=D,e.geoshape=P,e.graticule=T,e.heatmap=F,e.isocontour=g,e.kde2d=E,e.projection=j,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,Ix,Gx,Yx,pw,cw,ew,Qx)}));t(hw);var mw=n((function(e,t){!function(e){function t(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,u,s,l,c,f,d,p=e._root,h={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!p)return e._root=h,e;for(;p.length;)if((l=t>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[f=c<<1|l]))return i[f]=h,e;if(u=+e._x.call(null,p.data),s=+e._y.call(null,p.data),t===u&&n===s)return h.next=p,i?i[f]=h:e._root=h,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(o=(m+v)/2))?m=o:v=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((f=c<<1|l)==(d=(s>=a)<<1|u>=o));return i[d]=p,i[f]=h,e}function n(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function r(e){return e[0]}function i(e){return e[1]}function o(e,t,n){var o=new a(null==t?r:t,null==n?i:n,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function a(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function u(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var s=o.prototype=a.prototype;s.copy=function(){var e,t,n=new a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=u(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=u(t));return n},s.add=function(e){var n=+this._x.call(null,e),r=+this._y.call(null,e);return t(this.cover(n,r),n,r,e)},s.addAll=function(e){var n,r,i,o,a=e.length,u=new Array(a),s=new Array(a),l=1/0,c=1/0,f=-1/0,d=-1/0;for(r=0;r<a;++r)isNaN(i=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(u[r]=i,s[r]=o,i<l&&(l=i),i>f&&(f=i),o<c&&(c=o),o>d&&(d=o));if(l>f||c>d)return this;for(this.cover(l,c).cover(f,d),r=0;r<a;++r)t(this,u[r],s[r],e[r]);return this},s.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,u,s=i-n,l=this._root;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},s.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},s.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},s.find=function(e,t,r){var i,o,a,u,s,l,c,f=this._x0,d=this._y0,p=this._x1,h=this._y1,m=[],g=this._root;for(g&&m.push(new n(g,f,d,p,h)),null==r?r=1/0:(f=e-r,d=t-r,p=e+r,h=t+r,r*=r);l=m.pop();)if(!(!(g=l.node)||(o=l.x0)>p||(a=l.y0)>h||(u=l.x1)<f||(s=l.y1)<d))if(g.length){var v=(o+u)/2,y=(a+s)/2;m.push(new n(g[3],v,y,u,s),new n(g[2],o,y,v,s),new n(g[1],v,a,u,y),new n(g[0],o,a,v,y)),(c=(t>=y)<<1|e>=v)&&(l=m[m.length-1],m[m.length-1]=m[m.length-1-c],m[m.length-1-c]=l)}else{var b=e-+this._x.call(null,g.data),x=t-+this._y.call(null,g.data),w=b*b+x*x;if(w<r){var _=Math.sqrt(r=w);f=e-_,d=t-_,p=e+_,h=t+_,i=g.data}}return i},s.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,u,s,l,c,f,d,p=this._root,h=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((l=o>=(u=(h+g)/2))?h=u:g=u,(c=a>=(s=(m+v)/2))?m=s:v=s,t=p,!(p=p[f=c<<1|l]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},s.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},s.root=function(){return this._root},s.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},s.visit=function(e){var t,r,i,o,a,u,s=[],l=this._root;for(l&&s.push(new n(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,i=t.x0,o=t.y0,a=t.x1,u=t.y1)&&l.length){var c=(i+a)/2,f=(o+u)/2;(r=l[3])&&s.push(new n(r,c,f,a,u)),(r=l[2])&&s.push(new n(r,i,f,c,u)),(r=l[1])&&s.push(new n(r,c,o,a,f)),(r=l[0])&&s.push(new n(r,i,o,c,f))}return this},s.visitAfter=function(e){var t,r=[],i=[];for(this._root&&r.push(new n(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var o=t.node;if(o.length){var a,u=t.x0,s=t.y0,l=t.x1,c=t.y1,f=(u+l)/2,d=(s+c)/2;(a=o[0])&&r.push(new n(a,u,s,f,d)),(a=o[1])&&r.push(new n(a,f,s,l,d)),(a=o[2])&&r.push(new n(a,u,d,f,c)),(a=o[3])&&r.push(new n(a,f,d,l,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},s.x=function(e){return arguments.length?(this._x=e,this):this._x},s.y=function(e){return arguments.length?(this._y=e,this):this._y},e.quadtree=o,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(mw);var gw=n((function(e,t){!function(e){var t={value:function(){}};function n(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new r(i)}function r(e){this._=e}function i(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function o(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,n,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===n){e[i]=t,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:n,value:r}),e}r.prototype=n.prototype={constructor:r,on:function(e,t){var n,r=this._,u=i(e+"",r),s=-1,l=u.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<l;)if(n=(e=u[s]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this}for(;++s<l;)if((n=(e=u[s]).type)&&(n=o(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},e.dispatch=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(gw);var vw=n((function(e,t){!function(e){var t,n,r=0,i=0,o=0,a=0,u=0,s=0,l="object"==typeof performance&&performance.now?performance:Date,c="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function f(){return u||(c(d),u=l.now()+s)}function d(){u=0}function p(){this._call=this._time=this._next=null}function h(e,t,n){var r=new p;return r.restart(e,t,n),r}function m(){f(),++r;for(var e,n=t;n;)(e=u-n._time)>=0&&n._call.call(null,e),n=n._next;--r}function g(){u=(a=l.now())+s,r=i=0;try{m()}finally{r=0,function(){for(var e,r,i=t,o=1/0;i;)i._call?(o>i._time&&(o=i._time),e=i,i=i._next):(r=i._next,i._next=null,i=e?e._next=r:t=r);n=e,y(o)}(),u=0}}function v(){var e=l.now(),t=e-a;t>1e3&&(s-=t,a=e)}function y(e){r||(i&&(i=clearTimeout(i)),e-u>24?(e<1/0&&(i=setTimeout(g,e-l.now()-s)),o&&(o=clearInterval(o))):(o||(a=l.now(),o=setInterval(v,1e3)),r=1,c(g)))}p.prototype=h.prototype={constructor:p,restart:function(e,r,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==r?0:+r),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=i,y()},stop:function(){this._call&&(this._call=null,this._time=1/0,y())}},e.interval=function(e,t,n){var r=new p,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?f():+n,r.restart((function o(a){a+=i,r.restart(o,i+=t,n),e(a)}),t,n),r)},e.now=f,e.timeout=function(e,t,n){var r=new p;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},e.timer=h,e.timerFlush=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(vw);var yw=n((function(e,t){!function(e,t,n,r){function i(e){return function(){return e}}function o(){return 1e-6*(Math.random()-.5)}function a(e){return e.x+e.vx}function u(e){return e.y+e.vy}function s(e){return e.index}function l(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function c(e){return e.x}function f(e){return e.y}var d=Math.PI*(3-Math.sqrt(5));e.forceCenter=function(e,t){var n;function r(){var r,i,o=n.length,a=0,u=0;for(r=0;r<o;++r)a+=(i=n[r]).x,u+=i.y;for(a=a/o-e,u=u/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=u}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},e.forceCollide=function(e){var n,r,s=1,l=1;function c(){for(var e,i,c,d,p,h,m,g=n.length,v=0;v<l;++v)for(i=t.quadtree(n,a,u).visitAfter(f),e=0;e<g;++e)c=n[e],h=r[c.index],m=h*h,d=c.x+c.vx,p=c.y+c.vy,i.visit(y);function y(e,t,n,r,i){var a=e.data,u=e.r,l=h+u;if(!a)return t>d+l||r<d-l||n>p+l||i<p-l;if(a.index>c.index){var f=d-a.x-a.vx,g=p-a.y-a.vy,v=f*f+g*g;v<l*l&&(0===f&&(v+=(f=o())*f),0===g&&(v+=(g=o())*g),v=(l-(v=Math.sqrt(v)))/v*s,c.vx+=(f*=v)*(l=(u*=u)/(m+u)),c.vy+=(g*=v)*l,a.vx-=f*(l=1-l),a.vy-=g*l)}}}function f(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function d(){if(n){var t,i,o=n.length;for(r=new Array(o),t=0;t<o;++t)i=n[t],r[i.index]=+e(i,t,n)}}return"function"!=typeof e&&(e=i(null==e?1:+e)),c.initialize=function(e){n=e,d()},c.iterations=function(e){return arguments.length?(l=+e,c):l},c.strength=function(e){return arguments.length?(s=+e,c):s},c.radius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),d(),c):e},c},e.forceLink=function(e){var t,n,r,a,u,c=s,f=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},d=i(30),p=1;function h(r){for(var i=0,a=e.length;i<p;++i)for(var s,l,c,f,d,h,m,g=0;g<a;++g)l=(s=e[g]).source,f=(c=s.target).x+c.vx-l.x-l.vx||o(),d=c.y+c.vy-l.y-l.vy||o(),f*=h=((h=Math.sqrt(f*f+d*d))-n[g])/h*r*t[g],d*=h,c.vx-=f*(m=u[g]),c.vy-=d*m,l.vx+=f*(m=1-m),l.vy+=d*m}function m(){if(r){var i,o,s=r.length,f=e.length,d=new Map(r.map((e,t)=>[c(e,t,r),e]));for(i=0,a=new Array(s);i<f;++i)(o=e[i]).index=i,"object"!=typeof o.source&&(o.source=l(d,o.source)),"object"!=typeof o.target&&(o.target=l(d,o.target)),a[o.source.index]=(a[o.source.index]||0)+1,a[o.target.index]=(a[o.target.index]||0)+1;for(i=0,u=new Array(f);i<f;++i)o=e[i],u[i]=a[o.source.index]/(a[o.source.index]+a[o.target.index]);t=new Array(f),g(),n=new Array(f),v()}}function g(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+f(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+d(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e){r=e,m()},h.links=function(t){return arguments.length?(e=t,m(),h):e},h.id=function(e){return arguments.length?(c=e,h):c},h.iterations=function(e){return arguments.length?(p=+e,h):p},h.strength=function(e){return arguments.length?(f="function"==typeof e?e:i(+e),g(),h):f},h.distance=function(e){return arguments.length?(d="function"==typeof e?e:i(+e),v(),h):d},h},e.forceManyBody=function(){var e,n,r,a,u=i(-30),s=1,l=1/0,d=.81;function p(i){var o,a=e.length,u=t.quadtree(e,c,f).visitAfter(m);for(r=i,o=0;o<a;++o)n=e[o],u.visit(g)}function h(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+u(n,t,e)}}function m(e){var t,n,r,i,o,u=0,s=0;if(e.length){for(r=i=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,i+=n*t.y);e.x=r/s,e.y=i/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=a[t.data.index]}while(t=t.next)}e.value=u}function g(e,t,i,u){if(!e.value)return!0;var c=e.x-n.x,f=e.y-n.y,p=u-t,h=c*c+f*f;if(p*p/d<h)return h<l&&(0===c&&(h+=(c=o())*c),0===f&&(h+=(f=o())*f),h<s&&(h=Math.sqrt(s*h)),n.vx+=c*e.value*r/h,n.vy+=f*e.value*r/h),!0;if(!(e.length||h>=l)){(e.data!==n||e.next)&&(0===c&&(h+=(c=o())*c),0===f&&(h+=(f=o())*f),h<s&&(h=Math.sqrt(s*h)));do{e.data!==n&&(p=a[e.data.index]*r/h,n.vx+=c*p,n.vy+=f*p)}while(e=e.next)}}return p.initialize=function(t){e=t,h()},p.strength=function(e){return arguments.length?(u="function"==typeof e?e:i(+e),h(),p):u},p.distanceMin=function(e){return arguments.length?(s=e*e,p):Math.sqrt(s)},p.distanceMax=function(e){return arguments.length?(l=e*e,p):Math.sqrt(l)},p.theta=function(e){return arguments.length?(d=e*e,p):Math.sqrt(d)},p},e.forceRadial=function(e,t,n){var r,o,a,u=i(.1);function s(e){for(var i=0,u=r.length;i<u;++i){var s=r[i],l=s.x-t||1e-6,c=s.y-n||1e-6,f=Math.sqrt(l*l+c*c),d=(a[i]-f)*o[i]*e/f;s.vx+=l*d,s.vy+=c*d}}function l(){if(r){var t,n=r.length;for(o=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),o[t]=isNaN(a[t])?0:+u(r[t],t,r)}}return"function"!=typeof e&&(e=i(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(u="function"==typeof e?e:i(+e),l(),s):u},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},e.forceSimulation=function(e){var t,i=1,o=.001,a=1-Math.pow(o,1/300),u=0,s=.6,l=new Map,c=r.timer(p),f=n.dispatch("tick","end");function p(){h(),f.call("tick",t),i<o&&(c.stop(),f.call("end",t))}function h(n){var r,o,c=e.length;void 0===n&&(n=1);for(var f=0;f<n;++f)for(i+=(u-i)*a,l.forEach((function(e){e(i)})),r=0;r<c;++r)null==(o=e[r]).fx?o.x+=o.vx*=s:(o.x=o.fx,o.vx=0),null==o.fy?o.y+=o.vy*=s:(o.y=o.fy,o.vy=0);return t}function m(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),o=n*d;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function g(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),m(),t={tick:h,restart:function(){return c.restart(p),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,m(),l.forEach(g),t):e},alpha:function(e){return arguments.length?(i=+e,t):i},alphaMin:function(e){return arguments.length?(o=+e,t):o},alphaDecay:function(e){return arguments.length?(a=+e,t):+a},alphaTarget:function(e){return arguments.length?(u=+e,t):u},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},force:function(e,n){return arguments.length>1?(null==n?l.delete(e):l.set(e,g(n)),t):l.get(e)},find:function(t,n,r){var i,o,a,u,s,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=t-(u=e[l]).x)*i+(o=n-u.y)*o)<r&&(s=u,r=a);return s},on:function(e,n){return arguments.length>1?(f.on(e,n),t):f.on(e)}}},e.forceX=function(e){var t,n,r,o=i(.1);function a(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function u(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=i(null==e?0:+e)),a.initialize=function(e){t=e,u()},a.strength=function(e){return arguments.length?(o="function"==typeof e?e:i(+e),u(),a):o},a.x=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u(),a):e},a},e.forceY=function(e){var t,n,r,o=i(.1);function a(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function u(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=i(null==e?0:+e)),a.initialize=function(e){t=e,u()},a.strength=function(e){return arguments.length?(o="function"==typeof e?e:i(+e),u(),a):o},a.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u(),a):e},a},Object.defineProperty(e,"__esModule",{value:!0})}(t,mw,gw,vw)}));t(yw);var bw=n((function(e,t){!function(e,t,n,r){var i={center:r.forceCenter,collide:r.forceCollide,nbody:r.forceManyBody,link:r.forceLink,x:r.forceX,y:r.forceY},o=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],a=["static","iterations"],u=["x","y","vx","vy"];function s(e){t.Transform.call(this,null,e)}s.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:u}]};var l=n.inherits(s,t.Transform);function c(e,t,r,i){var a,u,s,l,c=n.array(t.forces);for(a=0,u=o.length;a<u;++a)"forces"!==(s=o[a])&&t.modified(s)&&e[s](t[s]);for(a=0,u=c.length;a<u;++a)l="forces"+a,(s=r||t.modified("forces",a)?d(c[a]):i&&f(c[a],i)?e.force(l):null)&&e.force(l,s);for(u=e.numForces||0;a<u;++a)e.force("forces"+a,null);return e.numForces=c.length,e}function f(e,t){var r,i;for(r in e)if(n.isFunction(i=e[r])&&t.modified(n.accessorFields(i)))return 1;return 0}function d(e){var t,r;for(r in n.hasOwnProperty(i,e.force)||n.error("Unrecognized force: "+e.force),t=i[e.force](),e)n.isFunction(t[r])&&p(t[r],e[r],e);return t}function p(e,t,r){e(n.isFunction(t)?function(e){return t(e,r)}:t)}l.transform=function(e,t){var n=this.value,i=t.changed(t.ADD_REM),u=e.modified(o),s=e.iterations||300;if(n?(i&&(t.modifies("index"),n.nodes(t.source)),(u||t.changed(t.MOD))&&c(n,e,0,t)):(this.value=n=function(e,t){var n=r.forceSimulation(e),i=!1,o=n.stop,a=n.restart;return n.stopped=function(){return i},n.restart=function(){return i=!1,a()},n.stop=function(){return i=!0,o()},c(n,t,!0).on("end",(function(){i=!0}))}(t.source,e),n.on("tick",function(e,t){return function(){e.touch(t).run()}}(t.dataflow,this)),e.static||(i=!0,n.tick()),t.modifies("index")),u||i||e.modified(a)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/s)),e.static)for(n.stop();--s>=0;)n.tick();else if(n.stopped()&&n.restart(),!i)return t.StopPropagation;return this.finish(e,t)},l.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,o=0,a=i.length;o<a;++o)if("forces"===(n=i[o]).name&&"link"===n.op._argval.force)for(var s,l=n.op._argops,c=0,f=l.length;c<f;++c)if("links"===l[c].name&&(s=l[c].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(u)},e.force=s,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,Ix,yw)}));t(bw);var xw=n((function(e,t){!function(e){function t(e,t){return e.parent===t.parent?1:2}function n(e,t){return e+t.x}function r(e,t){return Math.max(e,t.y)}function i(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function o(e,t){var n,r,i,o,u,c=new l(e),f=+e.value&&(c.value=e.value),d=[c];for(null==t&&(t=a);n=d.pop();)if(f&&(n.value=+n.data.value),(i=t(n.data))&&(u=i.length))for(n.children=new Array(u),o=u-1;o>=0;--o)d.push(r=n.children[o]=new l(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(s)}function a(e){return e.children}function u(e){e.data=e.data.data}function s(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function l(e){this.data=e,this.depth=this.height=0,this.parent=null}l.prototype=o.prototype={constructor:l,count:function(){return this.eachAfter(i)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return o(this).eachBefore(u)}};var c=Array.prototype.slice;function f(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(c.call(e))).length,o=[];r<i;)t=e[r],n&&h(n,t)?++r:(n=g(o=d(o,t)),r=0);return n}function d(e,t){var n,r;if(m(t,e))return[t];for(n=0;n<e.length;++n)if(p(t,e[n])&&m(v(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(p(v(e[n],e[r]),t)&&p(v(e[n],t),e[r])&&p(v(e[r],t),e[n])&&m(y(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function p(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function h(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function m(e,t){for(var n=0;n<t.length;++n)if(!h(e,t[n]))return!1;return!0}function g(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return v(e[0],e[1]);case 3:return y(e[0],e[1],e[2])}var t}function v(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,u=t.r,s=o-n,l=a-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+o+s/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+u)/2}}function y(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,u=t.y,s=t.r,l=n.x,c=n.y,f=n.r,d=r-a,p=r-l,h=i-u,m=i-c,g=s-o,v=f-o,y=r*r+i*i-o*o,b=y-a*a-u*u+s*s,x=y-l*l-c*c+f*f,w=p*h-d*m,_=(h*x-m*b)/(2*w)-r,E=(m*g-h*v)/w,k=(p*b-d*x)/(2*w)-i,C=(d*v-p*g)/w,S=E*E+C*C-1,A=2*(o+_*E+k*C),O=_*_+k*k-o*o,M=-(S?(A+Math.sqrt(A*A-4*S*O))/(2*S):O/A);return{x:r+_+E*M,y:i+k+C*M,r:M}}function b(e,t,n){var r,i,o,a,u=e.x-t.x,s=e.y-t.y,l=u*u+s*s;l?(i=t.r+n.r,i*=i,a=e.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*u-o*s,n.y=e.y-r*s+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*u-o*s,n.y=t.y+r*s+o*u)):(n.x=t.x+n.r,n.y=t.y)}function x(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function w(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function _(e){this._=e,this.next=null,this.previous=null}function E(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,u,s,l,c,d;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;b(n,t,r=e[2]),t=new _(t),n=new _(n),r=new _(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(u=3;u<i;++u){b(t._,n._,r=e[u]),r=new _(r),s=n.next,l=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(x(s._,r._)){n=s,t.next=n,n.previous=t,--u;continue e}c+=s._.r,s=s.next}else{if(x(l._,r._)){(t=l).next=n,n.previous=t,--u;continue e}d+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=w(t);(r=r.next)!==n;)(a=w(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=f(t),u=0;u<i;++u)(t=e[u]).x-=r.x,t.y-=r.y;return r.r}function k(e){return null==e?null:C(e)}function C(e){if("function"!=typeof e)throw new Error;return e}function S(){return 0}function A(e){return function(){return e}}function O(e){return Math.sqrt(e.value)}function M(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function D(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,u=e(n)*t||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=E(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function P(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function T(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function F(e,t,n,r,i){for(var o,a=e.children,u=-1,s=a.length,l=e.value&&(r-t)/e.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}var N={depth:-1},j={};function R(e){return e.id}function B(e){return e.parentId}function L(e,t){return e.parent===t.parent?1:2}function z(e){var t=e.children;return t?t[0]:e.t}function I(e){var t=e.children;return t?t[t.length-1]:e.t}function $(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function U(e,t,n){return e.a.parent===t.parent?e.a:n}function q(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function W(e,t,n,r,i){for(var o,a=e.children,u=-1,s=a.length,l=e.value&&(i-n)/e.value;++u<s;)(o=a[u]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}q.prototype=Object.create(l.prototype);var H=(1+Math.sqrt(5))/2;function V(e,t,n,r,i,o){for(var a,u,s,l,c,f,d,p,h,m,g,v=[],y=t.children,b=0,x=0,w=y.length,_=t.value;b<w;){s=i-n,l=o-r;do{c=y[x++].value}while(!c&&x<w);for(f=d=c,g=c*c*(m=Math.max(l/s,s/l)/(_*e)),h=Math.max(d/g,g/f);x<w;++x){if(c+=u=y[x].value,u<f&&(f=u),u>d&&(d=u),g=c*c*m,(p=Math.max(d/g,g/f))>h){c-=u;break}h=p}v.push(a={value:c,dice:s<l,children:y.slice(b,x)}),a.dice?F(a,n,r,i,_?r+=l*c/_:o):W(a,n,r,_?n+=s*c/_:i,o),_-=c,b=x}return v}var G=function e(t){function n(e,n,r,i,o){V(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(H),Y=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,u,s,l,c,f=-1,d=a.length,p=e.value;++f<d;){for(s=(u=a[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?F(u,n,r,i,r+=(o-r)*u.value/p):W(u,n,r,n+=(i-n)*u.value/p,o),p-=u.value}else e._squarify=a=V(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(H);e.cluster=function(){var e=t,i=1,o=1,a=!1;function u(t){var u,s=0;t.eachAfter((function(t){var i=t.children;i?(t.x=function(e){return e.reduce(n,0)/e.length}(i),t.y=function(e){return 1+e.reduce(r,0)}(i)):(t.x=u?s+=e(t,u):0,t.y=0,u=t)}));var l=function(e){for(var t;t=e.children;)e=t[0];return e}(t),c=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(t),f=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return t.eachAfter(a?function(e){e.x=(e.x-t.x)*i,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-f)/(d-f)*i,e.y=(1-(t.y?e.y/t.y:1))*o})}return u.separation=function(t){return arguments.length?(e=t,u):e},u.size=function(e){return arguments.length?(a=!1,i=+e[0],o=+e[1],u):a?null:[i,o]},u.nodeSize=function(e){return arguments.length?(a=!0,i=+e[0],o=+e[1],u):a?[i,o]:null},u},e.hierarchy=o,e.pack=function(){var e=null,t=1,n=1,r=S;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(M(e)).eachAfter(D(r,.5)).eachBefore(P(1)):i.eachBefore(M(O)).eachAfter(D(S,1)).eachAfter(D(r,i.r/Math.min(t,n))).eachBefore(P(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=k(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:A(+e),i):r},i},e.packEnclose=f,e.packSiblings=function(e){return E(e),e},e.partition=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&F(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,u=r.y1-n;a<i&&(i=a=(i+a)/2),u<o&&(o=u=(o+u)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=u}}(t,o)),r&&i.eachBefore(T),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},e.stratify=function(){var e=R,t=B;function n(n){var r,i,o,a,u,c,f,d=n.length,p=new Array(d),h={};for(i=0;i<d;++i)r=n[i],u=p[i]=new l(r),null!=(c=e(r,i,n))&&(c+="")&&(h[f="$"+(u.id=c)]=f in h?j:u);for(i=0;i<d;++i)if(u=p[i],null!=(c=t(n[i],i,n))&&(c+="")){if(!(a=h["$"+c]))throw new Error("missing: "+c);if(a===j)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=N,o.eachBefore((function(e){e.depth=e.parent.depth+1,--d})).eachBefore(s),o.parent=null,d>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=C(t),n):e},n.parentId=function(e){return arguments.length?(t=C(e),n):t},n},e.tree=function(){var e=L,t=1,n=1,r=null;function i(i){var s=function(e){for(var t,n,r,i,o,a=new q(e,0),u=[a];t=u.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=t.children[i]=new q(r[i],i)),n.parent=t;return(a.parent=new q(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)}));var d=l===c?1:e(l,c)/2,p=d-l.x,h=t/(c.x+d+p),m=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+p)*h,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,d=s.m;u=I(u),o=z(o),u&&o;)s=z(s),(a=I(a)).a=t,(i=u.z+f-o.z-l+e(u._,o._))>0&&($(U(u,t,r),t,i),l+=i,c+=i),f+=u.m,l+=o.m,d+=s.m,c+=a.m;u&&!I(a)&&(a.t=u,a.m+=f-c),o&&!z(s)&&(s.t=o,s.m+=l-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},e.treemap=function(){var e=G,t=!1,n=1,r=1,i=[0],o=S,a=S,u=S,s=S,l=S;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(T),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<c&&(c=d=(c+d)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,c+=a(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=s(t)-n)<c&&(c=d=(c+d)/2),e(t,r,c,f,d))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=C(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:A(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:A(+e),c):a},c.paddingRight=function(e){return arguments.length?(u="function"==typeof e?e:A(+e),c):u},c.paddingBottom=function(e){return arguments.length?(s="function"==typeof e?e:A(+e),c):s},c.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:A(+e),c):l},c},e.treemapBinary=function(e,t,n,r,i){var o,a,u=e.children,s=u.length,l=new Array(s+1);for(l[0]=a=o=0;o<s;++o)l[o+1]=a+=u[o].value;!function e(t,n,r,i,o,a,s){if(t>=n-1){var c=u[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=s)}for(var f=l[t],d=r/2+f,p=t+1,h=n-1;p<h;){var m=p+h>>>1;l[m]<d?p=m+1:h=m}d-l[p-1]<l[p]-d&&t+1<p&&--p;var g=l[p]-f,v=r-g;if(a-i>s-o){var y=(i*v+a*g)/r;e(t,p,g,i,o,y,s),e(p,n,v,y,o,a,s)}else{var b=(o*v+s*g)/r;e(t,p,g,i,o,a,b),e(p,n,v,i,b,a,s)}}(0,s,e.value,t,n,r,i)},e.treemapDice=F,e.treemapResquarify=Y,e.treemapSlice=W,e.treemapSliceDice=function(e,t,n,r,i){(1&e.depth?W:F)(e,t,n,r,i)},e.treemapSquarify=G,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(xw);var ww=n((function(e,t){!function(e,t,n,r){function i(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}function o(e){t.Transform.call(this,null,e)}function a(e){return e.values}function u(){var e,t=[];return e={entries:e=>function e(n,r){if(++r>t.length)return n;var i,o=[];for(i in n)o.push({key:i,values:e(n[i],r)});return o}(function e(n,r){if(r>=t.length)return n;for(var i,o,a,u=-1,s=n.length,l=t[r++],c={},f={};++u<s;)(a=c[i=l(o=n[u])+""])?a.push(o):c[i]=[o];for(i in c)f[i]=e(c[i],r);return f}(e,0),0),key:n=>(t.push(n),e)}}function s(e){t.Transform.call(this,null,e)}function l(e,t){return e.parent===t.parent?1:2}o.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},n.inherits(o,t.Transform).transform=function(e,o){o.source||n.error("Nest transform requires an upstream data source.");var s=e.generate,l=e.modified(),c=o.clone(),f=this.value;return(!f||l||o.changed())&&(f&&f.each(e=>{e.children&&t.isTuple(e.data)&&c.rem.push(e.data)}),this.value=f=r.hierarchy({values:n.array(e.keys).reduce((e,t)=>(e.key(t),e),u()).entries(c.source)},a),s&&f.each(e=>{e.children&&(e=t.ingest(e.data),c.add.push(e),c.source.push(e))}),i(f,t.tupleid,t.tupleid)),c.source.root=f,c},n.inherits(s,t.Transform).transform=function(e,r){r.source&&r.source.root||n.error(this.constructor.name+" transform requires a backing tree data source.");var i=this.layout(e.method),o=this.fields,a=r.source.root,u=e.as||o;e.field?a.sum(e.field):a.count(),e.sort&&a.sort(t.stableCompare(e.sort,e=>e.data)),function(e,t,n){for(var r,i=0,o=t.length;i<o;++i)(r=t[i])in n&&e[r](n[r])}(i,this.params,e),i.separation&&i.separation(!1!==e.separation?l:n.one);try{this.value=i(a)}catch(e){n.error(e)}return a.each((function(e){!function(e,t,n){for(var r=e.data,i=0,o=t.length-1;i<o;++i)r[n[i]]=e[t[i]];r[n[o]]=e.children?e.children.length:0}(e,o,u)})),r.reflow(e.modified()).modifies(u).modifies("leaf")};var c=["x","y","r","depth","children"];function f(e){s.call(this,e)}f.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:c.length,default:c}]};var d=n.inherits(f,s);d.layout=r.pack,d.params=["radius","size","padding"],d.fields=c;var p=["x0","y0","x1","y1","depth","children"];function h(e){s.call(this,e)}h.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,default:p}]};var m=n.inherits(h,s);function g(e){t.Transform.call(this,null,e)}m.layout=r.partition,m.params=["size","round","padding"],m.fields=p,g.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},n.inherits(g,t.Transform).transform=function(e,t){t.source||n.error("Stratify transform requires an upstream data source.");var o=this.value,a=e.modified(),u=t.fork(t.ALL).materialize(t.SOURCE),s=!this.value||a||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return u.source=u.source.slice(),s&&(o=u.source.length?i(r.stratify().id(e.key).parentId(e.parentKey)(u.source),e.key,n.truthy):i(r.stratify()([{}]),e.key,e.key)),u.source.root=this.value=o,u};var v={tidy:r.tree,cluster:r.cluster},y=["x","y","depth","children"];function b(e){s.call(this,e)}b.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:y.length,default:y}]};var x=n.inherits(b,s);function w(e){t.Transform.call(this,[],e)}x.layout=function(e){var t=e||"tidy";if(n.hasOwnProperty(v,t))return v[t]();n.error("Unrecognized Tree layout method: "+t)},x.params=["size","nodeSize"],x.fields=y,w.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},n.inherits(w,t.Transform).transform=function(e,r){var i=this.value,o=r.source&&r.source.root,a=r.fork(r.NO_SOURCE),u={};return o||n.error("TreeLinks transform requires a tree data source."),r.changed(r.ADD_REM)?(a.rem=i,r.visit(r.SOURCE,(function(e){u[t.tupleid(e)]=1})),o.each((function(e){var n=e.data,r=e.parent&&e.parent.data;r&&u[t.tupleid(n)]&&u[t.tupleid(r)]&&a.add.push(t.ingest({source:r,target:n}))})),this.value=a.add):r.changed(r.MOD)&&(r.visit(r.MOD,(function(e){u[t.tupleid(e)]=1})),i.forEach((function(e){(u[t.tupleid(e.source)]||u[t.tupleid(e.target)])&&a.mod.push(e)}))),a};var _={binary:r.treemapBinary,dice:r.treemapDice,slice:r.treemapSlice,slicedice:r.treemapSliceDice,squarify:r.treemapSquarify,resquarify:r.treemapResquarify},E=["x0","y0","x1","y1","depth","children"];function k(e){s.call(this,e)}k.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:E.length,default:E}]};var C=n.inherits(k,s);C.layout=function(){var e=r.treemap();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){n.hasOwnProperty(_,t)?e.tile(_[t]):n.error("Unrecognized Treemap layout method: "+t)},e},C.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],C.fields=E,e.nest=o,e.pack=f,e.partition=h,e.stratify=g,e.tree=b,e.treelinks=w,e.treemap=k,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,Ix,xw)}));t(ww);var _w=n((function(e,t){!function(e,t,n,r){function i(e,t){var n,r,i,o,a,u,s=[],l=function(e){return e(o)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)o=e[r],(u=n[a=t.map(l)])||(n[a]=u=[],u.dims=a,s.push(u)),u.push(o);return s}function o(e){n.Transform.call(this,null,e)}o.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},r.inherits(o,n.Transform).transform=function(e,o){var a=o.fork(o.NO_SOURCE|o.NO_FIELDS);if(!this.value||o.changed()||e.modified()){const u=i(o.materialize(o.SOURCE).source,e.groupby),s=(e.groupby||[]).map(r.accessorName),l=s.length,c=e.as||[r.accessorName(e.x),r.accessorName(e.y)],f=[];u.forEach(r=>{t.regressionLoess(r,e.x,e.y,e.bandwidth||.3).forEach(e=>{const t={};for(let e=0;e<l;++e)t[s[e]]=r.dims[e];t[c[0]]=e[0],t[c[1]]=e[1],f.push(n.ingest(t))})}),this.value&&(a.rem=this.value),this.value=a.add=a.source=f}return a};const a={linear:t.regressionLinear,log:t.regressionLog,exp:t.regressionExp,pow:t.regressionPow,quad:t.regressionQuad,poly:t.regressionPoly};function u(e){n.Transform.call(this,null,e)}u.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(a)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},r.inherits(u,n.Transform).transform=function(e,o){var u=o.fork(o.NO_SOURCE|o.NO_FIELDS);if(!this.value||o.changed()||e.modified()){const s=i(o.materialize(o.SOURCE).source,e.groupby),l=(e.groupby||[]).map(r.accessorName),c=e.method||"linear",f=e.order||3,d=function(e,t){return"poly"===e?t:"quad"===e?2:1}(c,f),p=e.as||[r.accessorName(e.x),r.accessorName(e.y)],h=a[c],m=[];let g=e.extent;r.hasOwnProperty(a,c)||r.error("Invalid regression method: "+c),null!=g&&"log"===c&&g[0]<=0&&(o.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),s.forEach(i=>{if(i.length<=d)return void o.dataflow.warn("Skipping regression with more parameters than data points.");const a=h(i,e.x,e.y,f);if(e.params)return void m.push(n.ingest({keys:i.dims,coef:a.coef,rSquared:a.rSquared}));const u=g||r.extent(i,e.x),s=e=>{const t={};for(let e=0;e<l.length;++e)t[l[e]]=i.dims[e];t[p[0]]=e[0],t[p[1]]=e[1],m.push(n.ingest(t))};"linear"===c?u.forEach(e=>s([e,a.predict(e)])):t.sampleCurve(a.predict,u,25,200).forEach(s)}),this.value&&(u.rem=this.value),this.value=u.add=u.source=m}return u},e.loess=o,e.regression=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,Yx,Vx,Ix)}));t(_w);var Ew=n((function(e,t){!function(e){const t=Math.pow(2,-52),n=new Uint32Array(512);class r{static from(e,t=f,n=d){const i=e.length,o=new Float64Array(2*i);for(let r=0;r<i;r++){const i=e[r];o[2*r]=t(i),o[2*r+1]=n(i)}return new r(o)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:r,_hullTri:o,_hullHash:u}=this,c=e.length>>1;let f=1/0,d=1/0,p=-1/0,h=-1/0;for(let t=0;t<c;t++){const n=e[2*t],r=e[2*t+1];n<f&&(f=n),r<d&&(d=r),n>p&&(p=n),r>h&&(h=r),this._ids[t]=t}const m=(f+p)/2,g=(d+h)/2;let v,y,b,x=1/0;for(let t=0;t<c;t++){const n=i(m,g,e[2*t],e[2*t+1]);n<x&&(v=t,x=n)}const w=e[2*v],_=e[2*v+1];x=1/0;for(let t=0;t<c;t++){if(t===v)continue;const n=i(w,_,e[2*t],e[2*t+1]);n<x&&n>0&&(y=t,x=n)}let E=e[2*y],k=e[2*y+1],C=1/0;for(let t=0;t<c;t++){if(t===v||t===y)continue;const n=s(w,_,E,k,e[2*t],e[2*t+1]);n<C&&(b=t,C=n)}let S=e[2*b],A=e[2*b+1];if(C===1/0){for(let t=0;t<c;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];l(this._ids,this._dists,0,c-1);const t=new Uint32Array(c);let n=0;for(let e=0,r=-1/0;e<c;e++){const i=this._ids[e];this._dists[i]>r&&(t[n++]=i,r=this._dists[i])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(a(w,_,E,k,S,A)){const e=y,t=E,n=k;y=b,E=S,k=A,b=e,S=t,A=n}const O=function(e,t,n,r,i,o){const a=n-e,u=r-t,s=i-e,l=o-t,c=a*a+u*u,f=s*s+l*l,d=.5/(a*l-u*s);return{x:e+(l*c-u*f)*d,y:t+(a*f-s*c)*d}}(w,_,E,k,S,A);this._cx=O.x,this._cy=O.y;for(let t=0;t<c;t++)this._dists[t]=i(e[2*t],e[2*t+1],O.x,O.y);l(this._ids,this._dists,0,c-1),this._hullStart=v;let M=3;r[v]=n[b]=y,r[y]=n[v]=b,r[b]=n[y]=v,o[v]=0,o[y]=1,o[b]=2,u.fill(-1),u[this._hashKey(w,_)]=v,u[this._hashKey(E,k)]=y,u[this._hashKey(S,A)]=b,this.trianglesLen=0,this._addTriangle(v,y,b,-1,-1,-1);for(let i,s,l=0;l<this._ids.length;l++){const c=this._ids[l],f=e[2*c],d=e[2*c+1];if(l>0&&Math.abs(f-i)<=t&&Math.abs(d-s)<=t)continue;if(i=f,s=d,c===v||c===y||c===b)continue;let p=0;for(let e=0,t=this._hashKey(f,d);e<this._hashSize&&(p=u[(t+e)%this._hashSize],-1===p||p===r[p]);e++);p=n[p];let h,m=p;for(;h=r[m],!a(f,d,e[2*m],e[2*m+1],e[2*h],e[2*h+1]);)if(m=h,m===p){m=-1;break}if(-1===m)continue;let g=this._addTriangle(m,c,r[m],-1,-1,o[m]);o[c]=this._legalize(g+2),o[m]=g,M++;let x=r[m];for(;h=r[x],a(f,d,e[2*x],e[2*x+1],e[2*h],e[2*h+1]);)g=this._addTriangle(x,c,h,o[c],-1,o[x]),o[c]=this._legalize(g+2),r[x]=x,M--,x=h;if(m===p)for(;h=n[m],a(f,d,e[2*h],e[2*h+1],e[2*m],e[2*m+1]);)g=this._addTriangle(h,c,m,-1,o[m],o[h]),this._legalize(g+2),o[h]=g,r[m]=m,M--,m=h;this._hullStart=n[c]=m,r[m]=n[x]=c,r[c]=x,u[this._hashKey(f,d)]=c,u[this._hashKey(e[2*m],e[2*m+1])]=m}this.hull=new Uint32Array(M);for(let e=0,t=this._hullStart;e<M;e++)this.hull[e]=t,t=r[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const s=r[e],l=e-e%3;if(a=l+(e+2)%3,-1===s){if(0===o)break;e=n[--o];continue}const c=s-s%3,f=l+(e+1)%3,d=c+(s+2)%3,p=t[a],h=t[e],m=t[f],g=t[d];if(u(i[2*p],i[2*p+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*g],i[2*g+1])){t[e]=g,t[s]=p;const i=r[d];if(-1===i){let t=this._hullStart;do{if(this._hullTri[t]===d){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,i),this._link(s,r[a]),this._link(a,d);const u=c+(s+1)%3;o<n.length&&(n[o++]=u)}else{if(0===o)break;e=n[--o]}}return a}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function i(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function o(e,t,n,r,i,o){const a=(r-t)*(i-e),u=(n-e)*(o-t);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function a(e,t,n,r,i,a){return(o(i,a,e,t,n,r)||o(e,t,n,r,i,a)||o(n,r,i,a,e,t))<0}function u(e,t,n,r,i,o,a,u){const s=e-a,l=t-u,c=n-a,f=r-u,d=i-a,p=o-u,h=c*c+f*f,m=d*d+p*p;return s*(f*m-h*p)-l*(c*m-h*d)+(s*s+l*l)*(c*p-f*d)<0}function s(e,t,n,r,i,o){const a=n-e,u=r-t,s=i-e,l=o-t,c=a*a+u*u,f=s*s+l*l,d=.5/(a*l-u*s),p=(l*c-u*f)*d,h=(a*f-s*c)*d;return p*p+h*h}function l(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=e[i],o=t[r];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=r}else{let i=n+1,o=r;c(e,n+r>>1,i),t[e[n]]>t[e[r]]&&c(e,n,r),t[e[i]]>t[e[r]]&&c(e,i,r),t[e[n]]>t[e[i]]&&c(e,n,i);const a=e[i],u=t[a];for(;;){do{i++}while(t[e[i]]<u);do{o--}while(t[e[o]]>u);if(o<i)break;c(e,i,o)}e[n+1]=e[o],e[o]=a,r-i+1>=o-n?(l(e,t,i,r),l(e,t,n,o-1)):(l(e,t,n,o-1),l(e,t,i,r))}}function c(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function f(e){return e[0]}function d(e){return e[1]}class p{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(e,t,n,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class h{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class m{constructor(e,[t,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(t=+t)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,r,o=0,a=0,u=n.length;o<u;o+=3,a+=2){const u=2*n[o],s=2*n[o+1],l=2*n[o+2],c=e[u],f=e[u+1],d=e[s],p=e[s+1],h=e[l],m=e[l+1],g=d-c,v=p-f,y=h-c,b=m-f,x=g*g+v*v,w=y*y+b*b,_=2*(g*b-v*y);if(_)if(Math.abs(_)<1e-8)t=(c+h)/2,r=(f+m)/2;else{const e=1/_;t=c+(b*x-v*w)*e,r=f+(g*w-y*x)*e}else t=(c+h)/2-1e8*b,r=(f+m)/2+1e8*y;i[a]=t,i[a+1]=r}let o,a,u,s=t[t.length-1],l=4*s,c=e[2*s],f=e[2*s+1];r.fill(0);for(let n=0;n<t.length;++n)s=t[n],o=l,a=c,u=f,l=4*s,c=e[2*s],f=e[2*s+1],r[o+2]=r[l]=u-f,r[o+3]=r[l+1]=c-a}render(e){const t=null==e?e=new p:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let t=0,r=n.length;t<r;++t){const r=n[t];if(r<t)continue;const i=2*Math.floor(t/3),a=2*Math.floor(r/3),u=o[i],s=o[i+1],l=o[a],c=o[a+1];this._renderSegment(u,s,l,c,e)}let u,s=i[i.length-1];for(let t=0;t<i.length;++t){u=s,s=i[t];const n=2*Math.floor(r[s]/3),l=o[n],c=o[n+1],f=4*u,d=this._project(l,c,a[f+2],a[f+3]);d&&this._renderSegment(l,c,d[0],d[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new p:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new p:void 0,r=this._clip(e);if(null===r)return;t.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let e=2;e<i;e+=2)r[e]===r[e-2]&&r[e+1]===r[e-1]||t.lineTo(r[e],r[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(yield e)}}cellPolygon(e){const t=new h;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,r,i){let o;const a=this._regioncode(e,t),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let r=0,i=t.length;r<i;r+=2)for(let o=0,a=e.length;o<a;o+=2)if(t[r]==e[o]&&t[r+1]==e[o+1]&&t[(r+2)%i]==e[(o+a-2)%a]&&t[(r+3)%i]==e[(o+a-1)%a]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[e];if(-1===o)return null;const a=[];let u=o;do{const n=Math.floor(u/3);if(a.push(t[2*n],t[2*n+1]),u=u%3==2?u-2:u+1,i[u]!==e)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let r,i,o,a,u,s=null,l=t[n-2],c=t[n-1],f=this._regioncode(l,c);for(let d=0;d<n;d+=2)if(r=l,i=c,l=t[d],c=t[d+1],o=f,f=this._regioncode(l,c),0===o&&0===f)a=u,u=0,s?s.push(l,c):s=[l,c];else{let t,n,d,p,h;if(0===o){if(null===(t=this._clipSegment(r,i,l,c,o,f)))continue;[n,d,p,h]=t}else{if(null===(t=this._clipSegment(l,c,r,i,f,o)))continue;[p,h,n,d]=t,a=u,u=this._edgecode(n,d),a&&u&&this._edge(e,a,u,s,s.length),s?s.push(n,d):s=[n,d]}a=u,u=this._edgecode(p,h),a&&u&&this._edge(e,a,u,s,s.length),s?s.push(p,h):s=[p,h]}if(s)a=u,u=this._edgecode(s[0],s[1]),a&&u&&this._edge(e,a,u,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;let a,u,s=i||o;8&s?(a=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(a=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=u,i=this._regioncode(e,t)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(e,t,n,r,i,o){let a,u=Array.from(t);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(e,u))for(let t,n=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);n<r;n+=2)t=i,i=this._edgecode(u[n],u[n+1]),t&&i&&(n=this._edge(e,t,i,u,n),r=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(e,t,n,r,i){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(e,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let e=0;e<r.length;e+=2){const t=(e+2)%r.length,n=(e+4)%r.length;(r[e]===r[t]&&r[t]===r[n]||r[e+1]===r[t+1]&&r[t+1]===r[n+1])&&(r.splice(t,2),e-=2)}return i}_project(e,t,n,r){let i,o,a,u=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<u&&(a=this.ymin,o=e+(u=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<u&&(a=this.ymax,o=e+(u=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<u&&(o=this.xmax,a=t+(u=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<u&&(o=this.xmin,a=t+(u=i)*r)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const g=2*Math.PI;function v(e){return e[0]}function y(e){return e[1]}function b(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class x{static from(e,t=v,n=y,r){return new x("length"in e?function(e,t,n,r){const i=e.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=e[a];o[2*a]=t.call(r,i,a,e),o[2*a+1]=n.call(r,i,a,e)}return o}(e,t,n,r):Float64Array.from(function*(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}(e,t,n,r)))}constructor(e){this._delaunator=new r(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const r=2*t[e],i=2*t[e+1],o=2*t[e+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],o=1e-8*Math.sqrt((i[3]-i[1])**2+(i[2]-i[0])**2);for(let e=0,n=t.length/2;e<n;++e){const n=b(t[2*e],t[2*e+1],o);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new r(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=o[e%3==2?e-2:e+1];-1!==n[e]&&-1!==a[t]||(a[t]=e)}for(let e=0,t=i.length;e<t;++e)u[i[e]]=e;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],a[i[0]]=1,2===i.length&&(a[i[1]]=0))}voronoi(e){return new m(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const t=a.indexOf(e);return t>0&&(yield a[t-1]),void(t<a.length-1&&(yield a[t+1]))}const u=t[e];if(-1===u)return;let s=u,l=-1;do{if(yield l=o[s],s=s%3==2?s-2:s+1,o[s]!==e)return;if(s=i[s],-1===s){const t=n[(r[e]+1)%n.length];return void(t!==l&&(yield t))}}while(s!==u)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const r=n;let i;for(;(i=this._step(n,e,t))>=0&&i!==n&&i!==r;)n=i;return i}_step(e,t,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:s}=this;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);let l=e,c=(t-s[2*e])**2+(n-s[2*e+1])**2;const f=r[e];let d=f;do{let r=u[d];const f=(t-s[2*r])**2+(n-s[2*r+1])**2;if(f<c&&(c=f,l=r),d=d%3==2?d-2:d+1,u[d]!==e)break;if(d=a[d],-1===d){if(d=i[(o[e]+1)%i.length],d!==r&&(t-s[2*d])**2+(n-s[2*d+1])**2<c)return d;break}}while(d!==f);return l}render(e){const t=null==e?e=new p:void 0,{points:n,halfedges:r,triangles:i}=this;for(let t=0,o=r.length;t<o;++t){const o=r[t];if(o<t)continue;const a=2*i[t],u=2*i[o];e.moveTo(n[a],n[a+1]),e.lineTo(n[u],n[u+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const n=null==e?e=new p:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];e.moveTo(i+t,o),e.arc(i,o,t,0,g)}return n&&n.value()}renderHull(e){const t=null==e?e=new p:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(let t=1;t<o;++t){const i=2*n[t];e.lineTo(r[i],r[i+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new h;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new p:void 0,{points:r,triangles:i}=this,o=2*i[e*=3],a=2*i[e+1],u=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new h;return this.renderTriangle(e,t),t.value()}}e.Delaunay=x,e.Voronoi=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Ew);var kw=n((function(e,t){!function(e,t,n,r){function i(e){t.Transform.call(this,null,e)}i.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const o=n.inherits(i,t.Transform),a=[-1e5,-1e5,1e5,1e5];function u(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}o.transform=function(e,t){const n=e.as||"path",i=t.source;if(!i||!i.length)return t;let o=e.size;o=o?[0,0,o[0],o[1]]:(o=e.extent)?[o[0][0],o[0][1],o[1][0],o[1][1]]:a;const s=this.value=r.Delaunay.from(i,e.x,e.y).voronoi(o);for(let e=0,t=i.length;e<t;++e){const t=s.cellPolygon(e);i[e][n]=t?u(t):null}return t.reflow(e.modified()).modifies(n)},e.voronoi=i,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,Ix,Ew)}));t(kw);var Cw=n((function(e,t){!function(e,t,n,r,i,o){var a=Math.PI/180;function u(){var e,n,r,i,o,a,u,m=[256,256],g=d,v=[],y=Math.random,b={};function x(e,t,n){for(var r,i,o,a=t.x,u=t.y,s=Math.sqrt(m[0]*m[0]+m[1]*m[1]),c=g(m),d=y()<.5?1:-1,p=-d;(r=c(p+=d))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=s));)if(t.x=a+i,t.y=u+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>m[0]||t.y+t.y1>m[1])&&(!n||!l(t,e,m[0]))&&(!n||f(t,n))){for(var h,v=t.sprite,b=t.width>>5,x=m[0]>>5,w=t.x-(b<<4),_=127&w,E=32-_,k=t.y1-t.y0,C=(t.y+t.y0)*x+(w>>5),S=0;S<k;S++){h=0;for(var A=0;A<=b;A++)e[C+A]|=h<<E|(A<b?(h=v[S*b+A])>>>_:0);C+=x}return t.sprite=null,!0}return!1}return b.layout=function(){for(var l=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(t.canvas()),f=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((m[0]>>5)*m[1]),d=null,p=v.length,h=-1,g=[],b=v.map((function(t){return{text:e(t),font:n(t),style:i(t),weight:o(t),rotate:a(t),size:~~(r(t)+1e-14),padding:u(t),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:t}})).sort((function(e,t){return t.size-e.size}));++h<p;){var w=b[h];w.x=m[0]*(y()+.5)>>1,w.y=m[1]*(y()+.5)>>1,s(l,w,b,h),w.hasText&&x(f,w,d)&&(g.push(w),d?c(d,w):d=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=m[0]>>1,w.y-=m[1]>>1)}return g},b.words=function(e){return arguments.length?(v=e,b):v},b.size=function(e){return arguments.length?(m=[+e[0],+e[1]],b):m},b.font=function(e){return arguments.length?(n=p(e),b):n},b.fontStyle=function(e){return arguments.length?(i=p(e),b):i},b.fontWeight=function(e){return arguments.length?(o=p(e),b):o},b.rotate=function(e){return arguments.length?(a=p(e),b):a},b.text=function(t){return arguments.length?(e=p(t),b):e},b.spiral=function(e){return arguments.length?(g=h[e]||e,b):g},b.fontSize=function(e){return arguments.length?(r=p(e),b):r},b.padding=function(e){return arguments.length?(u=p(e),b):u},b.random=function(e){return arguments.length?(y=e,b):y},b}function s(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,2048/o);var u,s,l,c,f,d=0,p=0,h=0,m=n.length;for(--r;++r<m;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=i.measureText(t.text+"m").width*o,l=t.size<<1,t.rotate){var g=Math.sin(t.rotate*a),v=Math.cos(t.rotate*a),y=u*v,b=u*g,x=l*v,w=l*g;u=Math.max(Math.abs(y+w),Math.abs(y-w))+31>>5<<5,l=~~Math.max(Math.abs(b+x),Math.abs(b-x))}else u=u+31>>5<<5;if(l>h&&(h=l),d+u>=2048&&(d=0,p+=h,h=0),p+l>=2048)break;i.translate((d+(u>>1))/o,(p+(l>>1))/o),t.rotate&&i.rotate(t.rotate*a),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=l,t.xoff=d,t.yoff=p,t.x1=u>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=u}for(var _=i.getImageData(0,0,2048/o,2048/o).data,E=[];--r>=0;)if((t=n[r]).hasText){for(s=(u=t.width)>>5,l=t.y1-t.y0,c=0;c<l*s;c++)E[c]=0;if(null==(d=t.xoff))return;p=t.yoff;var k=0,C=-1;for(f=0;f<l;f++){for(c=0;c<u;c++){var S=s*f+(c>>5),A=_[2048*(p+f)+(d+c)<<2]?1<<31-c%32:0;E[S]|=A,k|=A}k?C=f:(t.y0++,l--,f--,p++)}t.y1=t.y0+C,t.sprite=E.slice(0,(t.y1-t.y0)*s)}}}function l(e,t,n){n>>=5;for(var r,i=e.sprite,o=e.width>>5,a=e.x-(o<<4),u=127&a,s=32-u,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),f=0;f<l;f++){r=0;for(var d=0;d<=o;d++)if((r<<s|(d<o?(r=i[f*o+d])>>>u:0))&t[c+d])return!0;c+=n}return!1}function c(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function f(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function d(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function p(e){return"function"==typeof e?e:function(){return e}}var h={archimedean:d,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},m=["x","y","font","fontSize","fontStyle","fontWeight","angle"],g=["text","font","rotate","fontSize","fontStyle","fontWeight"];function v(e){n.Transform.call(this,u(),e)}v.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:m}]},r.inherits(v,n.Transform).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||r.error("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||g.some((function(n){var i=e[n];return r.isFunction(i)&&t.modified(i.fields)}))){var a,u=t.materialize(t.SOURCE).source,s=this.value,l=e.as||m,c=e.fontSize||14;if(r.isFunction(c)?a=e.fontSizeRange:c=r.constant(c),a){var f=c,d=i.scale("sqrt")().domain(r.extent(u,f)).range(a);c=function(e){return d(f(e))}}u.forEach((function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0}));for(var p,h,v=s.words(u).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(c).random(o.random).layout(),y=s.size(),b=y[0]>>1,x=y[1]>>1,w=0,_=v.length;w<_;++w)(h=(p=v[w]).datum)[l[0]]=p.x+b,h[l[1]]=p.y+x,h[l[2]]=p.font,h[l[3]]=p.size,h[l[4]]=p.style,h[l[5]]=p.weight,h[l[6]]=p.rotate;return t.reflow(n).modifies(l)}},e.wordcloud=v,Object.defineProperty(e,"__esModule",{value:!0})}(t,Qx,Vx,Ix,ow,Yx)}));t(Cw);var Sw=n((function(e,t){!function(e,t,n,r){function i(e){return new Uint8Array(e)}function o(e){return new Uint16Array(e)}function a(e){return new Uint32Array(e)}function u(e,t,n){var r=(t<257?i:t<65537?o:a)(e);return n&&r.set(n),r}function s(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),o=e.index,a=i[0],u=i[1],s=o.length;for(n=0;n<a;++n)t[o[n]]|=r;for(n=u;n<s;++n)t[o[n]]|=r;return this}}}function l(){var e=a(0),n=[],r=0;return{insert:function(i,o,u){if(!o.length)return[];var s,l,c,f=r,d=o.length,p=Array(d),h=a(d);for(c=0;c<d;++c)p[c]=i(o[c]),h[c]=c;if(p=function(e,n){return e.sort.call(n,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),t.permute(e,n)}(p,h),f)s=n,l=e,n=Array(f+d),e=a(f+d),function(e,t,n,r,i,o,a,u,s){var l,c=0,f=0;for(l=0;c<r&&f<a;++l)t[c]<i[f]?(u[l]=t[c],s[l]=n[c++]):(u[l]=i[f],s[l]=o[f++]+e);for(;c<r;++c,++l)u[l]=t[c],s[l]=n[c];for(;f<a;++f,++l)u[l]=i[f],s[l]=o[f]+e}(u,s,l,f,p,h,d,n,e);else{if(u>0)for(c=0;c<d;++c)h[c]+=u;n=p,e=h}return r=f+d,{index:h,value:p}},remove:function(t,i){var o,a,u,s=r;for(a=0;!i[e[a]]&&a<s;++a);for(u=a;a<s;++a)i[o=e[a]]||(e[u]=o,n[u]=n[a],++u);r=s-t},bisect:function(e,i){var o;return i?o=i.length:(i=n,o=r),[t.bisectLeft(i,e[0],0,o),t.bisectRight(i,e[1],0,o)]},reindex:function(t){for(var n=0,i=r;n<i;++n)e[n]=t[e[n]]},index:function(){return e},size:function(){return r}}}function c(e){n.Transform.call(this,function(){var e=8,t=[],n=a(0),r=u(0,e),i=u(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,o=e.length;r<o;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var o,a,u,s=t.length,l=Array(s-e),c=t;for(a=0;!n[a]&&a<s;++a)l[a]=t[a],c[a]=a;for(u=a;a<s;++a)o=t[a],n[a]?c[a]=-1:(c[a]=u,r[u]=r[a],i[u]=i[a],l[u]=o,o._index=u++),r[a]=0;return t=l,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=u(t,e,r),i=u(t,e))}}}(),e),this._indices=null,this._dims=null}c.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var f=r.inherits(c,n.Transform);function d(e){n.Transform.call(this,null,e)}f.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},f.init=function(e,t){for(var n,r,i=e.fields,o=e.query,a=this._indices={},u=this._dims=[],c=o.length,f=0;f<c;++f)r=a[n=i[f].fname]||(a[n]=l()),u.push(s(r,f,o[f]));return this.eval(e,t)},f.reinit=function(e,t){var n,r,i,o,a,u,c,f,d,p=t.materialize().fork(),h=e.fields,m=e.query,g=this._indices,v=this._dims,y=this.value,b=y.curr(),x=y.prev(),w=y.all(),_=p.rem=p.add,E=p.mod,k=m.length,C={};if(x.set(b),t.rem.length&&(a=this.remove(e,t,p)),t.add.length&&y.add(t.add),t.mod.length)for(u={},c=0,f=(o=t.mod).length;c<f;++c)u[o[c]._index]=1;for(c=0;c<k;++c)d=h[c],(!v[c]||e.modified("fields",c)||t.modified(d.fields))&&((n=C[i=d.fname])||(g[i]=r=l(),C[i]=n=r.insert(d,t.source,0)),v[c]=s(r,c,m[c]).onAdd(n,b));for(c=0,f=y.data().length;c<f;++c)a[c]||(x[c]!==b[c]?_.push(c):u[c]&&b[c]!==w&&E.push(c));return y.mask=(1<<k)-1,p},f.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},f.insert=function(e,t,n){var r,i,o,a=t.add,u=this.value,s=this._dims,l=this._indices,c=e.fields,f={},d=n.add,p=u.size(),h=p+a.length,m=s.length;u.resize(h,m),u.add(a);var g=u.curr(),v=u.prev(),y=u.all();for(r=0;r<m;++r)o=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],a,p)),s[r].onAdd(o,g);for(;p<h;++p)v[p]=y,g[p]!==y&&d.push(p)},f.modify=function(e,t){var n,r,i,o=t.mod,a=this.value,u=a.curr(),s=a.all(),l=e.mod;for(n=0,r=l.length;n<r;++n)u[i=l[n]._index]!==s&&o.push(i)},f.remove=function(e,t,n){var r,i,o,a,u=this._indices,s=this.value,l=s.curr(),c=s.prev(),f=s.all(),d={},p=n.rem,h=t.rem;for(r=0,i=h.length;r<i;++r)d[o=h[r]._index]=1,c[o]=a=l[o],l[o]=f,a!==f&&p.push(o);for(o in u)u[o].remove(i,d);return this.reindex(t,i,d),d},f.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var o in r)r[o].reindex(e)}))},f.update=function(e,t,n){var r,i,o=this._dims,a=e.query,u=t.stamp,s=o.length,l=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++l);if(1===l)l=o[r].one,this.incrementOne(o[r],a[r],n.add,n.rem);else for(i=0,l=0;i<s;++i)e.modified("query",i)&&(l|=o[i].one,this.incrementAll(o[i],a[i],u,n.add),n.rem=n.add);return l},f.incrementAll=function(e,t,n,r){var i,o,a,u=this.value,s=u.seen(),l=u.curr(),c=u.prev(),f=e.index(),d=e.bisect(e.range),p=e.bisect(t),h=p[0],m=p[1],g=d[0],v=d[1],y=e.one;if(h<g)for(i=h,o=Math.min(g,m);i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;else if(h>g)for(i=g,o=Math.min(h,v);i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;if(m>v)for(i=Math.max(h,v),o=m;i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;else if(m<v)for(i=Math.max(g,m),o=v;i<o;++i)s[a=f[i]]!==n&&(c[a]=l[a],s[a]=n,r.push(a)),l[a]^=y;e.range=t.slice()},f.incrementOne=function(e,t,n,r){var i,o,a,u=this.value.curr(),s=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],p=l[0],h=l[1],m=e.one;if(f<p)for(i=f,o=Math.min(p,d);i<o;++i)u[a=s[i]]^=m,n.push(a);else if(f>p)for(i=p,o=Math.min(f,h);i<o;++i)u[a=s[i]]^=m,r.push(a);if(d>h)for(i=Math.max(f,h),o=d;i<o;++i)u[a=s[i]]^=m,n.push(a);else if(d<h)for(i=Math.max(p,d),o=h;i<o;++i)u[a=s[i]]^=m,r.push(a);e.range=t.slice()},d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},r.inherits(d,n.Transform).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var o=t.fork(t.ALL),a=r.data(),u=r.curr(),s=r.prev(),l=function(e){return u[e]&n?null:a[e]};return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?a[e]:null})),o.filter(o.REM,(function(e){var t=u[e]&n;return!t||t^t^s[e]&n?null:a[e]}))):(o.filter(o.ADD,l),o.filter(o.REM,(function(e){return(u[e]&n)===i?a[e]:null}))),o.filter(o.SOURCE,(function(e){return l(e._index)}))},e.crossfilter=c,e.resolvefilter=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,Gx,Vx,Ix)}));t(Sw);var Aw=n((function(e,t){!function(e,t){var n,r,i,o,a;function u(e){this.type=e}u.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1},(n={})[1]="Boolean",n[2]="<end>",n[3]="Identifier",n[4]="Keyword",n[5]="Null",n[6]="Numeric",n[7]="Punctuator",n[8]="String",n[9]="RegularExpression";var s="ILLEGAL",l=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),c=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function f(e,t){if(!e)throw new Error("ASSERT: "+t)}function d(e){return e>=48&&e<=57}function p(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function h(e){return"01234567".indexOf(e)>=0}function m(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function g(e){return 10===e||13===e||8232===e||8233===e}function v(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&l.test(String.fromCharCode(e))}function y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&c.test(String.fromCharCode(e))}var b={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function x(){for(var e;i<o&&(m(e=r.charCodeAt(i))||g(e));)++i}function w(e){var t,n,a,u=0;for(n="u"===e?4:2,t=0;t<n;++t)i<o&&p(r[i])?(a=r[i++],u=16*u+"0123456789abcdef".indexOf(a.toLowerCase())):B({},"Unexpected token %0",s);return String.fromCharCode(u)}function _(){var e,t,n,a;for(t=0,"}"===(e=r[i])&&B({},"Unexpected token %0",s);i<o&&p(e=r[i++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&B({},"Unexpected token %0",s),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),a=56320+(t-65536&1023),String.fromCharCode(n,a))}function E(){var e,t;for(e=r.charCodeAt(i++),t=String.fromCharCode(e),92===e&&(117!==r.charCodeAt(i)&&B({},"Unexpected token %0",s),++i,(e=w("u"))&&"\\"!==e&&v(e.charCodeAt(0))||B({},"Unexpected token %0",s),t=e);i<o&&y(e=r.charCodeAt(i));)++i,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==r.charCodeAt(i)&&B({},"Unexpected token %0",s),++i,(e=w("u"))&&"\\"!==e&&y(e.charCodeAt(0))||B({},"Unexpected token %0",s),t+=e);return t}function k(){var e,t;return e=i,{type:1===(t=92===r.charCodeAt(i)?E():function(){var e,t;for(e=i++;i<o;){if(92===(t=r.charCodeAt(i)))return i=e,E();if(!y(t))break;++i}return r.slice(e,i)}()).length?3:b.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:i}}function C(){var e,t,n,o,a=i,u=r.charCodeAt(i),l=r[i];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++i,{type:7,value:String.fromCharCode(u),start:a,end:i};default:if(61===(e=r.charCodeAt(i+1)))switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return i+=2,{type:7,value:String.fromCharCode(u)+String.fromCharCode(e),start:a,end:i};case 33:case 61:return i+=2,61===r.charCodeAt(i)&&++i,{type:7,value:r.slice(a,i),start:a,end:i}}}return">>>="===(o=r.substr(i,4))?{type:7,value:o,start:a,end:i+=4}:">>>"===(n=o.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:a,end:i+=3}:l===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(l)>=0||"=>"===t?{type:7,value:t,start:a,end:i+=2}:"<>=!+-*%&|^/".indexOf(l)>=0?{type:7,value:l,start:a,end:++i}:void B({},"Unexpected token %0",s)}function S(){var e,t,n;if(f(d((n=r[i]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=i,e="","."!==n){if(e=r[i++],n=r[i],"0"===e){if("x"===n||"X"===n)return++i,function(e){for(var t="";i<o&&p(r[i]);)t+=r[i++];return 0===t.length&&B({},"Unexpected token %0",s),v(r.charCodeAt(i))&&B({},"Unexpected token %0",s),{type:6,value:parseInt("0x"+t,16),start:e,end:i}}(t);if(h(n))return function(e){for(var t="0"+r[i++];i<o&&h(r[i]);)t+=r[i++];return(v(r.charCodeAt(i))||d(r.charCodeAt(i)))&&B({},"Unexpected token %0",s),{type:6,value:parseInt(t,8),octal:!0,start:e,end:i}}(t);n&&d(n.charCodeAt(0))&&B({},"Unexpected token %0",s)}for(;d(r.charCodeAt(i));)e+=r[i++];n=r[i]}if("."===n){for(e+=r[i++];d(r.charCodeAt(i));)e+=r[i++];n=r[i]}if("e"===n||"E"===n)if(e+=r[i++],"+"!==(n=r[i])&&"-"!==n||(e+=r[i++]),d(r.charCodeAt(i)))for(;d(r.charCodeAt(i));)e+=r[i++];else B({},"Unexpected token %0",s);return v(r.charCodeAt(i))&&B({},"Unexpected token %0",s),{type:6,value:parseFloat(e),start:t,end:i}}function A(){var e,t,n,u;return a=null,x(),e=i,t=function(){var e,t,n,a;for(f("/"===(e=r[i]),"Regular expression literal must start with a slash"),t=r[i++],n=!1,a=!1;i<o;)if(t+=e=r[i++],"\\"===e)g((e=r[i++]).charCodeAt(0))&&B({},"Invalid regular expression: missing /"),t+=e;else if(g(e.charCodeAt(0)))B({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){a=!0;break}"["===e&&(n=!0)}return a||B({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";i<o&&y((e=r[i]).charCodeAt(0));)++i,"\\"===e&&i<o?B({},"Unexpected token %0",s):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&B({},"Invalid regular expression",n),{value:n,literal:t}}(),u=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";B({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){B({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:u,regex:{pattern:t.value,flags:n.value},start:e,end:i}}function O(){var e;return x(),i>=o?{type:2,start:i,end:i}:v(e=r.charCodeAt(i))?k():40===e||41===e||59===e?C():39===e||34===e?function(){var e,t,n,a,u="",l=!1;for(f("'"===(e=r[i])||'"'===e,"String literal must starts with a quote"),t=i,++i;i<o;){if((n=r[i++])===e){e="";break}if("\\"===n)if((n=r[i++])&&g(n.charCodeAt(0)))"\r"===n&&"\n"===r[i]&&++i;else switch(n){case"u":case"x":"{"===r[i]?(++i,u+=_()):u+=w(n);break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;default:h(n)?(0!==(a="01234567".indexOf(n))&&(l=!0),i<o&&h(r[i])&&(l=!0,a=8*a+"01234567".indexOf(r[i++]),"0123".indexOf(n)>=0&&i<o&&h(r[i])&&(a=8*a+"01234567".indexOf(r[i++]))),u+=String.fromCharCode(a)):u+=n}else{if(g(n.charCodeAt(0)))break;u+=n}}return""!==e&&B({},"Unexpected token %0",s),{type:8,value:u,octal:l,start:t,end:i}}():46===e?d(r.charCodeAt(i+1))?S():C():d(e)?S():C()}function M(){var e;return i=(e=a).end,a=O(),i=e.end,e}function D(){var e;e=i,a=O(),i=e}function P(e,t,n){var r=new u("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function T(e,t){var n=new u("CallExpression");return n.callee=e,n.arguments=t,n}function F(e){var t=new u("Identifier");return t.name=e,t}function N(e){var t=new u("Literal");return t.value=e.value,t.raw=r.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function j(e,t,n){var r=new u("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function R(e,t,n){var r=new u("Property");return r.key=t,r.value=n,r.kind=e,r}function B(e,t){var n,r=Array.prototype.slice.call(arguments,2),o=t.replace(/%(\d)/g,(function(e,t){return f(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(o)).index=i,n.description=o,n}function L(e){2===e.type&&B(e,"Unexpected end of input"),6===e.type&&B(e,"Unexpected number"),8===e.type&&B(e,"Unexpected string"),3===e.type&&B(e,"Unexpected identifier"),4===e.type&&B(e,"Unexpected reserved word"),B(e,"Unexpected token %0",e.value)}function z(e){var t=M();7===t.type&&t.value===e||L(t)}function I(e){return 7===a.type&&a.value===e}function $(e){return 4===a.type&&a.value===e}function U(){var e=[];for(i=a.start,z("[");!I("]");)I(",")?(M(),e.push(null)):(e.push(ee()),I("]")||z(","));return M(),function(e){var t=new u("ArrayExpression");return t.elements=e,t}(e)}function q(){var e;return i=a.start,8===(e=M()).type||6===e.type?(e.octal&&B(e,"Octal literals are not allowed in strict mode."),N(e)):F(e.value)}function W(){var e,t,n;return i=a.start,3===(e=a).type?(n=q(),z(":"),R("init",n,ee())):2!==e.type&&7!==e.type?(t=q(),z(":"),R("init",t,ee())):void L(e)}function H(){var e,t,n=[],r={},o=String;for(i=a.start,z("{");!I("}");)t="$"+("Identifier"===(e=W()).key.type?e.key.name:o(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?B({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),I("}")||z(",");return z("}"),function(e){var t=new u("ObjectExpression");return t.properties=e,t}(n)}var V={if:1,this:1};function G(){var e,t,n;if(I("("))return function(){var e;return z("("),e=te(),z(")"),e}();if(I("["))return U();if(I("{"))return H();if(e=a.type,i=a.start,3===e||V[a.value])n=F(M().value);else if(8===e||6===e)a.octal&&B(a,"Octal literals are not allowed in strict mode."),n=N(M());else{if(4===e)throw new Error("Disabled.");1===e?((t=M()).value="true"===t.value,n=N(t)):5===e?((t=M()).value=null,n=N(t)):I("/")||I("/=")?(n=N(A()),D()):L(M())}return n}function Y(){var e=[];if(z("("),!I(")"))for(;i<o&&(e.push(ee()),!I(")"));)z(",");return z(")"),e}function X(){return z("."),function(){var e;return i=a.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=M())||L(e),F(e.value)}()}function K(){var e;return z("["),e=te(),z("]"),e}function Q(){var e=function(){var e;for(e=G();;)if(I("."))e=j(".",e,X());else if(I("("))e=T(e,Y());else{if(!I("["))break;e=j("[",e,K())}return e}();if(7===a.type&&(I("++")||I("--")))throw new Error("Disabled.");return e}function J(){var e,t,n,r,i;if(7!==a.type&&4!==a.type)t=Q();else{if(I("++")||I("--"))throw new Error("Disabled.");if(I("+")||I("-")||I("~")||I("!"))e=M(),t=J(),n=e.value,r=t,(i=new u("UnaryExpression")).operator=n,i.argument=r,i.prefix=!0,t=i;else{if($("delete")||$("void")||$("typeof"))throw new Error("Disabled.");t=Q()}}return t}function Z(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ee(){var e,t;return e=function(){var e,t,n,r,i,o,u,s,l,c;if(e=a,l=J(),0===(i=Z(r=a)))return l;for(r.prec=i,M(),t=[e,a],o=[l,r,u=J()];(i=Z(a))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)u=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=P(s,l,u),o.push(n);(r=M()).prec=i,o.push(r),t.push(a),n=J(),o.push(n)}for(n=o[c=o.length-1],t.pop();c>1;)t.pop(),n=P(o[c-1].value,o[c-2],n),c-=2;return n}(),I("?")&&(M(),t=ee(),z(":"),e=function(e,t,n){var r=new u("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,ee())),e}function te(){var e=ee();if(I(","))throw new Error("Disabled.");return e}var ne={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function re(e){function n(t,n,r){return function(i){return function(t,n,r,i){var o=e(n[0]);return r&&(o=r+"("+o+")",0===r.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var r="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(n){n.length<3&&t.error("Missing arguments to clamp function."),n.length>3&&t.error("Too many arguments to clamp function.");var r=n.map(e);return"Math.max("+r[1]+", Math.min("+r[2]+","+r[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),join:n("join",null),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase","String",0),lower:n("toLowerCase","String",0),substring:n("substring","String"),split:n("split","String"),replace:n("replace","String"),trim:n("trim","String",0),regexp:"RegExp",test:n("test","RegExp"),if:function(n){n.length<3&&t.error("Missing arguments to if function."),n.length>3&&t.error("Too many arguments to if function.");var r=n.map(e);return"("+r[0]+"?"+r[1]+":"+r[2]+")"}}}e.ASTNode=u,e.ArrayExpression="ArrayExpression",e.BinaryExpression="BinaryExpression",e.CallExpression="CallExpression",e.ConditionalExpression="ConditionalExpression",e.Identifier="Identifier",e.Literal="Literal",e.LogicalExpression="LogicalExpression",e.MemberExpression="MemberExpression",e.ObjectExpression="ObjectExpression",e.Property="Property",e.RawCode="RawCode",e.UnaryExpression="UnaryExpression",e.codegen=function(e){var n=(e=e||{}).whitelist?t.toSet(e.whitelist):{},r=e.blacklist?t.toSet(e.blacklist):{},i=e.constants||ne,o=(e.functions||re)(d),a=e.globalvar,u=e.fieldvar,s={},l={},c=0,f=t.isFunction(a)?a:function(e){return a+'["'+e+'"]'};function d(e){if(t.isString(e))return e;var n=p[e.type];return null==n&&t.error("Unsupported type: "+e.type),n(e)}var p={Literal:function(e){return e.raw},Identifier:function(e){var o=e.name;return c>0?o:t.hasOwnProperty(r,o)?t.error("Illegal identifier: "+o):t.hasOwnProperty(i,o)?i[o]:t.hasOwnProperty(n,o)?o:(s[o]=1,f(o))},MemberExpression:function(e){var t=!e.computed,n=d(e.object);t&&(c+=1);var r=d(e.property);return n===u&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(c-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&t.error("Illegal callee type: "+e.callee.type);var n=e.callee.name,r=e.arguments,i=t.hasOwnProperty(o,n)&&o[n];return i||t.error("Unrecognized function: "+n),t.isFunction(i)?i(r):i+"("+r.map(d).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(d).join(",")+"]"},BinaryExpression:function(e){return"("+d(e.left)+e.operator+d(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+d(e.argument)+")"},ConditionalExpression:function(e){return"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")"},LogicalExpression:function(e){return"("+d(e.left)+e.operator+d(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(d).join(",")+"}"},Property:function(e){c+=1;var t=d(e.key);return c-=1,t+":"+d(e.value)}};function h(e){var t={code:d(e),globals:Object.keys(s),fields:Object.keys(l)};return s={},l={},t}return h.functions=o,h.constants=i,h},e.constants=ne,e.functions=re,e.parse=function(e){i=0,o=(r=e).length,a=null,D();var t=te();if(2!==a.type)throw new Error("Unexpect token after expression.");return t},Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix)}));t(Aw);var Ow=n((function(e,t){!function(e,t,n){function r(e,n){for(var r,i,o=n.fields,a=n.values,u=o.length,s=0;s<u;++s)if((i=o[s]).getter=t.field.getter||t.field(i.field),r=i.getter(e),t.isDate(r)&&(r=t.toNumber(r)),t.isDate(a[s])&&(a[s]=t.toNumber(a[s])),t.isDate(a[s][0])&&(a[s]=a[s].map(t.toNumber)),"E"===i.type){if(t.isArray(a[s])?a[s].indexOf(r)<0:r!==a[s])return!1}else if("R"===i.type){if(!t.inrange(r,a[s]))return!1}else if("R-RE"===i.type){if(!t.inrange(r,a[s],!0,!1))return!1}else if("R-E"===i.type){if(!t.inrange(r,a[s],!1,!1))return!1}else if("R-LE"===i.type&&!t.inrange(r,a[s],!1,!0))return!1;return!0}var i={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,n){var r=t.toNumber(n[0]),i=t.toNumber(n[1]);return r>i&&(r=n[1],i=n[0]),e.length?(e[0]>r&&(e[0]=r),e[1]<i&&(e[1]=i),e):[r,i]},R_intersect:function(e,n){var r=t.toNumber(n[0]),i=t.toNumber(n[1]);return r>i&&(r=n[1],i=n[0]),e.length?i<e[0]||e[1]<r?[]:(e[0]<r&&(e[0]=r),e[1]>i&&(e[1]=i),e):[r,i]}};e.selectionResolve=function(e,n,r){for(var o,a,u,s,l,c,f,d,p,h,m,g=this.context.data[e],v=g?g.values.value:[],y={},b={},x={},w=v.length,_=0;_<w;++_){for(s=(o=v[_]).unit,a=o.fields,u=o.values,h=0,m=a.length;h<m;++h)l=a[h],f=(c=y[l.field]||(y[l.field]={}))[s]||(c[s]=[]),x[l.field]=d=l.type.charAt(0),p=i[d+"_union"],c[s]=p(f,t.array(u[h]));r&&(f=b[s]||(b[s]=[])).push(t.array(u).reduce((e,t,n)=>(e[a[n].field]=t,e),{}))}return n=n||"union",Object.keys(y).forEach((function(e){y[e]=Object.keys(y[e]).map(t=>y[e][t]).reduce((t,r)=>void 0===t?r:i[x[e]+"_"+n](t,r))})),v=Object.keys(b),r&&v.length&&(y.vlMulti="union"===n?{or:v.reduce((e,t)=>(e.push.apply(e,b[t]),e),[])}:{and:v.map(e=>({or:b[e]}))}),y},e.selectionTest=function(e,t,n){for(var i,o,a,u,s,l=this.context.data[e],c=l?l.values.value:[],f=l?l["index:unit"]&&l["index:unit"].value:void 0,d="intersect"===n,p=c.length,h=0;h<p;++h)if(i=c[h],f&&d){if(-1===(a=(o=o||{})[u=i.unit]||0))continue;if(s=r(t,i),o[u]=s?-1:++a,s&&1===f.size)return!0;if(!s&&a===f.get(u).count)return!1}else if(d^(s=r(t,i)))return s;return p&&d},e.selectionVisitor=function(e,r,i,o){r[0].type!==n.Literal&&t.error("First argument to selection functions must be a string literal.");const a=r[0].value,u=":"+a;"intersect"!==(r.length>=2&&t.peek(r).value)||t.hasOwnProperty(o,"@unit")||(o["@unit"]=i.getData(a).indataRef(i,"unit")),t.hasOwnProperty(o,u)||(o[u]=i.getData(a).tuplesRef())},Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Aw)}));t(Ow);var Mw=n((function(e,t){!function(e,t,n,r,i,o,a,u,s,l,c,f,d,p){function h(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function m(e){const t=s.rgb(e);return.2126*h(t.r)+.7152*h(t.g)+.0722*h(t.b)}function g(e,t){const n=m(e),r=m(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function v(e){const t=this.context.data[e];return t?t.values.value:[]}function y(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function b(e,t){const n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(a.truthy).insert(t)),1}function x(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e}const w={};function _(e,t,n){let r=e+":"+n,i=w[r];return i&&i[0]===t||(w[r]=i=[t,t(n)]),i[1]}function E(e,t){return _("format",l.format,t)(e)}function k(e,t){return _("timeFormat",o.timeFormat,t)(e)}function C(e,t){return _("utcFormat",o.utcFormat,t)(e)}function S(e,t){return _("timeParse",c.timeParse,t)(e)}function A(e,t){return _("utcParse",c.utcParse,t)(e)}var O=new Date(2e3,0,1);function M(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(O.setYear(2e3),O.setMonth(e),O.setDate(t),k(O,n)):""}function D(e){return M(e,1,"%B")}function P(e){return M(e,1,"%b")}function T(e){return M(0,2+e,"%A")}function F(e){return M(0,2+e,"%a")}function N(e,t){let n;return a.isFunction(e)?e:a.isString(e)?(n=t.scales[e])&&n.value:void 0}function j(e,t){const n=N(e,(t||this).context);return n&&n.range?n.range():[]}function R(e,t){const n=N(e,(t||this).context);return n?n.domain():[]}function B(e,t){const n=N(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function L(e,t,n){return f.bandSpace(e||0,t||0,n||0)}function z(e,t){const n=N(e,(t||this).context);return n?n.copy():void 0}function I(e,t,n){const r=N(e,(n||this).context);return r&&void 0!==t?r(t):void 0}function $(e,t,n){const r=N(e,(n||this).context);return r?a.isArray(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function U(e,t){return function(n,r,i){if(n){const t=N(n,(i||this).context);return t&&t.path[e](r)}return t(r)}}const q=U("area",d.geoArea),W=U("bounds",d.geoBounds),H=U("centroid",d.geoCentroid);function V(e){let t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function G(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function Y(){return G(this.context.dataflow,"warn",arguments)}function X(){return G(this.context.dataflow,"info",arguments)}function K(){return G(this.context.dataflow,"debug",arguments)}function Q(){var e=[].slice.call(arguments);return e.unshift({}),a.extend.apply(null,e)}function J(e,t){return e===t||e!=e&&t!=t||(a.isArray(e)?!(!a.isArray(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!J(e[n],t[n]))return!1;return!0}(e,t):!(!a.isObject(e)||!a.isObject(t))&&Z(e,t))}function Z(e,t){for(let n in e)if(!J(e[n],t[n]))return!1;return!0}function ee(e){return t=>Z(e,t)}function te(e,t,r,i,o,u){let s,l,c=this.context.dataflow,f=this.context.data[e],d=f.input,p=f.changes,h=c.stamp();if(!1===c._trigger||!(d.value.length||t||i))return 0;if((!p||p.stamp<h)&&(f.changes=p=c.changeset(),p.stamp=h,c.runAfter((function(){f.modified=!0,c.pulse(d,p).run()}),!0,1)),r&&(s=!0===r?a.truthy:a.isArray(r)||n.isTuple(r)?r:ee(r),p.remove(s)),t&&p.insert(t),i&&(s=ee(i),d.value.some(s)?p.remove(s):p.insert(i)),o)for(l in u)p.modify(o,l,u[l]);return 1}function ne(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function re(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}function ie(e,t,n,r,i){e=N(e,(i||this).context);const o=p.Gradient(t,n);let u=e.domain(),s=u[0],l=a.peek(u),c=a.identity;return l-s?c=f.scaleFraction(e,s,l):e=(e.interpolator?f.scale("sequential")().interpolator(e.interpolator()):f.scale("linear")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(u=e.ticks(+r||15),s!==u[0]&&u.unshift(s),l!==a.peek(u)&&u.push(l)),u.forEach(t=>o.stop(c(t),e(t))),o}function oe(e,t,n){const r=N(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}function ae(e){let t=null;return function(n){return n?p.pathRender(n,t=t||p.pathParse(e)):e}}const ue={};function se(e){return e.data}function le(e,t){const n=v.call(t,e);return n.root&&n.root.lookup||ue}function ce(e,t,n){const r=le(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(se):void 0}function fe(e,t){const n=le(e,this)[t];return n?n.ancestors().map(se):void 0}const de="undefined"!=typeof window&&window||null;function pe(){return de?de.screen:{}}function he(){return de?[de.innerWidth,de.innerHeight]:[void 0,void 0]}function me(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function ge(e,n,r,i){n[0].type!==t.Literal&&a.error("First argument to data functions must be a string literal.");const o=n[0].value,u=":"+o;if(!a.hasOwnProperty(u,i))try{i[u]=r.getData(o).tuplesRef()}catch(e){}}function ve(e,n,r,i){n[0].type!==t.Literal&&a.error("First argument to indata must be a string literal."),n[1].type!==t.Literal&&a.error("Second argument to indata must be a string literal.");const o=n[0].value,u=n[1].value,s="@"+u;a.hasOwnProperty(s,i)||(i[s]=r.getData(o).indataRef(r,u))}function ye(e,n,r,i){if(n[0].type===t.Literal)be(r,i,n[0].value);else if(n[0].type===t.Identifier)for(e in r.scales)be(r,i,e)}function be(e,t,n){const r="%"+n;if(!a.hasOwnProperty(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}const xe={random:function(){return i.random()},cumulativeNormal:i.cumulativeNormal,cumulativeLogNormal:i.cumulativeLogNormal,cumulativeUniform:i.cumulativeUniform,densityNormal:i.densityNormal,densityLogNormal:i.densityLogNormal,densityUniform:i.densityUniform,quantileNormal:i.quantileNormal,quantileLogNormal:i.quantileLogNormal,quantileUniform:i.quantileUniform,sampleNormal:i.sampleNormal,sampleLogNormal:i.sampleLogNormal,sampleUniform:i.sampleUniform,isArray:a.isArray,isBoolean:a.isBoolean,isDate:a.isDate,isDefined:function(e){return void 0!==e},isNumber:a.isNumber,isObject:a.isObject,isRegExp:a.isRegExp,isString:a.isString,isTuple:n.isTuple,isValid:function(e){return null!=e&&e==e},toBoolean:a.toBoolean,toDate:a.toDate,toNumber:a.toNumber,toString:a.toString,flush:a.flush,lerp:a.lerp,merge:Q,pad:a.pad,peek:a.peek,span:a.span,inrange:a.inrange,truncate:a.truncate,rgb:s.rgb,lab:s.lab,hcl:s.hcl,hsl:s.hsl,luminance:m,contrast:g,sequence:u.range,format:E,utcFormat:C,utcParse:A,utcOffset:o.utcOffset,utcSequence:o.utcSequence,timeFormat:k,timeParse:S,timeOffset:o.timeOffset,timeSequence:o.timeSequence,timeUnitSpecifier:o.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:P,dayFormat:T,dayAbbrevFormat:F,quarter:a.quarter,utcquarter:a.utcquarter,week:o.week,utcweek:o.utcweek,dayofyear:o.dayofyear,utcdayofyear:o.utcdayofyear,warn:Y,info:X,debug:K,extent:a.extent,inScope:V,intersect:function(e,t,n){if(!e)return[];const[r,i]=e,o=(new p.Bounds).set(r[0],r[1],i[0],i[1]),u=n||this.context.dataflow.scenegraph().root;return p.intersect(u,o,function(e){let t=null;if(e){const n=a.array(e.marktype),r=a.array(e.markname);t=e=>(!n.length||n.some(t=>e.marktype===t))&&(!r.length||r.some(t=>e.name===t))}return t}(t))},clampRange:a.clampRange,pinchDistance:ne,pinchAngle:re,screen:pe,containerSize:me,windowSize:he,bandspace:L,setdata:b,pathShape:ae,panLinear:a.panLinear,panLog:a.panLog,panPow:a.panPow,panSymlog:a.panSymlog,zoomLinear:a.zoomLinear,zoomLog:a.zoomLog,zoomPow:a.zoomPow,zoomSymlog:a.zoomSymlog,encode:x,modify:te},we=["view","item","group","xy","x","y"],_e={};function Ee(e,t,n){return 1===arguments.length?xe[e]:(xe[e]=t,n&&(_e[e]=n),Ce&&(Ce.functions[e]="this."+e),this)}Ee("bandwidth",B,ye),Ee("copy",z,ye),Ee("domain",R,ye),Ee("range",j,ye),Ee("invert",$,ye),Ee("scale",I,ye),Ee("gradient",ie,ye),Ee("geoArea",q,ye),Ee("geoBounds",W,ye),Ee("geoCentroid",H,ye),Ee("geoShape",oe,ye),Ee("indata",y,ve),Ee("data",v,ge),Ee("treePath",ce,ge),Ee("treeAncestors",fe,ge),Ee("vlSelectionTest",r.selectionTest,r.selectionVisitor),Ee("vlSelectionResolve",r.selectionResolve,r.selectionVisitor);const ke={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+a.stringValue("$"+e)+"]"},functions:function(e){const n=t.functions(e);we.forEach(e=>n[e]="event.vega."+e);for(let e in xe)n[e]="this."+e;return n},constants:t.constants,visitors:_e};var Ce=t.codegen(ke);Object.defineProperty(e,"formatLocale",{enumerable:!0,get:function(){return l.formatDefaultLocale}}),Object.defineProperty(e,"timeFormatLocale",{enumerable:!0,get:function(){return c.timeFormatDefaultLocale}}),e.DataPrefix=":",e.IndexPrefix="@",e.ScalePrefix="%",e.SignalPrefix="$",e.bandspace=L,e.bandwidth=B,e.codeGenerator=Ce,e.codegenParams=ke,e.containerSize=me,e.contrast=g,e.copy=z,e.data=v,e.dataVisitor=ge,e.dayAbbrevFormat=F,e.dayFormat=T,e.debug=K,e.domain=R,e.encode=x,e.expressionFunction=Ee,e.format=E,e.functionContext=xe,e.geoArea=q,e.geoBounds=W,e.geoCentroid=H,e.geoShape=oe,e.inScope=V,e.indata=y,e.indataVisitor=ve,e.info=X,e.invert=$,e.luminance=m,e.merge=Q,e.modify=te,e.monthAbbrevFormat=P,e.monthFormat=D,e.pathShape=ae,e.pinchAngle=re,e.pinchDistance=ne,e.range=j,e.scale=I,e.scaleGradient=ie,e.scaleVisitor=ye,e.screen=pe,e.setdata=b,e.timeFormat=k,e.timeParse=S,e.treeAncestors=fe,e.treePath=ce,e.utcFormat=C,e.utcParse=A,e.warn=Y,e.windowSize=he,Object.defineProperty(e,"__esModule",{value:!0})}(t,Aw,Vx,Ow,Yx,Xx,Ix,Gx,ew,nw,Wx,ow,cw,aw)}));t(Mw);var Dw=n((function(e,t){!function(e,t,n){function r(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function i(e,t){return r(["event"],e,t)}function o(e,t){return r(["item","_"],e,t)}function a(e,t,r){var i,o;for(i in r=r||{},e)o=e[i],r[i]=n.isArray(o)?o.map((function(e){return u(e,t,r)})):u(o,t,r);return r}function u(e,t,r){if(!e||!n.isObject(e))return e;for(var i,o=0,a=s.length;o<a;++o)if(i=s[o],n.hasOwnProperty(e,i.key))return i.parse(e,t,r);return e}var s=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||n.error("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var r="k:"+e.$key+"_"+!!e.$flat;return t.fn[r]||(t.fn[r]=n.key(e.$key,e.$flat))}},{key:"$expr",parse:function(e,t,i){e.$params&&a(e.$params,t,i);var o="e:"+e.$expr+"_"+e.$name;return t.fn[o]||(t.fn[o]=n.accessor(function(e,t){return r(["datum","_"],e,t)}(e.$expr,t),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var r="f:"+e.$field+"_"+e.$name;return t.fn[r]||(t.fn[r]=n.field(e.$field,e.$name))}},{key:"$encode",parse:function(e,t){var r,i,a=e.$encode,u={};for(r in a)i=a[r],u[r]=n.accessor(o(i.$expr,t),i.$fields),u[r].output=i.$output;return u}},{key:"$compare",parse:function(e,r){var i="c:"+e.$compare+"_"+e.$order,o=n.array(e.$compare).map((function(e){return e&&e.$tupleid?t.tupleid:e}));return r.fn[i]||(r.fn[i]=n.compare(o,e.$order))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var o=d(n,t.fork()),a=o.get(n.operators[0].id),u=o.signals.parent;return u&&u.set(i),a}}},{key:"$tupleid",parse:function(){return t.tupleid}}];function l(e){return(e+"").toLowerCase()}function c(e,t){!function(e){return"operator"===l(e)}(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?function(e,t){return r(["_"],e,t)}(e.update,t):null)}function f(e,t){var o=n.isObject(o=e.source)?o.$ref:o,u=t.get(o),s=null,l=e.update,c=void 0;u||n.error("Source not defined: "+e.source),s=e.target&&e.target.$expr?i(e.target.$expr,t):t.get(e.target),l&&l.$expr&&(l.$params&&(c=a(l.$params,t)),l=function(e,t){return r(["_","event"],e,t)}(l.$expr,t)),t.update(e,u,s,l,c)}function d(e,t){var r=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),r.forEach((function(e){c(e,t)})),r.forEach((function(e){!function(e,t){if(e.params){var r=t.get(e.id);r||n.error("Invalid operator id: "+e.id),t.dataflow.connect(r,r.parameters(a(e.params,t),e.react,e.initonly))}}(e,t)})),(e.streams||[]).forEach((function(e){!function(e,t){var r,o=null!=e.filter?i(e.filter,t):void 0,a=null!=e.stream?t.get(e.stream):void 0;e.source?a=t.events(e.source,e.type,o):e.merge&&(a=(r=e.merge.map(t.get.bind(t)))[0].merge.apply(r[0],r.slice(1))),e.between&&(r=e.between.map(t.get.bind(t)),a=a.between(r[0],r[1])),e.filter&&(a=a.filter(o)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&n.error("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),t.stream(e,a)}(e,t)})),(e.updates||[]).forEach((function(e){f(e,t)})),t.resolve()}var p={skip:!0};function h(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function m(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}h.prototype=m.prototype={fork:function(){var e=new m(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),function(e){return"collect"===l(e)}(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.preload(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var o=r.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(r.unresolved=r.unresolved||[]).push((function(){o=r.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)}))}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var a in e.data)n=r.data[a]||(r.data[a]={}),e.data[a].forEach((function(e){n[e]=t}))},resolve:function(){return(this.unresolved||[]).forEach((function(e){e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[l(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,r=t.dataflow,i=e.data,o=e.signals;Object.keys(o||{}).forEach((function(e){r.update(t.signals[e],o[e],p)})),Object.keys(i||{}).forEach((function(e){r.pulse(t.data[e].input,r.changeset().remove(n.truthy).insert(i[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}},e.context=function(e,t,n){return new h(e,t,n)},e.expression=r,e.parse=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,Vx,Ix)}));t(Dw);var Pw=n((function(e,t){!function(e,t,n,r,i,o,a,u){function s(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function l(e){var n=e._signals.cursor;n||(e._signals.cursor=n=e.add({user:"default",item:null})),e.on(e.events("view","mousemove"),n,(function(e,r){var i=n.value,o=i?t.isString(i)?i:i.user:"default",a=r.item&&r.item.cursor||null;return i&&o===i.user&&a==i.item?i:{user:o,item:a}})),e.add(null,(function(e){var n=e.cursor,r=this.value;return t.isString(n)||(r=n.item,n=n.user),function(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}(n&&"default"!==n?n:r||n),r}),{cursor:n})}function c(e,n){var r=e._runtime.data;return t.hasOwnProperty(r,n)||t.error("Unrecognized data set: "+n),r[n]}function f(e,r){n.isChangeSet(r)||t.error("Second argument to changes must be a changeset.");var i=c(this,e);return i.modified=!0,this.pulse(i.input,r)}function d(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function p(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function h(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function m(e,n,i){var o,a,u,s=e._renderer,l=s&&s.canvas();return l&&(u=h(e),a=n.changedTouches?n.changedTouches[0]:n,(o=r.point(a,l))[0]-=u[0],o[1]-=u[1]),n.dataflow=e,n.item=i,n.vega=function(e,n,r){var i=n?"group"===n.mark.marktype?n:n.mark.group:null;function o(e){var t,r=i;if(e)for(t=n;t;t=t.mark.group)if(t.mark.name===e){r=t;break}return r&&r.mark&&r.mark.interactive?r:{}}function a(e){if(!e)return r;t.isString(e)&&(e=o(e));for(var n=r.slice();e;)n[0]-=e.x||0,n[1]-=e.y||0,e=e.mark&&e.mark.group;return n}return{view:t.constant(e),item:t.constant(n||{}),group:o,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}(e,i,o),n}const g={trap:!1};function v(e,n,r){const i=e._eventConfig&&e._eventConfig[n];return!(!1===i||t.isObject(i)&&!i[r])||(e.warn(`Blocked ${n} ${r} event listener.`),!1)}function y(e){return e.item}function b(e){return e.item.mark.source}function x(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function w(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}function _(e,n,r){if(!n)return;const i=r.param;let o=r.state;return o||(o=r.state={elements:null,active:!1,set:null,update:t=>{t!==e.signal(i.signal)&&e.runAsync(null,(function(){o.source=!0,e.signal(i.signal,t)}))}},i.debounce&&(o.update=t.debounce(i.debounce,o.update))),function(e,t,n,r){const i=w("div",{class:"vega-bind"}),o="radio"===n.input?i:i.appendChild(w("label"));o.appendChild(w("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);let a=E;switch(n.input){case"checkbox":a=k;break;case"select":a=C;break;case"radio":a=S;break;case"range":a=A}a(e,o,n,r)}(o,n,i,e.signal(i.signal)),o.active||(e.on(e._signals[i.signal],null,()=>{o.source?o.source=!1:o.set(e.signal(i.signal))}),o.active=!0),o}function E(e,t,n,r){const i=w("input");for(const e in n)"signal"!==e&&"element"!==e&&i.setAttribute("input"===e?"type":e,n[e]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=e=>i.value=e}function k(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=w("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=e=>o.checked=!!e||null}function C(e,t,n,r){const i=w("select",{name:n.signal}),o=n.labels||[];n.options.forEach((e,t)=>{const n={value:e};O(e,r)&&(n.selected=!0),i.appendChild(w("option",n,(o[t]||e)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=e=>{for(let t=0,r=n.options.length;t<r;++t)if(O(n.options[t],e))return void(i.selectedIndex=t)}}function S(e,t,n,r){const i=w("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((t,a)=>{const u={type:"radio",name:n.signal,value:t};O(t,r)&&(u.checked=!0);const s=w("input",u);s.addEventListener("change",()=>e.update(t));const l=w("label",{},(o[a]||t)+"");return l.prepend(s),i.appendChild(l),s}),e.set=t=>{const n=e.elements,r=n.length;for(let e=0;e<r;++e)O(n[e].value,t)&&(n[e].checked=!0)}}function A(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;const o=null!=n.max?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,o,+r)||0,u=n.step||i.tickStep(a,o,100),s=w("input",{type:"range",name:n.signal,min:a,max:o,step:u});s.value=r;const l=w("span",{},+r);t.appendChild(s),t.appendChild(l);const c=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener("input",c),s.addEventListener("change",c),e.elements=[s],e.set=e=>{s.value=e,l.textContent=e}}function O(e,t){return e===t||e+""==t+""}function M(e,t,n,r,i,o){return(t=t||new r(e.loader())).initialize(n,d(e),p(e),h(e),i,o).background(e.background())}function D(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}function P(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}const T=e=>+e||0;function F(e){return t.isObject(e)?{top:T(e.top),bottom:T(e.bottom),left:T(e.left),right:T(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(T(e))}async function N(e,n,i,o){const a=r.renderModule(n),u=a&&a.headless;return u||t.error("Unrecognized renderer type: "+n),await e.runAsync(),M(e,null,null,u,i,o).renderAsync(e._scenegraph.root)}var j={skip:!0};function R(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function B(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function L(e,n){return n.modified&&t.isArray(n.input.value)&&e.indexOf("_:vega:_")}function z(e,t){return!("parent"===e||t instanceof n.transforms.proxy)}function I(e,n,r,i){var o=e.element();o&&o.setAttribute("title",function(e){return null==e?"":t.isArray(e)?$(e):t.isObject(e)&&!t.isDate(e)?(n=e,Object.keys(n).map((function(e){var r=n[e];return e+": "+(t.isArray(r)?$(r):U(r))})).join("\n")):e+"";var n}(i))}function $(e){return"["+e.map(U).join(", ")+"]"}function U(e){return t.isArray(e)?"[]":t.isObject(e)&&!t.isDate(e)?"{}":e}function q(e,i){i=i||{},n.Dataflow.call(this),i.loader&&this.loader(i.loader),i.logger&&this.logger(i.logger),null!=i.logLevel&&this.logLevel(i.logLevel),this._el=null,this._elBind=null,this._renderType=i.renderer||r.RenderType.Canvas,this._scenegraph=new r.Scenegraph;var u=this._scenegraph.root;this._renderer=null,this._tooltip=i.tooltip||I,this._redraw=!0,this._handler=(new r.CanvasHandler).scene(u),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=function(e){const n=t.extend({defaults:{}},e),r=(e,n)=>{n.forEach(n=>{t.isArray(e[n])&&(e[n]=t.toSet(e[n]))})};return r(n.defaults,["prevent","allow"]),r(n,["view","window","selector"]),n}(e.eventConfig);var s=function(e,t,r){var i=r||o.functionContext;return a.parse(t,a.context(e,n.transforms,i))}(this,e,i.functions);this._runtime=s,this._signals=s.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:t.extend({},e)}})),s.root&&s.root.set(u),u.source=s.data.root.input,this.pulse(s.data.root.input,this.changeset().insert(u.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=R(this,this._width),this._viewHeight=B(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=R(e,t.size),o()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=B(e,t.size),o()}),{size:r});var a=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,a.rank=i.rank+1}(this),function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(this),l(this),this.description(e.description),i.hover&&this.hover(),i.container&&this.initialize(i.container,i.bind)}var W=t.inherits(q,n.Dataflow);function H(e,n){return t.hasOwnProperty(e._signals,n)?e._signals[n]:t.error("Unrecognized signal name: "+t.stringValue(n))}function V(e,t){var n=(e._targets||[]).filter((function(e){var n=e._update;return n&&n.handler===t}));return n.length?n[0]:null}function G(e,t,n,r){var i=V(n,r);return i||((i=D(this,(function(){r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function Y(e,t,n){var r=V(t,n);return r&&t._targets.remove(r),e}W.evaluate=async function(e,t,r){if(await n.Dataflow.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,function(e){var t=h(e),n=d(e),r=p(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(t){e.error(t)}}))}(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return r&&n.asyncCallback(this,r),this},W.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},W.description=function(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&s(this._el,this._desc=t),this}return this._desc},W.container=function(){return this._el},W.scenegraph=function(){return this._scenegraph},W.origin=function(){return this._origin.slice()},W.signal=function(e,t,n){var r=H(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},W.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},W.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},W.padding=function(e){return arguments.length?this.signal("padding",F(e)):F(this.signal("padding"))},W.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},W.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},W.renderer=function(e){return arguments.length?(r.renderModule(e)||t.error("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},W.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},W.loader=function(e){return arguments.length?(e!==this._loader&&(n.Dataflow.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},W.resize=function(){return this._autosize=1,this.touch(H(this,"autosize"))},W._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},W._resizeView=function(e,t,n,r,i,o){this.runAfter((function(a){var u=0;a._autosize=0,a.width()!==n&&(u=1,a.signal("width",n,j),a._resizeWidth.skip(!0)),a.height()!==r&&(u=1,a.signal("height",r,j),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===i[0]&&a._origin[1]===i[1]||(a._resize=1,a._origin=i),u&&a.run("enter"),o&&a.runAfter(e=>e.resize())}),!1,1)},W.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=D(this,t)).raw=t),this._handler.on(e,r),this},W.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),o=i.length;--o>=0;)if(r=i[o].type,n=i[o].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},W.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},W.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},W.addSignalListener=function(e,t){return G(this,e,H(this,e),t)},W.removeSignalListener=function(e,t){return Y(this,H(this,e),t)},W.addDataListener=function(e,t){return G(this,e,c(this,e).values,t)},W.removeDataListener=function(e,t){return Y(this,c(this,e).values,t)},W.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},W.timer=function(e,t){this._timers.push(u.interval((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},W.events=function(e,t,r){var i,o=this,a=new n.EventStream(r),u=function(n,r){o.runAsync(null,()=>{"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(o,t)&&n.preventDefault(),a.receive(m(o,n,r))})};if("timer"===e)v(o,"timer",t)&&o.timer(u,t);else if("view"===e)v(o,"view",t)&&o.addEventListener(t,u,g);else if("window"===e?v(o,"window",t)&&"undefined"!=typeof window&&(i=[window]):"undefined"!=typeof document&&v(o,"selector",t)&&(i=document.querySelectorAll(e)),i){for(var s=0,l=i.length;s<l;++s)i[s].addEventListener(t,u);o._eventListeners.push({type:t,sources:i,handler:u})}else o.warn("Can not resolve event source: "+e);return a},W.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,o=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},W.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",y),b,x(e)),this.on(this.events("view","mouseout",y),b,x(t)),this},W.data=function(e,r){return arguments.length<2?c(this,e).values.value:f.call(this,e,n.changeset().remove(t.truthy).insert(r))},W.change=f,W.insert=function(e,t){return f.call(this,e,n.changeset().insert(t))},W.remove=function(e,t){return f.call(this,e,n.changeset().remove(t))},W.scale=function(e){var n=this._runtime.scales;return t.hasOwnProperty(n,e)||t.error("Unrecognized scale or projection: "+e),n[e].value},W.initialize=function(e,t){const n=this,i=n._renderType,o=n._eventConfig.bind,a=r.renderModule(i);e=n._el=e?P(n,e):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),s(t,e.description()))}(n),a||n.error("Unrecognized renderer type: "+i);const u=a.handler||r.CanvasHandler,l=e?a.renderer:a.headless;return n._renderer=l?M(n,n._renderer,e,l):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),D(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,h(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,u),n._redraw=!0,e&&"none"!==o&&(t=t?n._elBind=P(n,t):e.appendChild(w("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==o&&(e.element=P(n,e.param.element))})),n._bind.forEach((function(e){_(n,e.element||t,e)}))),n},W.toImageURL=async function(e,n){e!==r.RenderType.Canvas&&e!==r.RenderType.SVG&&e!==r.RenderType.PNG&&t.error("Unrecognized image type: "+e);const i=await N(this,e,n);return e===r.RenderType.SVG?function(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}(i.svg(),"image/svg+xml"):i.canvas().toDataURL("image/png")},W.toCanvas=async function(e,t){return(await N(this,r.RenderType.Canvas,e,t)).canvas()},W.toSVG=async function(e){return(await N(this,r.RenderType.SVG,e)).svg()},W.getState=function(e){return this._runtime.getState(e||{data:L,signals:z,recurse:!0})},W.setState=function(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this},e.View=q,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Vx,aw,Gx,Mw,Dw,vw)}));t(Pw);var Tw=n((function(e,t){!function(e){var t,n,r="view",i=/[[\]{}]/,o={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function a(e,t,n,r,i){for(var o,a=0,u=e.length;t<u;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function u(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=a(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function s(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=a(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=u(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;return t=t.map(s),(n=s(e.slice(1).trim())).between?{between:t,stream:n}:(n.between=t,n)}(e):function(e){var r,o,u={source:t},s=[],l=[0,0],c=0,f=0,d=e.length,p=0;if("}"===e[d-1]){if(!((p=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{l=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(p+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,p).trim(),d=e.length,p=0}if(!d)throw e;if("@"===e[0]&&(c=++p),(r=a(e,p,":"))<d&&(s.push(e.substring(f,r).trim()),f=p=++r),(p=a(e,p,"["))===d)s.push(e.substring(f,d).trim());else if(s.push(e.substring(f,p).trim()),o=[],(f=++p)===d)throw"Unmatched left bracket: "+e;for(;p<d;){if((p=a(e,p,"]"))===d)throw"Unmatched left bracket: "+e;if(o.push(e.substring(f,p).trim()),p<d-1&&"["!==e[++p])throw"Expected left bracket: "+e;f=++p}if(!(d=s.length)||i.test(s[d-1]))throw"Invalid event selector: "+e;return d>1?(u.type=s[1],c?u.markname=s[0].slice(1):function(e){return n[e]}(s[0])?u.marktype=s[0]:u.source=s[0]):u.type=s[0],"!"===u.type.slice(-1)&&(u.consume=!0,u.type=u.type.slice(0,-1)),null!=o&&(u.filter=o),l[0]&&(u.throttle=l[0]),l[1]&&(u.debounce=l[1]),u}(e)}e.selector=function(e,i,a){return t=i||r,n=a||o,u(e.trim()).map(s)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(Tw);var Fw=n((function(e,t){!function(e,t,n,r,i,o,a){function u(e){return t.isObject(e)?e:{type:e||"pad"}}const s=e=>+e||0;function l(e){return t.isObject(e)?e.signal?e:{top:s(e.top),bottom:s(e.bottom),left:s(e.left),right:s(e.right)}:{top:n=s(e),bottom:n,left:n,right:n};var n}var c=["value","update","init","react","bind"];function f(e,n){t.error(e+' for "outer" push: '+t.stringValue(n))}function d(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||f("No prior signal definition",n),c.forEach((function(t){void 0!==e[t]&&f("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function p(e,i,o){var a,u,s={};try{e=t.isString(e)?e:t.stringValue(e)+"",a=n.parse(e)}catch(n){t.error("Expression parse error: "+e)}return a.visit((function(e){if(e.type===n.CallExpression){var t=e.callee.name,o=r.codegenParams.visitors[t];o&&o(t,e.arguments,i,s)}})),(u=r.codeGenerator(a)).globals.forEach((function(e){var n=r.SignalPrefix+e;!t.hasOwnProperty(s,n)&&i.getSignal(e)&&(s[n]=i.signalRef(e))})),{$expr:o?o+"return("+u.code+");":u.code,$fields:u.fields,$params:s}}function h(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function m(e,t,n,r){return new h(e,t,n,r)}function g(e,t){return m("operator",e,t)}function v(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function y(e,t){return t?{$field:e,$name:t}:{$field:e}}var b=y("key");function x(e,t){return{$compare:e,$order:t}}function w(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function _(e){return e&&e.signal}function E(e){if(_(e))return!0;if(t.isObject(e))for(var n in e)if(E(e[n]))return!0;return!1}function k(e,t){return null!=e?e:t}function C(e){return e&&e.signal||e}function S(e,n){return(e.merge?A:e.stream?O:e.type?M:t.error("Invalid stream specification: "+t.stringValue(e)))(e,n)}function A(e,t){var n=D({merge:e.merge.map(e=>S(e,t))},e,t);return t.addStream(n).id}function O(e,t){var n=D({stream:S(e.stream,t)},e,t);return t.addStream(n).id}function M(e,t){var n,r,i;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(i=e.source)?"view":i||"view",e.type),r=D({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function D(e,n,r){var i=n.between;return i&&(2!==i.length&&t.error('Stream "between" parameter must have 2 entries: '+t.stringValue(n)),e.between=[S(i[0],r),S(i[1],r)]),i=n.filter?[].concat(n.filter):[],(n.marktype||n.markname||n.markrole)&&i.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(n.marktype,n.markname,n.markrole)),"scope"===n.source&&i.push("inScope(event.item)"),i.length&&(e.filter=p("("+i.join(")&&(")+")").$expr),null!=(i=n.throttle)&&(e.throttle=+i),null!=(i=n.debounce)&&(e.debounce=+i),n.consume&&(e.consume=!0),e}var P="var datum=event.item&&event.item.datum;";function T(e,n,r){var o=e.events,a=e.update,u=e.encode,s=[],l={target:r};o||t.error("Signal update missing events specification."),t.isString(o)&&(o=i.selector(o,n.isSubscope()?"scope":"view")),o=t.array(o).filter(e=>e.signal||e.scale?(s.push(e),0):1),s.length>1&&(s=[F(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=u&&(a&&t.error("Signal encode and update are mutually exclusive."),a="encode(item(),"+t.stringValue(u)+")"),l.update=t.isString(a)?p(a,n,P):null!=a.expr?p(a.expr,n,P):null!=a.value?a.value:null!=a.signal?{$expr:"_.value",$params:{value:n.signalRef(a.signal)}}:t.error("Invalid signal update specification."),e.force&&(l.options={force:!0}),s.forEach((function(e){n.addUpdate(t.extend(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):S(e,t)}}(e,n),l))}))}function F(e){return{signal:"["+e.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}function N(e,n){var r=n.getSignal(e.name),i=e.update;e.init&&(i?t.error("Signals can not include both init and update expressions."):(i=e.init,r.initonly=!0)),i&&(i=p(i,n),r.update=i.$expr,r.params=i.$params),e.on&&e.on.forEach((function(e){T(e,n,r.id)}))}function j(e){return function(t,n,r){return m(e,n,t||void 0,r)}}var R=j("aggregate"),B=j("axisticks"),L=j("bound"),z=j("collect"),I=j("compare"),$=j("datajoin"),U=j("encode"),q=j("expression"),W=j("facet"),H=j("field"),V=j("key"),G=j("legendentries"),Y=j("load"),X=j("mark"),K=j("multiextent"),Q=j("multivalues"),J=j("overlap"),Z=j("params"),ee=j("prefacet"),te=j("projection"),ne=j("proxy"),re=j("relay"),ie=j("render"),oe=j("scale"),ae=j("sieve"),ue=j("sortitems"),se=j("viewlayout"),le=j("values"),ce=0,fe={min:"min",max:"max",count:"sum"};function de(e,n){var r,i,a=n.getScale(e.name).params;for(r in a.domain=ge(e.domain,e,n),null!=e.range&&(a.range=function e(n,r,i){var a=n.range,u=r.config.range;if(a.signal)return r.signalRef(a.signal);if(t.isString(a)){if(u&&t.hasOwnProperty(u,a))return n=t.extend({},n,{range:u[a]}),e(n,r,i);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=o.isDiscrete(n.type)?[0,{signal:"height"}]:[{signal:"height"},0]:t.error("Unrecognized scale range value: "+t.stringValue(a))}else{if(a.scheme)return i.scheme=t.isArray(a.scheme)?he(a.scheme,r):pe(a.scheme,r),a.extent&&(i.schemeExtent=he(a.extent,r)),void(a.count&&(i.schemeCount=pe(a.count,r)));if(a.step)return void(i.rangeStep=pe(a.step,r));if(o.isDiscrete(n.type)&&!t.isArray(a))return ge(a,n,r);t.isArray(a)||t.error("Unsupported range type: "+t.stringValue(a))}return a.map(e=>(t.isArray(e)?he:pe)(e,r))}(e,n,a)),null!=e.interpolate&&function(e,t){t.interpolate=pe(e.type||e),null!=e.gamma&&(t.interpolateGamma=pe(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=(i=e.nice,t.isObject(i)?{interval:pe(i.interval),step:pe(i.step)}:pe(i))),null!=e.bins&&(a.bins=function(e,n){return e.signal||t.isArray(e)?he(e,n):n.objectProperty(e)}(e.bins,n)),e)t.hasOwnProperty(a,r)||"name"===r||(a[r]=pe(e[r],n))}function pe(e,n){return t.isObject(e)?e.signal?n.signalRef(e.signal):t.error("Unsupported object: "+t.stringValue(e)):e}function he(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>pe(e,t))}function me(e){t.error("Can not find data set: "+t.stringValue(e))}function ge(e,n,r){if(e)return e.signal?r.signalRef(e.signal):(t.isArray(e)?ve:e.fields?be:ye)(e,n,r);null==n.domainMin&&null==n.domainMax||t.error("No scale domain defined for domainMin/domainMax to override.")}function ve(e,t,n){return e.map((function(e){return pe(e,n)}))}function ye(e,t,n){var r=n.getData(e.data);return r||me(e.data),o.isDiscrete(t.type)?r.valuesRef(n,e.field,we(e.sort,!1)):o.isQuantile(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function be(e,n,r){var i=e.data,a=e.fields.reduce((function(e,n){return n=t.isString(n)?{data:i,field:n}:t.isArray(n)||n.signal?function(e,n){var r="_:vega:_"+ce++,i=z({});if(t.isArray(e))i.value={$ingest:e};else if(e.signal){var o="setdata("+t.stringValue(r)+","+e.signal+")";i.params.input=n.signalRef(o)}return n.addDataPipeline(r,[i,ae({})]),{data:r,field:"data"}}(n,r):n,e.push(n),e}),[]);return(o.isDiscrete(n.type)?xe:o.isQuantile(n.type)?_e:Ee)(e,r,a)}function xe(e,t,n){var r,i,o,a,u,s=we(e.sort,!0);return r=n.map((function(e){var n=t.getData(e.data);return n||me(e.data),n.countsRef(t,e.field,s)})),i={groupby:b,pulse:r},s&&(o=s.op||"count",u=s.field?w(o,s.field):"count",i.ops=[fe[o]],i.fields=[t.fieldRef(u)],i.as=[u]),o=t.add(R(i)),a=t.add(z({pulse:v(o)})),u=t.add(le({field:b,sort:t.sortRef(s),pulse:v(a)})),v(u)}function we(e,n){return e&&(e.field||e.op?e.field||"count"===e.op?n&&e.field&&e.op&&!fe[e.op]&&t.error("Multiple domain scales can not be sorted using "+e.op):t.error("No field provided for sort aggregate op: "+e.op):t.isObject(e)?e.field="key":e={field:"key"}),e}function _e(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||me(e.data),n.domainRef(t,e.field)}));return v(t.add(Q({values:r})))}function Ee(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||me(e.data),n.extentRef(t,e.field)}));return v(t.add(K({extents:r})))}function ke(e,n,r){return t.isArray(e)?e.map((function(e){return ke(e,n,r)})):t.isObject(e)?e.signal?r.signalRef(e.signal):"fit"===n?e:t.error("Unsupported parameter object: "+t.stringValue(e)):e}const Ce="top",Se="left",Ae="value",Oe=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],Me={name:1,style:1,interactive:1},De={value:0},Pe={value:1};var Te=t.toSet(["rule"]),Fe=t.toSet(["group","image","rect"]);function Ne(e,n,r,i){var o=p(e,n);return o.$fields.forEach((function(e){i[e]=1})),t.extend(r,o.$params),o.$expr}function je(e,n,r,i){return function e(n,r,i,o){var a,u,s;if(n.signal)a="datum",s=Ne(n.signal,r,i,o);else if(n.group||n.parent){for(u=Math.max(1,n.level||1),a="item";u-- >0;)a+=".mark.group";n.parent?(s=n.parent,a+=".datum"):s=n.group}else n.datum?(a="datum",s=n.datum):t.error("Invalid field reference: "+t.stringValue(n));return n.signal||(t.isString(s)?(o[s]=1,s=t.splitAccessPath(s).map(t.stringValue).join("][")):s=e(s,r,i,o)),a+"["+s+"]"}(t.isObject(e)?e:{datum:e},n,r,i)}function Re(e,n,r,i){return t.isObject(e)?"("+ze(0,e,n,r,i)+")":e}function Be(e,n,r,i,o){var a,u,s,l=Le(e.scale,r,i,o);return null!=e.range?(u=l+".range()",n=0==(a=+e.range)?u+"[0]":"($="+u+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==n&&(n=l+"("+n+")"),e.band&&(s=function(e,n){if(!t.isString(e))return-1;var r=n.scaleType(e);return"band"===r||"point"===r?1:0}(e.scale,r))&&(u=l+".bandwidth",a=e.band.signal?u+"()*"+Re(e.band,r,i,o):u+"()"+(1==(a=+e.band)?"":"*"+a),s<0&&(a="("+u+"?"+a+":0)"),n=(n?n+"+":"")+a,e.extra&&(n="(datum.extra?"+l+"(datum.extra.value):"+n+")")),null==n&&(n="0")),n}function Le(e,n,i,o){var a;if(t.isString(e))a=r.ScalePrefix+e,t.hasOwnProperty(i,a)||(i[a]=n.scaleRef(e)),a=t.stringValue(a);else{for(a in n.scales)i[r.ScalePrefix+a]=n.scaleRef(a);a=t.stringValue(r.ScalePrefix)+"+"+(e.signal?"("+Ne(e.signal,n,i,o)+")":je(e,n,i,o))}return"_["+a+"]"}function ze(e,n,r,i,o){if(null!=n.gradient)return function(e,n,r,i){return"this.gradient("+Le(e.gradient,n,r,i)+","+t.stringValue(e.start)+","+t.stringValue(e.stop)+","+t.stringValue(e.count)+")"}(n,r,i,o);var a=n.signal?Ne(n.signal,r,i,o):n.color?function(e,t,n,r){function i(e,i,o,a){return"this."+e+"("+[ze(0,i,t,n,r),ze(0,o,t,n,r),ze(0,a,t,n,r)].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null}(n.color,r,i,o):null!=n.field?je(n.field,r,i,o):void 0!==n.value?t.stringValue(n.value):void 0;return null!=n.scale&&(a=Be(n,a,r,i,o)),void 0===a&&(a=null),null!=n.exponent&&(a="Math.pow("+a+","+Re(n.exponent,r,i,o)+")"),null!=n.mult&&(a+="*"+Re(n.mult,r,i,o)),null!=n.offset&&(a+="+"+Re(n.offset,r,i,o)),n.round&&(a="Math.round("+a+")"),a}function Ie(e,n,r){const i=e+"["+t.stringValue(n)+"]";return`$=${r};if(${i}!==$)${i}=$,m=1;`}function $e(e,n,r,i,o){var a="";return n.forEach((function(e){var t=ze(0,e,r,i,o);a+=e.test?Ne(e.test,r,i,o)+"?"+t+":":t})),":"===t.peek(a)&&(a+="null"),Ie("o",e,a)}function Ue(e,n,r,i){var o,a,u={},s="var o=item,datum=o.datum,m=0,$;";for(o in e)a=e[o],t.isArray(a)?s+=$e(o,a,i,r,u):s+=Ie("o",o,ze(0,a,i,r,u));return s+=function(e,t){var n="";return Te[t]||(e.x2&&(e.x?(Fe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Fe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(e,n),{$expr:s+="return m;",$fields:Object.keys(u),$output:Object.keys(e)}}function qe(e){return t.isObject(e)&&!t.isArray(e)?t.extend({},e):{value:e}}function We(e,n,r,i){return null!=r?(t.isObject(r)&&!t.isArray(r)?e.update[n]=r:e[i||"enter"][n]={value:r},1):0}function He(e,t,n){for(let n in t)We(e,n,t[n]);for(let t in n)We(e,t,n[t],"update")}function Ve(e,n,r){for(var i in n)r&&t.hasOwnProperty(r,i)||(e[i]=t.extend(e[i]||{},n[i]));return e}function Ge(e,n,r,i,o,a){var u,s;for(s in(a=a||{}).encoders={$encode:u={}},e=function(e,n,r,i,o){var a,u,s,l={},c={};for(u in u="lineBreak","text"!==n||null==o[u]||Xe(u,e)||Ye(l,u,o[u]),("legend"==r||String(r).startsWith("axis"))&&(r=null),s="frame"===r?o.group:"mark"===r?t.extend({},o.mark,o[n]):null)Xe(u,e)||("fill"===u||"stroke"===u)&&(Xe("fill",e)||Xe("stroke",e))||Ye(l,u,s[u]);for(u in t.array(i).forEach((function(t){var n=o.style&&o.style[t];for(var r in n)Xe(r,e)||Ye(l,r,n[r])})),e=t.extend({},e),l)(s=l[u]).signal?(a=a||{})[u]=s:c[u]=s;return e.enter=t.extend(c,e.enter),a&&(e.update=t.extend(a,e.update)),e}(e,n,r,i,o.config))u[s]=Ue(e[s],n,a,o);return a}function Ye(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}function Xe(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function Ke(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Ve(e.encode,t,Me)):e.interactive=!1,e}function Qe(e,t){const n=(n,r)=>k(e[n],k(t[n],r));return n.isVertical=n=>"vertical"===k(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>k(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>k(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>k(e.columns,k(t.columns,+n.isVertical(!0))),n}function Je(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Ze(e,t,n){return`item.anchor === "start" ? ${e} : item.anchor === "end" ? ${t} : ${n}`}const et=Ze(t.stringValue(Se),t.stringValue("right"),t.stringValue("center"));function tt(e,n){return n?e?t.isObject(e)?{...e,offset:tt(e.offset,n)}:{value:e,offset:n}:n:e}function nt(e,n,r,i){var o,a,u,s,l,c,f=Qe(e,r),d=f.isVertical(),p=f.gradientThickness(),h=f.gradientLength();return d?(u=[0,1],s=[0,0],l=p,c=h):(u=[0,0],s=[1,0],l=h,c=p),He(o={enter:a={opacity:De,x:De,y:De,width:qe(l),height:qe(c)},update:t.extend({},a,{opacity:Pe,fill:{gradient:n,start:u,stop:s}}),exit:{opacity:De}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),Ke({type:"rect",role:"legend-gradient",encode:o},i)}function rt(e,n,r,i,o){var a,u,s,l,c,f,d=Qe(e,r),p=d.isVertical(),h=d.gradientThickness(),m=d.gradientLength(),g="";return p?(s="y",c="y2",l="x",f="width",g="1-"):(s="x",c="x2",l="y",f="height"),(u={opacity:De,fill:{scale:n,field:Ae}})[s]={signal:g+"datum.perc",mult:m},u[l]=De,u[c]={signal:g+"datum.perc2",mult:m},u[f]=qe(h),He(a={enter:u,update:t.extend({},u,{opacity:Pe}),exit:{opacity:De}},{stroke:d("gradientStrokeColor"),strokeWidth:d("gradientStrokeWidth")},{opacity:d("gradientOpacity")}),Ke({type:"rect",role:"legend-band",key:Ae,from:o,encode:a},i)}function it(e,t,n,r){var i,o,a,u,s,l=Qe(e,t),c=l.isVertical(),f=qe(l.gradientThickness()),d=l.gradientLength(),p=l("labelOverlap"),h="";return He(i={enter:o={opacity:De},update:a={opacity:Pe,text:{field:"label"}},exit:{opacity:De}},{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:k(e.labelLimit,t.gradientLabelLimit)}),c?(o.align={value:"left"},o.baseline=a.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},u="y",s="x",h="1-"):(o.align=a.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},o.baseline={value:"top"},u="x",s="y"),o[u]=a[u]={signal:h+"datum.perc",mult:d},o[s]=a[s]=f,f.offset=k(e.labelOffset,t.gradientLabelOffset)||0,p=p?{separation:l("labelSeparation"),method:p,order:"datum.index"}:void 0,Ke({type:"text",role:"legend-label",style:"guide-label",key:Ae,from:r,encode:i,overlap:p},n)}function ot(e){return e.type="group",e.interactive=e.interactive||!1,e}function at(e,t,n,r,i){var o,a,u,s,l,c,f,d=Qe(e,t),p=n.entries,h=!(!p||!p.interactive),m=p?p.name:void 0,g=d("clipHeight"),v=d("symbolOffset"),y={data:"value"},b={},x=`(${i}) ? datum.offset : datum.size`,w=g?qe(g):{field:"size"},_="datum.index",E=`max(1, ${i})`;w.mult=.5,b={enter:o={opacity:De,x:{signal:x,mult:.5,offset:v},y:w},update:a={opacity:Pe,x:o.x,y:o.y},exit:{opacity:De}};var k=null,C=null;return e.fill||(k=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),He(b,{fill:d("symbolFillColor",k),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor",C),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),Oe.forEach((function(t){e[t]&&(a[t]=o[t]={scale:e[t],field:Ae})})),s=Ke({type:"symbol",role:"legend-symbol",key:Ae,from:y,clip:!!g||void 0,encode:b},n.symbols),(u=qe(v)).offset=d("labelOffset"),He(b={enter:o={opacity:De,x:{signal:x,offset:u},y:w},update:a={opacity:Pe,text:{field:"label"},x:o.x,y:o.y},exit:{opacity:De}},{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")}),l=Ke({type:"text",role:"legend-label",style:"guide-label",key:Ae,from:y,encode:b},n.labels),b={enter:{noBound:{value:!g},width:De,height:g?qe(g):De,opacity:De},exit:{opacity:De},update:a={opacity:Pe,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(c=`ceil(item.mark.items.length / ${E})`,a.row.signal=`${_}%${c}`,a.column.signal=`floor(${_} / ${c})`,f={field:["row",_]}):(a.row.signal=`floor(${_} / ${E})`,a.column.signal=`${_} % ${E}`,f={field:_}),a.column.signal=`(${i})?${a.column.signal}:${_}`,ot({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:Ve(b,p,Me),marks:[s,l],name:m,interactive:h,sort:f})}const ut='item.orient === "left"',st='item.orient === "right"',lt=`(${ut} || ${st})`,ct="datum.vgrad && "+lt,ft=Ze('"top"','"bottom"','"middle"'),dt=Ze('"right"','"left"','"center"'),pt=`datum.vgrad && ${st} ? (${dt}) : (${lt} && !(datum.vgrad && ${ut})) ? "left" : ${et}`,ht=`item._anchor || (${lt} ? "middle" : "start")`,mt=`${ct} ? (${ut} ? -90 : 90) : 0`,gt=`${lt} ? (datum.vgrad ? (${st} ? "bottom" : "top") : ${ft}) : "top"`;function vt(e,n){var r;return t.isObject(e)&&(e.signal?r=e.signal:e.path?r="pathShape("+yt(e.path)+")":e.sphere&&(r="geoShape("+yt(e.sphere)+', {type: "Sphere"})')),r?n.signalRef(r):!!e}function yt(e){return t.isObject(e)&&e.signal?e.signal:t.stringValue(e)}function bt(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t}function xt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||bt(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function wt(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function _t(e,n){var r=a.definition(e.type);r||t.error("Unrecognized transform type: "+t.stringValue(e.type));var i=m(r.type.toLowerCase(),null,Et(r,e,n));return e.signal&&n.addSignal(e.signal,n.proxy(i)),i.metadata=r.metadata||{},i}function Et(e,t,n){var r,i,o,a={};for(i=0,o=e.params.length;i<o;++i)a[(r=e.params[i]).name]=kt(r,t,n);return a}function kt(e,n,r){var i=e.type,o=n[e.name];return"index"===i?function(e,n,r){return t.isString(n.from)||t.error('Lookup "from" parameter must be a string literal.'),r.getData(n.from).lookupRef(r,n.key)}(0,n,r):void 0!==o?"param"===i?function(e,n,r){var i=n[e.name];return e.array?(t.isArray(i)||t.error("Expected an array of sub-parameters. Instead: "+t.stringValue(i)),i.map((function(t){return St(e,t,r)}))):St(e,i,r)}(e,n,r):"projection"===i?r.projectionRef(n[e.name]):e.array&&!_(o)?o.map((function(t){return Ct(e,t,r)})):Ct(e,o,r):void(e.required&&t.error("Missing required "+t.stringValue(n.type)+" parameter: "+t.stringValue(e.name)))}function Ct(e,n,r){var i=e.type;if(_(n))return At(i)?t.error("Expression references can not be signals."):Ot(i)?r.fieldRef(n):Mt(i)?r.compareRef(n):r.signalRef(n.signal);var o,a=e.expr||Ot(i);return a&&(o=n)&&o.expr?r.exprRef(n.expr,n.as):a&&function(e){return e&&e.field}(n)?y(n.field,n.as):At(i)?p(n,r):function(e){return"data"===e}(i)?v(r.getData(n).values):Ot(i)?y(n):Mt(i)?r.compareRef(n):n}function St(e,n,r){var i,o,a,u,s;for(u=0,s=e.params.length;u<s;++u){for(a in(o=e.params[u]).key)if(o.key[a]!==n[a]){o=null;break}if(o)break}return o||t.error("Unsupported parameter: "+t.stringValue(n)),i=t.extend(Et(o,n,r),o.key),v(r.add(Z(i)))}function At(e){return"expr"===e}function Ot(e){return"field"===e}function Mt(e){return"compare"===e}function Dt(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:v(t.getData(e.data).output)}function Pt(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Pt.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],o=t[n-1],a=t[n-2],u=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=v(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(u=t[r]);return new Pt(e,i,a,o,u)};var Tt=Pt.prototype;function Ft(e){return t.isString(e)?e:null}function Nt(e,t,n){var r,i=w(n.op,n.field);if(t.ops){for(var o=0,a=t.as.length;o<a;++o)if(t.as[o]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function jt(e,n,r,i,o,a,u){var s,l,c=n[r]||(n[r]={}),f=function(e){return t.isObject(e)?("descending"===e.order?"-":"+")+w(e.op,e.field):""}(a),d=Ft(o);if(null!=d&&(e=n.scope,s=c[d+=f?"|"+f:""]),!s){var p=a?{field:b,pulse:n.countsRef(e,o,a)}:{field:e.fieldRef(o),pulse:v(n.output)};f&&(p.sort=e.sortRef(a)),l=e.add(m(i,void 0,p)),u&&(n.index[o]=l),s=v(l),null!=d&&(c[d]=s)}return s}function Rt(e,t,n){var r,i=e.remove,o=e.insert,a=e.toggle,u=e.modify,s=e.values,l=t.add(g());r=p("if("+e.trigger+',modify("'+n+'",'+[o,i,a,u,s].map((function(e){return null==e?"null":e})).join(",")+"),0)",t),l.update=r.$expr,l.params=r.$params}function Bt(e,n){var r,i,o,a,u,s,l,c,f,d,p,h,m,g,b=bt(e),x="group"===e.type,w=e.from&&e.from.facet,E=e.layout||"scope"===b||"frame"===b,k="mark"===b||E||w,C=e.overlap;o=function(e,n,r){var i,o,a,u,s;return e?(i=e.facet)&&(n||t.error("Only group marks can be faceted."),null!=i.field?u=s=Dt(i,r):(e.data?s=v(r.getData(e.data).aggregate):((a=_t(t.extend({type:"aggregate",groupby:t.array(i.groupby)},i.aggregate),r)).params.key=r.keyRef(i.groupby),a.params.pulse=Dt(i,r),u=s=v(r.add(a))),o=r.keyRef(i.groupby,!0))):u=v(r.add(z(null,[{}]))),u||(u=Dt(e,r)),{key:o,pulse:u,parent:s}}(e.from,x,n),d=v(i=n.add($({key:o.key||(e.key?y(e.key):void 0),pulse:o.pulse,clean:!x}))),i=a=n.add(z({pulse:d})),i=n.add(X({markdef:xt(e),interactive:wt(e.interactive,n),clip:vt(e.clip,n),context:{$context:!0},groups:n.lookup(),parent:n.signals.parent?n.signalRef("parent"):null,index:n.markpath(),pulse:v(i)})),p=v(i),(i=u=n.add(U(Ge(e.encode,e.type,b,e.style,n,{mod:!1,pulse:p})))).params.parent=n.encode(),e.transform&&e.transform.forEach((function(e){const r=_t(e,n),o=r.metadata;(o.generates||o.changes)&&t.error("Mark transforms should not generate new data."),o.nomod||(u.params.mod=!0),r.params.pulse=v(i),n.add(i=r)})),e.sort&&(i=n.add(ue({sort:n.compareRef(e.sort),pulse:v(i)}))),h=v(i),(w||E)&&(m=v(E=n.add(se({layout:n.objectProperty(e.layout),legends:n.legends,mark:p,pulse:h})))),g=v(s=n.add(L({mark:p,pulse:m||h}))),x&&(k&&((r=n.operators).pop(),E&&r.pop()),n.pushState(h,m||g,d),w?function(e,n,r){var i,o,a,u,s=e.from.facet,l=s.name,c=Dt(s,n);s.name||t.error("Facet must have a name: "+t.stringValue(s)),s.data||t.error("Facet must reference a data set: "+t.stringValue(s)),s.field?u=n.add(ee({field:n.fieldRef(s.field),pulse:c})):s.groupby?u=n.add(W({key:n.keyRef(s.groupby),group:v(n.proxy(r.parent)),pulse:c})):t.error("Facet must specify groupby or field: "+t.stringValue(s)),o=(i=n.fork()).add(z()),a=i.add(ae({pulse:v(o)})),i.addData(l,new Pt(i,o,o,a)),i.addSignal("parent",null),u.params.subflow={$subflow:Xt(e,i).toRuntime()}}(e,n,o):k?function(e,t,n){var r=t.add(ee({pulse:n.pulse})),i=t.fork();i.add(ae()),i.addSignal("parent",null),r.params.subflow={$subflow:Xt(e,i).toRuntime()}}(e,n,o):Xt(e,n),n.popState(),k&&(E&&r.push(E),r.push(s))),C&&(g=function(e,t,n){var r,i=e.method,o=e.bound,a=e.separation,u={separation:_(a)?n.signalRef(a.signal):a,method:_(i)?n.signalRef(i.signal):i,pulse:t};return e.order&&(u.sort=n.compareRef({field:e.order})),o&&(r=o.tolerance,u.boundTolerance=_(r)?n.signalRef(r.signal):+r,u.boundScale=n.scaleRef(o.scale),u.boundOrient=o.orient),v(n.add(J(u)))}(C,g,n)),l=n.add(ie({pulse:g})),c=n.add(ae({pulse:v(l)},void 0,n.parent())),null!=e.name&&(f=e.name,n.addData(f,new Pt(n,a,l,c)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&t.error("Marks only support modify triggers."),Rt(e,n,f)})))}function Lt(e,n){var r,i,a,u,s,l,c,f,d=n.config.legend,h=e.encode||{},m=h.legend||{},g=m.name||void 0,y=m.interactive,b=m.style,x=Qe(e,d),w={},_=0;return Oe.forEach(t=>e[t]?(w[t]=e[t],_=_||e[t]):0),_||t.error("Missing valid scale for legend."),s=function(e,t){var n=e.type||"symbol";return e.type||1!==function(e){return Oe.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=o.isContinuous(t)?"gradient":o.isDiscretizing(t)?"discrete":"symbol"),"gradient"!==n?n:o.isDiscretizing(t)?"discrete":"gradient"}(e,n.scaleType(_)),l={title:null!=e.title,scales:w,type:s,vgrad:"symbol"!==s&&x.isVertical()},c=v(n.add(z(null,[l]))),m=Ve(function(e,t,n){var r={enter:{},update:{}};return He(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}(x,e,d),m,Me),r={enter:{x:{value:0},y:{value:0}}},f=v(n.add(G(a={type:s,scale:n.scaleRef(_),count:n.objectProperty(x("tickCount")),limit:n.property(x("symbolLimit")),values:n.objectProperty(e.values),minstep:n.property(e.tickMinStep),formatType:n.property(e.formatType),formatSpecifier:n.property(e.format)}))),"gradient"===s?(u=[nt(e,_,d,h.gradient),it(e,d,h.labels,f)],a.count=a.count||n.signalRef(`max(2,2*floor((${C(x.gradientLength())})/100))`)):"discrete"===s?u=[rt(e,_,d,h.gradient,f),it(e,d,h.labels,f)]:(i=function(e,t){const n=Qe(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,d),u=[at(e,d,h,f,C(i.columns))],a.size=function(e,t,n){var r=C(zt("size",e,n)),i=C(zt("strokeWidth",e,n)),o=C(function(e,t,n){return Je("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,"guide-label"));return p(`max(ceil(sqrt(${r})+${i}),${o})`,t)}(e,n,u[0].marks)),u=[ot({role:"legend-entry",from:c,encode:r,marks:u,layout:i,interactive:y})],l.title&&u.push(function(e,t,n,r){var i,o=Qe(e,t);return He(i={enter:{opacity:De},update:{opacity:Pe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:De}},{orient:o("titleOrient"),_anchor:o("titleAnchor"),anchor:{signal:ht},angle:{signal:mt},align:{signal:pt},baseline:{signal:gt},text:e.title,fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit"),lineHeight:o("titleLineHeight")},{align:o("titleAlign"),baseline:o("titleBaseline")}),Ke({type:"text",role:"legend-title",style:"guide-title",from:r,encode:i},n)}(e,d,h.title,c)),Bt(ot({role:"legend",from:c,encode:m,marks:u,aria:x("aria"),description:x("description"),zindex:x("zindex"),name:g,interactive:y,style:b}),n)}function zt(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Je(e,n[0].encode)}function It(e,n){var r,i,o=Qe(e=t.isString(e)?{text:e}:e,n.config.title),a=e.encode||{},u=a.group||{},s=u.name||void 0,l=u.interactive,c=u.style,f=[];return r={},i=v(n.add(z(null,[r]))),f.push(function(e,t,n,r){var i={value:0},o=e.text,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return He(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ke({type:"text",role:"title-text",style:"group-title",from:r,encode:a},n)}(e,o,function(e){const n=e.encode;return n&&n.title||t.extend({name:e.name,interactive:e.interactive,style:e.style},n)}(e),i)),e.subtitle&&f.push(function(e,t,n,r){var i={value:0},o=e.subtitle,a={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return He(a,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ke({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:a},n)}(e,o,a.subtitle,i)),Bt(ot({role:"title",from:i,encode:$t(o,u),marks:f,aria:o("aria"),description:o("description"),zindex:o("zindex"),name:s,interactive:l,style:c}),n)}function $t(e,t){var n={enter:{},update:{}};return He(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:et},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Ve(n,t,Me)}function Ut(e,n){var r=[];e.transform&&e.transform.forEach((function(e){r.push(_t(e,n))})),e.on&&e.on.forEach((function(t){Rt(t,n,e.name)})),n.addDataPipeline(e.name,function(e,n,r){var i,o,a,u,s,l=[],c=null,f=!1,d=!1;for(e.values?E(e.values)||E(e.format)?(l.push(Wt(n,e)),l.push(c=qt())):l.push(c=qt({$ingest:e.values,$format:e.format})):e.url?E(e.url)||E(e.format)?(l.push(Wt(n,e)),l.push(c=qt())):l.push(c=qt({$request:e.url,$format:e.format})):e.source&&(c=i=t.array(e.source).map((function(e){return v(n.getData(e).output)})),l.push(null)),o=0,a=r.length;o<a;++o)u=r[o],s=u.metadata,c||s.source||l.push(c=qt()),l.push(u),s.generates&&(d=!0),s.modifies&&!d&&(f=!0),s.source?c=u:s.changes&&(c=null);return i&&(a=i.length-1,l[0]=re({derive:f,pulse:a?i:i[0]}),(f||a)&&l.splice(1,0,qt())),c||l.push(qt()),l.push(ae({})),l}(e,n,r))}function qt(e){var t=z({},e);return t.metadata={source:!0},t}function Wt(e,t){return Y({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}function Ht(e,t){return{scale:e.scale,range:t}}function Vt(e,n,r,i,o){var a,u,s,l,c,f,d,p,h,m=Qe(e,n),g=e.orient,v=e.gridScale,y=g===Se||g===Ce?1:-1,b=function(e,n){if(1===n);else if(t.isObject(e)){for(var r=e=t.extend({},e);null!=r.mult;){if(!t.isObject(r.mult))return r.mult*=n,e;r=r.mult=t.extend({},r.mult)}r.mult=n}else e=n*(e||0);return e}(e.offset,y);return He(a={enter:u={opacity:De},update:l={opacity:Pe},exit:s={opacity:De}},{stroke:m("gridColor"),strokeCap:m("gridCap"),strokeDash:m("gridDash"),strokeDashOffset:m("gridDashOffset"),strokeOpacity:m("gridOpacity"),strokeWidth:m("gridWidth")}),c={scale:e.scale,field:Ae,band:o.band,extra:o.extra,offset:o.offset,round:m("tickRound")},g===Ce||"bottom"===g?(f="x",d="y",h="height"):(f="y",d="x",h="width"),p=d+"2",l[f]=u[f]=s[f]=c,v?(l[d]=u[d]={scale:v,range:0,mult:y,offset:b},l[p]=u[p]={scale:v,range:1,mult:y,offset:b}):(l[d]=u[d]={value:0,offset:b},l[p]=u[p]={signal:h,mult:y,offset:b}),Ke({type:"rule",role:"axis-grid",key:Ae,from:i,encode:a},r)}function Gt(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Yt(e,n){var r,i,o,a,u,s=function(e,n){var r=n.config,i=e.orient,o=i===Ce||"bottom"===i?r.axisX:r.axisY,a=r["axis"+i[0].toUpperCase()+i.slice(1)],u="band"===n.scaleType(e.scale)&&r.axisBand;return o||a||u?t.extend({},r.axis,o,a,u):r.axis}(e,n),l=e.encode||{},c=l.axis||{},f=c.name||void 0,d=c.interactive,p=c.style,h=Qe(e,s),m=function(e){let n,r,i=e("tickBand"),o=e("tickOffset");return i?i.signal?(n={signal:`(${i.signal})==='extent'?1:0.5`},r={signal:`(${i.signal})==='extent'?true:false`},t.isObject(o)||(o={signal:`(${i.signal})==='extent'?0:${o}`})):"extent"===i?(n=1,r=!0,o=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:o}}(h);return r={orient:e.orient,scale:e.scale,ticks:!!h("ticks"),labels:!!h("labels"),grid:!!h("grid"),domain:!!h("domain"),title:null!=e.title,translate:h("translate")},i=v(n.add(z({},[r]))),c=Ve(function(e,t){var n={enter:{},update:{}};return He(n,{offset:e("offset")||0,position:k(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},format:t.format,formatType:t.formatType}),n}(h,e),c,Me),o=v(n.add(B({scale:n.scaleRef(e.scale),extra:n.property(m.extra),count:n.objectProperty(e.tickCount),values:n.objectProperty(e.values),minstep:n.property(e.tickMinStep),formatType:n.property(e.formatType),formatSpecifier:n.property(e.format)}))),u=[],r.grid&&u.push(Vt(e,s,l.grid,o,m)),r.ticks&&(a=h("tickSize"),u.push(function(e,t,n,r,i,o){var a,u,s,l,c,f,d=Qe(e,t),p=e.orient,h=p===Se||p===Ce?-1:1;return He(a={enter:u={opacity:De},update:l={opacity:Pe},exit:s={opacity:De}},{stroke:d("tickColor"),strokeCap:d("tickCap"),strokeDash:d("tickDash"),strokeDashOffset:d("tickDashOffset"),strokeOpacity:d("tickOpacity"),strokeWidth:d("tickWidth")}),(c=qe(i)).mult=h,f={scale:e.scale,field:Ae,band:o.band,extra:o.extra,offset:o.offset,round:d("tickRound")},p===Ce||"bottom"===p?(l.y=u.y=De,l.y2=u.y2=c,l.x=u.x=s.x=f):(l.x=u.x=De,l.x2=u.x2=c,l.y=u.y=s.y=f),Ke({type:"rule",role:"axis-tick",key:Ae,from:r,encode:a},n)}(e,s,l.ticks,o,a,m))),r.labels&&(a=r.ticks?a:0,u.push(function(e,t,n,r,i,o){var a,u,s,l,c,f,d,p,h,m=Qe(e,t),g=e.orient,v=g===Se||g===Ce?-1:1,y=g===Ce||"bottom"===g,b=e.scale,x=C(m("labelFlush")),w=C(m("labelFlushOffset")),_=0===x||!!x,E=m("labelAlign"),k=m("labelBaseline");return(s=qe(i)).mult=v,s.offset=qe(m("labelPadding")||0),s.offset.mult=v,l={scale:b,field:Ae,band:.5,offset:tt(o.offset,m("labelOffset"))},y?(c=E||(_?Gt(b,x,'"left"','"right"','"center"'):"center"),f=k||(g===Ce?"bottom":"top"),d=!E):(c=E||("right"===g?"left":"right"),f=k||(_?Gt(b,x,'"top"','"bottom"','"middle"'):"middle"),d=!k),d=d&&_&&w?Gt(b,x,"-("+w+")",w,0):null,He(a={enter:u={opacity:De,x:y?l:s,y:y?s:l},update:{opacity:Pe,text:{field:"label"},x:u.x,y:u.y},exit:{opacity:De,x:u.x,y:u.y}},{[y?"dx":"dy"]:d,align:c,baseline:f,angle:m("labelAngle"),fill:m("labelColor"),fillOpacity:m("labelOpacity"),font:m("labelFont"),fontSize:m("labelFontSize"),fontWeight:m("labelFontWeight"),fontStyle:m("labelFontStyle"),limit:m("labelLimit"),lineHeight:m("labelLineHeight")}),p=m("labelBound"),h=(h=m("labelOverlap"))||p?{separation:m("labelSeparation"),method:h,order:"datum.index",bound:p?{scale:b,orient:g,tolerance:p}:null}:void 0,Ke({type:"text",role:"axis-label",style:"guide-label",key:Ae,from:r,encode:a,overlap:h},n)}(e,s,l.labels,o,a,m))),r.domain&&u.push(function(e,t,n,r){var i,o,a,u,s,l,c=Qe(e,t),f=e.orient;return He(i={enter:o={opacity:De},update:a={opacity:Pe},exit:{opacity:De}},{stroke:c("domainColor"),strokeCap:c("domainCap"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),f===Ce||"bottom"===f?(u="x",l="y"):(u="y",l="x"),s=u+"2",o[l]=De,a[u]=o[u]=Ht(e,0),a[s]=o[s]=Ht(e,1),Ke({type:"rule",role:"axis-domain",from:r,encode:i},n)}(e,s,l.domain,i)),r.title&&u.push(function(e,n,r,i){var o,a,u,s,l=Qe(e,n),c=e.orient,f=c===Se||c===Ce?-1:1,d=c===Ce||"bottom"===c;return o={enter:a={opacity:De,anchor:qe(l("titleAnchor")),align:{signal:et}},update:u=t.extend({},a,{opacity:Pe,text:qe(e.title)}),exit:{opacity:De}},s={signal:`lerp(range("${e.scale}"), ${Ze(0,1,.5)})`},d?(u.x=s,a.angle={value:0},a.baseline={value:c===Ce?"bottom":"top"}):(u.y=s,a.angle={value:90*f},a.baseline={value:"bottom"}),He(o,{angle:l("titleAngle"),baseline:l("titleBaseline"),fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign")}),!We(o,"x",l("titleX"),"update")&&!d&&!Xe("x",r)&&(o.enter.auto={value:!0}),!We(o,"y",l("titleY"),"update")&&d&&!Xe("y",r)&&(o.enter.auto={value:!0}),Ke({type:"text",role:"axis-title",style:"guide-title",from:i,encode:o},r)}(e,s,l.title,i)),Bt(ot({role:"axis",from:i,encode:c,marks:u,aria:h("aria"),description:h("description"),zindex:h("zindex"),name:f,interactive:d,style:p}),n)}function Xt(e,n,r){var i=t.array(e.signals),a=t.array(e.scales);return r||i.forEach(e=>d(e,n)),t.array(e.projections).forEach(e=>function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=ke(e[i],i,t));for(i in n)null==r[i]&&(r[i]=ke(n[i],i,t));t.addProjection(e.name,r)}(e,n)),a.forEach(e=>function(e,n){var r=e.type||"linear";o.isValidScaleType(r)||t.error("Unrecognized scale type: "+t.stringValue(r)),n.addScale(e.name,{type:r,domain:void 0})}(e,n)),t.array(e.data).forEach(e=>Ut(e,n)),a.forEach(e=>de(e,n)),(r||i).forEach(e=>N(e,n)),t.array(e.axes).forEach(e=>Yt(e,n)),t.array(e.marks).forEach(e=>Bt(e,n)),t.array(e.legends).forEach(e=>Lt(e,n)),e.title&&It(e.title,n),n.parseLambdas(),n}function Kt(e,n){var r,i,o,a,s,c,f=n.config;return s=v(n.root=n.add(g())),(c=function(e,n){const r=t=>k(e[t],n[t]),i=[Qt("background",r("background")),Qt("autosize",u(r("autosize"))),Qt("padding",l(r("padding"))),Qt("width",r("width")||0),Qt("height",r("height")||0)],o=i.reduce((e,t)=>(e[t.name]=t,e),{}),a={};return t.array(e.signals).forEach(e=>{t.hasOwnProperty(o,e.name)?e=t.extend(o[e.name],e):i.push(e),a[e.name]=e}),t.array(n.signals).forEach(e=>{t.hasOwnProperty(a,e.name)||t.hasOwnProperty(o,e.name)||i.push(e)}),i}(e,f)).forEach(e=>d(e,n)),n.description=e.description||f.description,n.eventConfig=f.events,n.legends=n.objectProperty(f.legend&&f.legend.layout),i=n.add(z()),o=Ve({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),o=n.add(U(Ge(o,"group","frame",e.style,n,{pulse:v(i)}))),a=n.add(se({layout:n.objectProperty(e.layout),legends:n.legends,autosize:n.signalRef("autosize"),mark:s,pulse:v(o)})),n.operators.pop(),n.pushState(v(o),v(a),null),Xt(e,n,c),n.operators.push(a),r=n.add(L({mark:s,pulse:v(a)})),r=n.add(ie({pulse:v(r)})),r=n.add(ae({pulse:v(r)})),n.addData("root",new Pt(n,i,i,r)),n}function Qt(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Jt(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Zt(e){this.config=e.config,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}Tt.countsRef=function(e,t,n){var r,i,o,a=this.counts||(this.counts={}),u=Ft(t);return null!=u&&(e=this.scope,r=a[u]),r?n&&n.field&&Nt(e,r.agg.params,n):(o={groupby:e.fieldRef(t,"key"),pulse:v(this.output)},n&&n.field&&Nt(e,o,n),i=e.add(R(o)),r=e.add(z({pulse:v(i)})),r={agg:i,ref:v(r)},null!=u&&(a[u]=r)),r.ref},Tt.tuplesRef=function(){return v(this.values)},Tt.extentRef=function(e,t){return jt(e,this,"extent","extent",t,!1)},Tt.domainRef=function(e,t){return jt(e,this,"domain","values",t,!1)},Tt.valuesRef=function(e,t,n){return jt(e,this,"vals","values",t,n||!0)},Tt.lookupRef=function(e,t){return jt(e,this,"lookup","tupleindex",t,!1)},Tt.indataRef=function(e,t){return jt(e,this,"indata","tupleindex",t,!0,!0)};var en=Jt.prototype=Zt.prototype;function tn(e){return(t.isArray(e)?nn:rn)(e)}function nn(e){for(var n,r="[",i=0,o=e.length;i<o;++i)n=e[i],r+=(i>0?",":"")+(t.isObject(n)?n.signal||tn(n):t.stringValue(n));return r+"]"}function rn(e){var n,r,i="{",o=0;for(n in e)r=e[n],i+=(++o>1?",":"")+t.stringValue(n)+":"+(t.isObject(r)?r.signal||tn(r):t.stringValue(r));return i+"}"}function on(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}en.fork=function(){return new Zt(this)},en.isSubscope=function(){return this._subid>0},en.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},en.id=function(){return(this._subid?this._subid+":":0)+this._id++},en.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},en.proxy=function(e){var t=e instanceof h?v(e):e;return this.add(ne({value:t}))},en.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},en.addUpdate=function(e){return this.updates.push(e),e},en.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},en.pushState=function(e,t,n){this._encode.push(v(this.add(ae({pulse:e})))),this._parent.push(t),this._lookup.push(n?v(this.proxy(n)):null),this._markpath.push(-1)},en.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},en.parent=function(){return t.peek(this._parent)},en.encode=function(){return t.peek(this._encode)},en.lookup=function(){return t.peek(this._lookup)},en.markpath=function(){var e=this._markpath;return++e[e.length-1]},en.fieldRef=function(e,n){if(t.isString(e))return y(e,n);e.signal||t.error("Unsupported field reference: "+t.stringValue(e));var r,i=e.signal,o=this.field[i];return o||(r={name:this.signalRef(i)},n&&(r.as=n),this.field[i]=o=v(this.add(H(r)))),o},en.compareRef=function(e){function n(e){return _(e)?(i=!0,r.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(i=!0,r.exprRef(e.expr)):e}var r=this,i=!1,o=t.array(e.field).map(n),a=t.array(e.order).map(n);return i?v(this.add(I({fields:o,orders:a}))):x(o,a)},en.keyRef=function(e,n){var r=this.signals,i=!1;return e=t.array(e).map((function(e){return _(e)?(i=!0,v(r[e.signal])):e})),i?v(this.add(V({fields:e,flat:n}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,n)},en.sortRef=function(e){if(!e)return e;var t=w(e.op,e.field),n=e.order||"ascending";return n.signal?v(this.add(I({fields:t,orders:this.signalRef(n.signal)}))):x(t,n)},en.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},en.hasOwnSignal=function(e){return t.hasOwnProperty(this.signals,e)},en.addSignal=function(e,n){this.hasOwnSignal(e)&&t.error("Duplicate signal name: "+t.stringValue(e));var r=n instanceof h?n:this.add(g(n));return this.signals[e]=r},en.getSignal=function(e){return this.signals[e]||t.error("Unrecognized signal name: "+t.stringValue(e)),this.signals[e]},en.signalRef=function(e){return this.signals[e]?v(this.signals[e]):(t.hasOwnProperty(this.lambdas,e)||(this.lambdas[e]=this.add(g(null))),v(this.lambdas[e]))},en.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=p(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},en.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},en.objectProperty=function(e){return e&&t.isObject(e)?this.signalRef(e.signal||tn(e)):e},en.exprRef=function(e,t){var n={expr:p(e,this)};return t&&(n.expr.$name=t),v(this.add(q(n)))},en.addBinding=function(e,n){this.bindings||t.error("Nested signals do not support binding: "+t.stringValue(e)),this.bindings.push(t.extend({signal:e},n))},en.addScaleProj=function(e,n){t.hasOwnProperty(this.scales,e)&&t.error("Duplicate scale or projection name: "+t.stringValue(e)),this.scales[e]=this.add(n)},en.addScale=function(e,t){this.addScaleProj(e,oe(t))},en.addProjection=function(e,t){this.addScaleProj(e,te(t))},en.getScale=function(e){return this.scales[e]||t.error("Unrecognized scale name: "+t.stringValue(e)),this.scales[e]},en.projectionRef=en.scaleRef=function(e){return v(this.getScale(e))},en.projectionType=en.scaleType=function(e){return this.getScale(e).params.type},en.addData=function(e,n){return t.hasOwnProperty(this.data,e)&&t.error("Duplicate data set name: "+t.stringValue(e)),this.data[e]=n},en.getData=function(e){return this.data[e]||t.error("Undefined data set name: "+t.stringValue(e)),this.data[e]},en.addDataPipeline=function(e,n){return t.hasOwnProperty(this.data,e)&&t.error("Duplicate data set name: "+t.stringValue(e)),this.addData(e,Pt.fromEntries(this,n))},e.AxisDomainRole="axis-domain",e.AxisGridRole="axis-grid",e.AxisLabelRole="axis-label",e.AxisRole="axis",e.AxisTickRole="axis-tick",e.AxisTitleRole="axis-title",e.DataScope=Pt,e.FrameRole="frame",e.LegendEntryRole="legend-entry",e.LegendLabelRole="legend-label",e.LegendRole="legend",e.LegendSymbolRole="legend-symbol",e.LegendTitleRole="legend-title",e.MarkRole="mark",e.Scope=Jt,e.ScopeRole="scope",e.config=on,e.parse=function(e,n){return t.isObject(e)||t.error("Input Vega specification must be an object."),Kt(e,new Jt(n=t.mergeConfig({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},n,e.config))).toRuntime()},e.signal=d,e.signalUpdates=N,e.stream=S,Object.defineProperty(e,"__esModule",{value:!0})}(t,Ix,Aw,Mw,Tw,ow,Vx)}));t(Fw);var Nw=n((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});Ix.extend(Vx.transforms,Kx,uw,sw,hw,bw,ww,_w,kw,Cw,Sw),Object.keys(Ix).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Ix[e]}})})),Object.keys(Yx).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Yx[e]}})})),Object.keys(Xx).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Xx[e]}})})),Object.keys(Hx).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return Hx[e]}})})),Object.keys(aw).forEach((function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return aw[e]}})})),Object.defineProperty(t,"Dataflow",{enumerable:!0,get:function(){return Vx.Dataflow}}),Object.defineProperty(t,"EventStream",{enumerable:!0,get:function(){return Vx.EventStream}}),Object.defineProperty(t,"MultiPulse",{enumerable:!0,get:function(){return Vx.MultiPulse}}),Object.defineProperty(t,"Operator",{enumerable:!0,get:function(){return Vx.Operator}}),Object.defineProperty(t,"Parameters",{enumerable:!0,get:function(){return Vx.Parameters}}),Object.defineProperty(t,"Pulse",{enumerable:!0,get:function(){return Vx.Pulse}}),Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return Vx.Transform}}),Object.defineProperty(t,"changeset",{enumerable:!0,get:function(){return Vx.changeset}}),Object.defineProperty(t,"definition",{enumerable:!0,get:function(){return Vx.definition}}),Object.defineProperty(t,"ingest",{enumerable:!0,get:function(){return Vx.ingest}}),Object.defineProperty(t,"isTuple",{enumerable:!0,get:function(){return Vx.isTuple}}),Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return Vx.transform}}),Object.defineProperty(t,"transforms",{enumerable:!0,get:function(){return Vx.transforms}}),Object.defineProperty(t,"tupleid",{enumerable:!0,get:function(){return Vx.tupleid}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return ow.interpolate}}),Object.defineProperty(t,"interpolateColors",{enumerable:!0,get:function(){return ow.interpolateColors}}),Object.defineProperty(t,"interpolateRange",{enumerable:!0,get:function(){return ow.interpolateRange}}),Object.defineProperty(t,"quantizeInterpolator",{enumerable:!0,get:function(){return ow.quantizeInterpolator}}),Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return ow.scale}}),Object.defineProperty(t,"scheme",{enumerable:!0,get:function(){return ow.scheme}}),Object.defineProperty(t,"projection",{enumerable:!0,get:function(){return pw.projection}}),Object.defineProperty(t,"View",{enumerable:!0,get:function(){return Pw.View}}),Object.defineProperty(t,"expressionFunction",{enumerable:!0,get:function(){return Mw.expressionFunction}}),Object.defineProperty(t,"formatLocale",{enumerable:!0,get:function(){return Mw.formatLocale}}),Object.defineProperty(t,"timeFormatLocale",{enumerable:!0,get:function(){return Mw.timeFormatLocale}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return Fw.parse}}),Object.defineProperty(t,"runtime",{enumerable:!0,get:function(){return Dw.parse}}),Object.defineProperty(t,"runtimeContext",{enumerable:!0,get:function(){return Dw.context}}),t.version="5.11.1"}));t(Nw);Nw.version;var jw=n((function(e,t){!function(e){var t="4.12.0";function n(e,t,n){return e.fields=t||[],e.fname=n,e}function r(e){throw Error(e)}function i(e){var t,n,i,o=[],a=null,u=0,s=e.length,l="";function c(){o.push(l+e.substring(t,n)),l="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(i=e[n]))l+=e.substring(t,n),l+=e.substring(++n,++n),t=n;else if(i===a)c(),a=null,u=-1;else{if(a)continue;t===u&&'"'===i||t===u&&"'"===i?(t=n+1,a=i):"."!==i||u?"["===i?(n>t&&c(),u=t=n+1):"]"===i&&(u||r("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&r("Access path missing closing bracket: "+e),a&&r("Access path missing closing quote: "+e),n>t&&(n++,c()),o}var o=Array.isArray;function a(e){return e===Object(e)}function u(e){return"string"==typeof e}function s(e){return o(e)?"["+e.map(s)+"]":a(e)||u(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var l=[],c=(function(e,t){var r=i(e),o="return _["+r.map(s).join("][")+"];";n(Function("_",o),[e=1===r.length?r[0]:e],t||e)}("id"),n((function(e){return e}),l,"identity"));function f(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}n((function(){return 0}),l,"zero"),n((function(){return 1}),l,"one"),n((function(){return!0}),l,"true"),n((function(){return!1}),l,"false");const d=e=>"__proto__"!==e;function p(...e){return e.reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=m(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;h(e,n,t[n],r)}return e},{})}function h(e,t,n,r){var i,u;if(d(t))if(a(n)&&!o(n))for(i in u=a(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?h(u,i,n[i]):d(i)&&(u[i]=n[i]);else e[t]=n}function m(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function g(e){return null!=e?o(e)?e:[e]:[]}const v=Object.prototype.hasOwnProperty;function y(e,t){return v.call(e,t)}function b(e){return"boolean"==typeof e}function x(e){return"number"==typeof e}function w(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}
/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */function _(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var E=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function i(o,u,s,l,c){"object"==typeof u&&(s=u.depth,l=u.prototype,c=u.includeNonEnumerable,u=u.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return void 0===u&&(u=!0),void 0===s&&(s=1/0),function o(s,h){if(null===s)return null;if(0===h)return s;var m,g;if("object"!=typeof s)return s;if(e(s,t))m=new t;else if(e(s,n))m=new n;else if(e(s,r))m=new r((function(e,t){s.then((function(t){e(o(t,h-1))}),(function(e){t(o(e,h-1))}))}));else if(i.__isArray(s))m=[];else if(i.__isRegExp(s))m=new RegExp(s.source,a(s)),s.lastIndex&&(m.lastIndex=s.lastIndex);else if(i.__isDate(s))m=new Date(s.getTime());else{if(p&&Buffer.isBuffer(s))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(m),m;e(s,Error)?m=Object.create(s):void 0===l?(g=Object.getPrototypeOf(s),m=Object.create(g)):(m=Object.create(l),g=l)}if(u){var v=f.indexOf(s);if(-1!=v)return d[v];f.push(s),d.push(m)}for(var y in e(s,t)&&s.forEach((function(e,t){var n=o(t,h-1),r=o(e,h-1);m.set(n,r)})),e(s,n)&&s.forEach((function(e){var t=o(e,h-1);m.add(t)})),s){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=o(s[y],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(s);for(y=0;y<x.length;y++){var w=x[y];(!(E=Object.getOwnPropertyDescriptor(s,w))||E.enumerable||c)&&(m[w]=o(s[w],h-1),E.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(c){var _=Object.getOwnPropertyNames(s);for(y=0;y<_.length;y++){var E,k=_[y];(E=Object.getOwnPropertyDescriptor(s,k))&&E.enumerable||(m[k]=o(s[k],h-1),Object.defineProperty(m,k,{enumerable:!1}))}}return m}(o,s)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)})),k=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},o={key:r,value:t[r]};return e(i,o)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var o,a;if(Array.isArray(t)){for(a="[",o=0;o<t.length;o++)o&&(a+=","),a+=e(t[o])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(t)-1,s=Object.keys(t).sort(r&&r(t));for(a="",o=0;o<s.length;o++){var l=s[o],c=e(t[l]);c&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c)}return i.splice(u,1),"{"+a+"}"}}(e)};function C(e){return!!e.or}function S(e){return!!e.and}function A(e){return!!e.not}function O(e,t){return A(e)?{not:O(e.not,t)}:S(e)?{and:e.and.map(e=>O(e,t))}:C(e)?{or:e.or.map(e=>O(e,t))}:t(e)}const M=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n},D=E;function P(e,t){const n={};for(const r of t)y(e,r)&&(n[r]=e[r]);return n}function T(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>k(e)).join(",")})`};const F=k;function N(e){if(x(e))return e;const t=u(e)?e:k(e);if(t.length<250)return t;let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n&=n;return n}function j(e){return!1===e||null===e}function R(e,t){return e.indexOf(t)>-1}function B(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function L(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function z(e,t){for(const n of Object.keys(t))h(e,n,t[n],!0)}function I(e,t){const n=[],r={};let i;for(const o of e)i=t(o),i in r||(r[i]=1,n.push(o));return n}function $(e,t){for(const n of e)if(t.has(n))return!0;return!1}function U(e){const t=new Set;for(const n of e){const e=i(n).map((e,t)=>0===t?e:`[${e}]`),r=e.map((t,n)=>e.slice(0,n+1).join(""));for(const e of r)t.add(e)}return t}function q(e,t){return void 0===e||void 0===t||$(U(e),U(t))}const W=Object.keys,H=Object.values;function V(e){const t=[];for(const n in e)y(e,n)&&t.push({key:n,value:e[n]});return t}function G(e){return!0===e||!1===e}function Y(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function X(e,t){return A(e)?"!("+X(e.not,t)+")":S(e)?"("+e.and.map(e=>X(e,t)).join(") && (")+")":C(e)?"("+e.or.map(e=>X(e,t)).join(") || (")+")":t(e)}function K(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&K(e[n],t)&&delete e[n],0===W(e).length}function Q(e){return e.charAt(0).toUpperCase()+e.substr(1)}function J(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Z(e,t="datum"){const n=i(e),r=[];for(let e=1;e<=n.length;e++){const i=`[${n.slice(0,e).map(s).join("][")}]`;r.push(`${t}${i}`)}return r.join(" && ")}function ee(e){return""+i(e).map(J).join("\\.")}function te(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function ne(e){return""+i(e).join(".")}function re(e){return e?i(e).length:0}function ie(...e){for(const t of e)if(void 0!==t)return t}let oe=42;function ae(e){if(void 0!==e)return(e%360+360)%360}function ue(e){return!!x(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const se={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function le(e){return e&&e.condition}const ce=["domain","grid","labels","ticks","title"],fe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},de={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},pe=Object.assign(Object.assign({},de),{style:1,labelExpr:1,encoding:1});function he(e){return!!pe[e]}const me={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},ge=me.arc,ve=me.area,ye=me.bar,be=me.image,xe=me.line,we=me.point,_e=me.rect,Ee=me.rule,ke=me.text,Ce=me.tick,Se=me.trail,Ae=me.circle,Oe=me.square,Me=me.geoshape;function De(e){return R(["line","area","trail"],e)}function Pe(e){return R(["rect","bar","image","arc"],e)}const Te=W(me);function Fe(e){return e.type}w(Te);const Ne=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit","fill","fillOpacity"],je=W({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Re={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Be={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},Le={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function ze(e){return"mark"in e}class Ie{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!ze(e)&&function(e){return Fe(e)?e.type:e}(e.mark)===this.name}}const $e={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ue={count:1,min:1,max:1};function qe(e){return!!e&&!!e.argmin}function We(e){return!!e&&!!e.argmax}function He(e){return u(e)&&!!$e[e]}const Ve=["count","valid","missing","distinct"];function Ge(e){return u(e)&&R(Ve,e)}const Ye=["count","sum","distinct","valid","missing"],Xe=w(["mean","average","median","q1","q3","min","max"]),Ke="row",Qe="column",Je="x",Ze="y",et="x2",tt="y2",nt="radius",rt="theta",it="theta2",ot="color",at="fill",ut="stroke",st="shape",lt="size",ct={theta:1,theta2:1,radius:1,radius2:1};function ft(e){return e in ct}const dt={longitude:1,longitude2:1,latitude:1,latitude2:1},pt=W(dt),ht=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),ct),dt),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function mt(e){return e===ot||e===at||e===ut}const gt={row:1,column:1,facet:1},vt=W(gt),yt=Object.assign(Object.assign({},ht),gt),bt=W(yt),xt=_(yt,["order","detail","tooltip"]),wt=_(xt,["row","column","facet"]);function _t(e){return!!yt[e]}const Et=[et,tt,"latitude2","longitude2",it,"radius2"];function kt(e){return Ct(e)!==e}function Ct(e){switch(e){case et:return Je;case tt:return Ze;case"latitude2":return"latitude";case"longitude2":return"longitude";case it:return rt;case"radius2":return nt}return e}function St(e){if(ft(e))switch(e){case rt:return"startAngle";case it:return"endAngle";case nt:return"outerRadius";case"radius2":return"innerRadius"}return e}function At(e){switch(e){case Je:return et;case Ze:return tt;case"latitude":return"latitude2";case"longitude":return"longitude2";case rt:return it;case nt:return"radius2"}}function Ot(e){switch(e){case Je:case et:return"width";case Ze:case tt:return"height"}}const Mt=_(ht,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Dt=W(Mt),Pt={x:1,y:1},Tt=W(Pt);function Ft(e){return e in Pt}const Nt={theta:1,radius:1},jt=W(Nt);function Rt(e){return"width"===e?Je:Ze}const Bt=_(Mt,["text","tooltip","href","url","description","detail","key","order"]),Lt=W(Bt),zt=Object.assign(Object.assign(Object.assign({},Pt),Nt),Bt),It=W(zt);function $t(e){return!!zt[e]}function Ut(e,t){return function(e){switch(e){case ot:case at:case ut:case"description":case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case Ke:case Qe:return qt;case Je:case Ze:case"latitude":case"longitude":return Wt;case et:case tt:case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case lt:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case st:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case rt:case nt:return{text:"always",arc:"always"};case it:case"radius2":return{arc:"always"}}}(e)[t]}const qt={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Wt=_(qt,["geoshape"]);function Ht(e){switch(e){case Je:case Ze:case rt:case nt:case lt:case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case et:case tt:case it:case"radius2":return;case"facet":case Ke:case Qe:case st:case"strokeDash":case"text":case"tooltip":case"href":case"url":case"description":return"discrete";case ot:case at:case ut:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function Vt(e){return b(e)&&(e=oo(e,void 0)),"bin"+W(e).map(t=>Kt(e[t])?Y(`_${t}_${Object.entries(e[t])}`):Y(`_${t}_${e[t]}`)).join("")}function Gt(e){return!0===e||Xt(e)&&!e.binned}function Yt(e){return"binned"===e||Xt(e)&&!0===e.binned}function Xt(e){return a(e)}function Kt(e){return null==e?void 0:e.selection}function Qt(e){switch(e){case Ke:case Qe:case lt:case ot:case at:case ut:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case st:return 6;case"strokeDash":return 4;default:return 10}}function Jt(e){return`Invalid specification ${JSON.stringify(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}function Zt(e){return("width"==e?"Width":"Height")+' "container" only works for single views and layered views.'}function en(e){return`${"width"==e?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==e?"x":"y"}".`}function tn(e){return e?`Dropping "fit-${e}" because spec has discrete ${Ot(e)}.`:'Dropping "fit" because spec has discrete size.'}function nn(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function rn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function on(e){return`Selection not supported for ${e} yet.`}function an(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}function un(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function sn(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function ln(e){return`Invalid field type "${e}".`}function cn(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function fn(e,t){return`Dropping ${F(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}function dn(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?" when "+n:""}.`}function pn(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function hn(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`}function mn(e){return`Using unaggregated domain with raw field has no effect (${F(e)}).`}function gn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function vn(e){return`Unaggregated domain is currently unsupported for log scale (${F(e)}).`}function yn(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function bn(e){return`The step for "${e}" is dropped because the ${"width"===e?"x":"y"} is continuous.`}const xn="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function wn(e,t){return`Invalid ${e}: ${F(t)}.`}function _n(e){return`1D error band does not support ${e}.`}function En(e){return`Channel ${e} is required for "binned" bin.`}const kn=(Sn=2||0,{level:function(e){return arguments.length?(Sn=+e,this):Sn},error:function(){return Sn>=1&&f(Cn||"error","ERROR",arguments),this},warn:function(){return Sn>=2&&f(Cn||"warn","WARN",arguments),this},info:function(){return Sn>=3&&f(Cn||"log","INFO",arguments),this},debug:function(){return Sn>=4&&f(Cn||"log","DEBUG",arguments),this}});var Cn,Sn;let An=kn;function On(...e){An.warn(...e)}function Mn(e){if(e&&a(e))for(const t of Bn)if(t in e)return!0;return!1}const Dn=["january","february","march","april","may","june","july","august","september","october","november","december"],Pn=Dn.map(e=>e.substr(0,3)),Tn=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Fn=Tn.map(e=>e.substr(0,3));function Nn(e,t){const n=[];if(t&&void 0!==e.day&&W(e).length>1&&(On(function(e){return`Dropping day from datetime ${F(e)} as day cannot be combined with other units.`}(e)),delete(e=D(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){const r=t?function(e){if(ue(e)&&(e=+e),x(e))return e-1;{const t=e.toLowerCase(),n=Dn.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=Pn.indexOf(r);if(-1!==i)return i;throw new Error(wn("month",e))}}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){const r=t?function(e){if(ue(e)&&(e=+e),x(e))return e>4&&On(wn("quarter",e)),e-1;throw new Error(wn("quarter",e))}(e.quarter):e.quarter;n.push(x(r)?3*r:r+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const r=t?function(e){if(ue(e)&&(e=+e),x(e))return e%7;{const t=e.toLowerCase(),n=Tn.indexOf(t);if(-1!==n)return n;const r=t.substr(0,3),i=Fn.indexOf(r);if(-1!==i)return i;throw new Error(wn("day",e))}}(e.day):e.day;n.push(x(r)?r+1:r+"+1")}else n.push(1);for(const t of["hours","minutes","seconds","milliseconds"]){const r=e[t];n.push(void 0===r?0:r)}return n}function jn(e){const t=Nn(e,!0).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}const Rn={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Bn=W(Rn);function Ln(e){return e.startsWith("utc")}const zn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function In(e){const t=[];for(const n of Bn)$n(e,n)&&t.push(n);return t}function $n(e,t){const n=e.indexOf(t);return n>-1&&("seconds"!==t||0===n||"i"!==e.charAt(n-1))}function Un(e,t,{end:n}={end:!1}){const r=Z(t),i=Ln(e)?"utc":"";let o;const a={};for(const t of Bn)$n(e,t)&&(a[t]="quarter"===(u=t)?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`,o=t);var u;return n&&(a[o]+="+1"),function(e){const t=Nn(e,!1).join(", ");return e.utc?`utc(${t})`:`datetime(${t})`}(a)}function qn(e){if(!e)return;const t=In(e);return`timeUnitSpecifier(${k(t)}, ${k(zn)})`}function Wn(e){if(!e)return;let t;return u(e)?t={unit:e}:a(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Ln(t.unit)&&(t.utc=!0,t.unit=function(e){return e.substr(3)}(t.unit)),t}function Hn(e){return e&&!!e.signal}function Vn(e){return!!e.step}function Gn(e){return!o(e)&&"field"in e&&"data"in e}const Yn=W({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),Xn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Kn=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Qn(e){return e&&!!e.field&&void 0!==e.equal}function Jn(e){return e&&!!e.field&&void 0!==e.lt}function Zn(e){return e&&!!e.field&&void 0!==e.lte}function er(e){return e&&!!e.field&&void 0!==e.gt}function tr(e){return e&&!!e.field&&void 0!==e.gte}function nr(e){if(e&&e.field){if(o(e.range)&&2===e.range.length)return!0;if(Hn(e.range))return!0}return!1}function rr(e){return e&&!!e.field&&(o(e.oneOf)||o(e.in))}function ir(e){return rr(e)||Qn(e)||nr(e)||Jn(e)||er(e)||Zn(e)||tr(e)}function or(e,t){return so(e,{timeUnit:t,wrapTime:!0})}function ar(e,t=!0){var n;const{field:r}=e,i=null===(n=Wn(e.timeUnit))||void 0===n?void 0:n.unit,o=i?"time("+Un(i,r)+")":Wi(e,{expr:"datum"});if(Qn(e))return o+"==="+or(e.equal,i);if(Jn(e))return`${o}<${or(e.lt,i)}`;if(er(e))return`${o}>${or(e.gt,i)}`;if(Zn(e))return`${o}<=${or(e.lte,i)}`;if(tr(e))return`${o}>=${or(e.gte,i)}`;if(rr(e))return`indexof([${function(e,t){return e.map(e=>or(e,t))}(e.oneOf,i).join(",")}], ${o}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return ur(o,e.valid);if(nr(e)){const{range:n}=e,r=Hn(n)?{signal:n.signal+"[0]"}:n[0],a=Hn(n)?{signal:n.signal+"[1]"}:n[1];if(null!==r&&null!==a&&t)return"inrange("+o+", ["+or(r,i)+", "+or(a,i)+"])";const u=[];return null!==r&&u.push(`${o} >= ${or(r,i)}`),null!==a&&u.push(`${o} <= ${or(a,i)}`),u.length>0?u.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(e))}function ur(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function sr(e){var t;return ir(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=Wn(e.timeUnit))||void 0===t?void 0:t.unit}):e}const lr={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},cr=lr.quantitative,fr=lr.ordinal,dr=lr.temporal,pr=lr.nominal,hr=lr.geojson,mr=W(lr),gr="linear",vr="log",yr="pow",br="sqrt",xr="symlog",wr="time",_r="utc",Er="quantile",kr="quantize",Cr="threshold",Sr="point",Ar="band",Or={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Mr=W(Or);function Dr(e,t){const n=Or[e],r=Or[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}const Pr={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Tr(e){return Pr[e]}const Fr=["linear","log","pow","sqrt","symlog","time","utc"],Nr=w(Fr),jr=w(["linear","log","pow","sqrt","symlog"]),Rr=w(["quantile","quantize","threshold"]),Br=w(Fr.concat(["quantile","quantize","threshold","sequential","identity"])),Lr=w(["ordinal","bin-ordinal","point","band"]);function zr(e){return e in Lr}function Ir(e){return e in Br}function $r(e){return e in Nr}function Ur(e){return e in Rr}function qr(e){return null==e?void 0:e.selection}const Wr=_({type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","scheme"]),Hr=W(Wr);function Vr(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!R(["point","band","identity"],e);case"bins":return!R(["point","band","identity","ordinal"],e);case"round":return $r(e)||"band"===e||"point"===e;case"padding":return $r(e)||R(["point","band"],e);case"paddingOuter":case"align":return R(["point","band"],e);case"paddingInner":return"band"===e;case"domainMid":case"clamp":return $r(e);case"nice":return $r(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Ir(e)&&!R(["log","time","utc","threshold","quantile"],e)}}function Gr(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return mt(e)?void 0:function(e){return`Cannot use the scale property "${e}" with non-color channel.`}(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"reverse":case"round":case"clamp":case"zero":return}}function Yr(e,t){return R([fr,pr],t)?void 0===e||zr(e):t===dr?R([wr,_r,void 0],e):t!==cr||R([vr,yr,br,xr,Er,kr,Cr,gr,void 0],e)}function Xr(e,t){if(!$t(e))return!1;switch(e){case Je:case Ze:case rt:case nt:return $r(t)||R(["band","point"],t);case lt:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return $r(t)||Ur(t)||R(["band","point","ordinal"],t);case ot:case at:case ut:return"band"!==t;case"strokeDash":return"ordinal"===t||Ur(t);case st:return"ordinal"===t}}function Kr(e,t){return e+"_"+t}function Qr(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,a=ri(e);return Ti(n)&&!Ge(n.aggregate)&&i&&$r(i.get("type"))&&!1===i.get("zero")?Jr({fieldDef:n,channel:t,markDef:r,ref:a,config:o}):a}function Jr({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return De(n.type)||null===go("invalid",n,i)?r:[Zr(e,t),r]}function Zr(e,t){const n=ei(e,!0),r="y"===Ct(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function ei(e,t=!0){return ur(u(e)?e:Wi(e,{expr:"datum"}),!t)}function ti(e,t,n,r){const i={};if(t&&(i.scale=t),Ni(e)){const{datum:t}=e;Mn(t)?i.signal=jn(t):Hn(t)?i.signal=t.signal:i.value=t}else i.field=Wi(e,n);if(r){const{offset:e,band:t}=r;e&&(i.offset=e),t&&(i.band=t)}return i}function ni({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,band:o=.5}){const a=0<o&&o<1?"datum":void 0,u=Wi(t,{expr:a,suffix:i}),s=void 0!==n?Wi(n,{expr:a}):Wi(t,{suffix:"end",expr:a}),l={};if(0===o||1===o){l.scale=e;const t=0===o?u:s;l.field=t}else{const t=`${o} * ${u} + ${1-o} * ${s}`;l.signal=`scale("${e}", ${t})`}return r&&(l.offset=r),l}function ri({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:u,offset:s,defaultRef:l,band:c}){var f;if(t){if(Bi(t)){if(Li(t)){c=null!=c?c:Ai({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:u,config:i,isMidPoint:!0});const{bin:a,timeUnit:l,type:f}=t;if(Gt(a)||c&&l&&f===dr)return u&&u.impute?ti(t,o,{binSuffix:"mid"},{offset:s}):c?ni({scaleName:o,fieldOrDatumDef:t,band:c,offset:s}):ti(t,o,co(t,e)?{binSuffix:"range"}:{},{offset:s});if(Yt(a)){if(Ti(n))return ni({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,band:c,offset:s});On(En(e===Je?et:tt))}}const l=null==a?void 0:a.get("type");return ti(t,o,zr(l)?{binSuffix:"range"}:{},{offset:s,band:"band"===l?null!==(f=null!=c?c:t.band)&&void 0!==f?f:.5:void 0})}if(zi(t)){const n=t.value,r=s?{offset:s}:{};return Object.assign(Object.assign({},ii(e,n)),r)}}return function(e){return"function"==typeof e}(l)&&(l=l()),l?Object.assign(Object.assign({},l),s?{offset:s}:{}):l}function ii(e,t){return R(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:R(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:ho(t)}function oi(e){return e&&"number"!==e&&"time"!==e}function ai(e,t,n){return`${e}(${t}, ${JSON.stringify(n)})`}function ui({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var a,s;if(oi(n))return li({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const l=si(e,r,i);if(uo(e)){const n=function(e,t,n,r,i){return!t||n?(n=u(n)?n:r,`${i?"utc":"time"}Format(${e}, '${n}')`):function(e,t,n){if(!e)return;const r=qn(e);return`${n||Ln(e)?"utc":"time"}Format(${t}, ${r})`}(t,e,i)}(l,Ti(e)?null===(a=Wn(e.timeUnit))||void 0===a?void 0:a.unit:void 0,t,o.timeFormat,Ii(e)&&(null===(s=e.scale)||void 0===s?void 0:s.type)===_r);return n?{signal:n}:void 0}return t=di(Fi(e),t,o),Ti(e)&&Gt(e.bin)?{signal:mi(l,Wi(e,{expr:r,binSuffix:"end"}),t,n,o)}:t||"quantitative"===Fi(e)?{signal:""+pi(l,t)}:{signal:`isValid(${l}) ? ${l} : ""+${l}`}}function si(e,t,n){return Ti(e)?n?`${Wi(e,{expr:t,suffix:"end"})}-${Wi(e,{expr:t,suffix:"start"})}`:Wi(e,{expr:t}):function(e){const{datum:t}=e;return Mn(t)?jn(t):""+JSON.stringify(t)}(e)}function li({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:a}){return a=null!=a?a:si(e,r,i),Ti(e)&&Gt(e.bin)?{signal:mi(a,Wi(e,{expr:r,binSuffix:"end"}),t,n,o)}:{signal:ai(n,a,t)}}function ci(e,t,n,r,i,o){var a;if(!oi(r))return uo(e)?function(e,t,n,r){return e||(t?{signal:qn(t)}:r?void 0:n.timeFormat)}(n,Ti(e)?null===(a=Wn(e.timeUnit))||void 0===a?void 0:a.unit:void 0,i,o):di(t,n,i)}function fi(e,t,n){return e&&(Hn(e)||"number"===e||"time"===e)?e:uo(t)&&"time"!==n&&"utc"!==n?"time":void 0}function di(e,t,n){return u(t)?t:e===cr?n.numberFormat:void 0}function pi(e,t){return`format(${e}, "${t||""}")`}function hi(e,t,n,r){var i;return oi(n)?ai(n,e,t):pi(e,null!==(i=u(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function mi(e,t,n,r,i){const o=hi(e,n,r,i),a=hi(t,n,r,i);return`${ur(e,!1)} ? "null" : ${o} + "  " + ${a}`}!function(){var e;const t={};for(const n of bt)for(const r of mr)for(const i of Mr){const o=Kr(n,r);Xr(n,i)&&Yr(i,r)&&(t[o]=null!==(e=t[o])&&void 0!==e?e:[],t[o].push(i))}}();const gi="min",vi={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function yi(e){return e in vi}function bi(e){return!!e&&!!e.encoding}function xi(e){return!(!e||"count"!==e.op&&!e.field)}function wi(e){return!!e&&o(e)}function _i(e){return"row"in e||"column"in e}function Ei(e){return!!e&&"header"in e}function ki(e){return"facet"in e}function Ci(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function Si(e){return Li(e)&&"sort"in e}function Ai({channel:e,fieldDef:t,fieldDef2:n,markDef:r,stack:i,config:o,isMidPoint:a}){if(Bi(t)&&void 0!==t.band)return t.band;if(Ti(t)){const{timeUnit:e,bin:i}=t;if(e&&!n)return a?vo("timeUnitBandPosition",r,o):Pe(r.type)?vo("timeUnitBand",r,o):0;if(Gt(i))return Pe(r.type)&&!a?1:.5}return(null==i?void 0:i.fieldChannel)===e&&a?.5:void 0}function Oi(e,t,n,r,i,o){return!!(Gt(t.bin)||t.timeUnit&&Li(t)&&"temporal"===t.type)&&!!Ai({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:i,config:o})}function Mi(e){return!!e&&"condition"in e}function Di(e){const t=e&&e.condition;return!!t&&!o(t)&&Ti(t)}function Pi(e){const t=e&&e.condition;return!!t&&!o(t)&&Bi(t)}function Ti(e){return!(!e||!e.field&&"count"!==e.aggregate)}function Fi(e){return e&&e.type}function Ni(e){return!!e&&"datum"in e}function ji(e){return Li(e)&&Vi(e)||Ri(e)}function Ri(e){return Ni(e)&&x(e.datum)}function Bi(e){return Ti(e)||Ni(e)}function Li(e){return!!e&&("field"in e&&"type"in e||"count"===e.aggregate)}function zi(e){return e&&"value"in e&&"value"in e}function Ii(e){return!!e&&("scale"in e||"sort"in e)}function $i(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Ui(e){return!!e&&"legend"in e}function qi(e){return!!e&&("format"in e||"formatType"in e)}function Wi(e,t={}){var n,r,o;let a=e.field;const u=t.prefix;let l=t.suffix,c="";if(function(e){return"count"===e.aggregate}(e))a=function(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__"+e}("count");else{let i;if(!t.nofn)if(function(e){return"op"in e}(e))i=e.op;else{const{bin:u,aggregate:s,timeUnit:f}=e;Gt(u)?(i=Vt(u),l=(null!==(n=t.binSuffix)&&void 0!==n?n:"")+(null!==(r=t.suffix)&&void 0!==r?r:"")):s?We(s)?(c="."+a,a="argmax_"+s.argmax):qe(s)?(c="."+a,a="argmin_"+s.argmin):i=String(s):f&&(i=function(e){const t=Wn(e),{utc:n}=t,r=_(t,["utc"]);return r.unit?(n?"utc":"")+W(r).map(e=>Y(`${"unit"===e?"":`_${e}_`}${r[e]}`)).join(""):(n?"utc":"")+"timeunit"+W(r).map(e=>Y(`_${e}_${r[e]}`)).join("")}(f),l=(!R(["range","mid"],t.binSuffix)&&t.binSuffix||"")+(null!==(o=t.suffix)&&void 0!==o?o:""))}i&&(a=a?`${i}_${a}`:i)}return l&&(a=`${a}_${l}`),u&&(a=`${u}_${a}`),t.forAs?a:t.expr?function(e,t="datum"){return`${t}[${s(i(e).join("."))}]`}(a,t.expr)+c:ee(a)+c}function Hi(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Ti(e)&&!!e.bin;case"temporal":return!1}throw new Error(ln(e.type))}function Vi(e){return!Hi(e)}const Gi=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(We(t))return`${i} for argmax(${t.argmax})`;if(qe(t))return`${i} for argmin(${t.argmin})`;const o=Wn(r),a=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&"timeunit"||Gt(n)&&"bin";return a?a.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n;const{field:r,bin:i,timeUnit:o,aggregate:a}=e;if("count"===a)return t.countTitle;if(Gt(i))return r+" (binned)";if(o){const e=null===(n=Wn(o))||void 0===n?void 0:n.unit;if(e)return`${r} (${In(e).join("-")})`}else if(a)return We(a)?`${r} for max ${a.argmax}`:qe(a)?`${r} for min ${a.argmin}`:`${Q(a)} of ${r}`;return r}(e,t)}};let Yi=Gi;function Xi(e){Yi=e}function Ki(e,t,{allowDisabling:n,includeDefault:r=!0}){var i,o;const a=(null!==(i=Qi(e))&&void 0!==i?i:{}).title;if(!Ti(e))return a;const u=e,s=r?Ji(u,t):void 0;return n?ie(a,u.title,s):null!==(o=null!=a?a:u.title)&&void 0!==o?o:s}function Qi(e){return $i(e)&&e.axis?e.axis:Ui(e)&&e.legend?e.legend:Ei(e)&&e.header?e.header:void 0}function Ji(e,t){return Yi(e,t)}function Zi(e){var t;if(qi(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{const n=null!==(t=Qi(e))&&void 0!==t?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function eo(e){return Ti(e)?e:Di(e)?e.condition:void 0}function to(e){return Bi(e)?e:Pi(e)?e.condition:void 0}function no(e,t,n){return u(e)||x(e)||b(e)?(On(function(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${F(n)}}.`}(t,u(e)?"string":x(e)?"number":"boolean",e)),{value:e}):Bi(e)?ro(e,t,n):Pi(e)?Object.assign(Object.assign({},e),{condition:ro(e.condition,t,n)}):e}function ro(e,t,n){if(qi(e)){const{format:r,formatType:i}=e,o=_(e,["format","formatType"]);if(oi(i)&&!n.customFormatTypes)return On(sn(t)),ro(o,t,n)}else{const r=$i(e)?"axis":Ui(e)?"legend":Ei(e)?"header":null;if(r&&e[r]){const i=e[r],{format:o,formatType:a}=i,u=_(i,["format","formatType"]);if(oi(a)&&!n.customFormatTypes)return On(sn(t)),ro(Object.assign(Object.assign({},e),{[r]:u}),t,n)}}return Ti(e)?io(e,t):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=x(n)?"quantitative":u(n)?"nominal":Mn(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function io(e,t){const{aggregate:n,timeUnit:r,bin:i,field:o}=e,a=Object.assign({},e);if(!n||He(n)||We(n)||qe(n)||(On(function(e){return`Invalid aggregation operator "${e}".`}(n)),delete a.aggregate),r&&(a.timeUnit=Wn(r)),o&&(a.field=""+o),Gt(i)&&(a.bin=oo(i,t)),Yt(i)&&!Ft(t)&&On(`Channel ${t} should not be used with "binned" bin.`),Li(a)){const{type:e}=a,t=function(e){if(e)switch(e=e.toLowerCase()){case"q":case cr:return"quantitative";case"t":case dr:return"temporal";case"o":case fr:return"ordinal";case"n":case pr:return"nominal";case hr:return"geojson"}}(e);e!==t&&(a.type=t),"quantitative"!==e&&Ge(n)&&(On(function(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}(e,n)),a.type="quantitative")}else if(!kt(t)){const e=function(e,t){if(e.timeUnit)return"temporal";if(Gt(e.bin))return"quantitative";switch(Ht(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(a,t);On(function(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}(t,e)),a.type=e}if(Li(a)){const{compatible:e,warning:n}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Ke:case Qe:case"facet":return Vi(e)?{compatible:!1,warning:pn(t)}:ao;case Je:case Ze:case ot:case at:case ut:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case rt:case nt:case"description":return ao;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==cr?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:ao;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case lt:case it:case"radius2":case et:case tt:return"nominal"!==n||e.sort?ao:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case"strokeDash":return R(["ordinal","nominal"],e.type)?ao:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case st:return R(["ordinal","nominal","geojson"],e.type)?ao:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?ao:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}(a,t);e||On(n)}if(Si(a)&&u(a.sort)){const{sort:e}=a;if(yi(e))return Object.assign(Object.assign({},a),{sort:{encoding:e}});const t=e.substr(1);if("-"===e.charAt(0)&&yi(t))return Object.assign(Object.assign({},a),{sort:{encoding:t,order:"descending"}})}if(Ei(a)){const{header:e}=a,{orient:t}=e,n=_(e,["orient"]);if(t)return Object.assign(Object.assign({},a),{header:Object.assign(Object.assign({},n),{labelOrient:e.labelOrient||t,titleOrient:e.titleOrient||t})})}return a}function oo(e,t){return b(e)?{maxbins:Qt(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:Qt(t)})}const ao={compatible:!0};function uo(e){const{formatType:t}=Zi(e);return"time"===t||!t&&(n=e)&&("temporal"===n.type||Ti(n)&&!!n.timeUnit);var n}function so(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var o;const a=t&&(null===(o=Wn(t))||void 0===o?void 0:o.unit);let s,l=a||"temporal"===n;return Hn(e)?s=e.signal:Mn(e)?(l=!0,s=jn(e)):(u(e)||x(e))&&l&&(s=`datetime(${JSON.stringify(e)})`,function(e){return!!Rn[e]}(a)&&(x(e)&&e<1e4||u(e)&&isNaN(Date.parse(e)))&&(s=jn({[a]:e}))),s?r&&l?`time(${s})`:s:i?void 0:JSON.stringify(e)}function lo(e,t){const{type:n}=e;return t.map(t=>{const r=so(t,{timeUnit:Ti(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t})}function co(e,t){return Gt(e.bin)?$t(t)&&R(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function fo(e){const{anchor:t,frame:n,offset:r,orient:i,color:o,subtitleColor:a,subtitleFont:u,subtitleFontSize:s,subtitleFontStyle:l,subtitleFontWeight:c,subtitleLineHeight:f,subtitlePadding:d}=e,p=_(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),h=Object.assign(Object.assign({},p),o?{fill:o}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{subtitleColor:a}:{}),u?{subtitleFont:u}:{}),s?{subtitleFontSize:s}:{}),l?{subtitleFontStyle:l}:{}),c?{subtitleFontWeight:c}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{});return{titleMarkConfig:h,subtitleMarkConfig:P(h,["align","baseline","dx","dy","limit"]),nonMark:m,subtitle:g}}function po(e){return u(e)||o(e)&&u(e[0])}function ho(e){return Hn(e)?e:void 0!==e?{value:e}:void 0}function mo(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function go(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!o||i&&i!==e?vo(e,t,n,r):void 0}function vo(e,t,n,{vgChannel:r}={}){return ie(r?yo(e,t,n.style):void 0,yo(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function yo(e,t,n){return bo(e,mo(t),n)}function bo(e,t,n){let r;t=g(t);for(const i of t){const t=n[i];t&&void 0!==t[e]&&(r=t[e])}return r}function xo(e,t){return g(e).reduce((e,n)=>{var r;return e.field.push(Wi(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e},{field:[],order:[]})}function wo(e,t){const n=[...e];return t.forEach(e=>{for(const t of n)if(M(t,e))return;n.push(e)}),n}function _o(e,t){return M(e,t)||!t?e:e?[...g(e),...g(t)].join(", "):t}function Eo(e,t){const n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((po(n)||Hn(n))&&(po(r)||Hn(r)))return{explicit:e.explicit,value:_o(n,r)};if(po(n)||Hn(n))return{explicit:e.explicit,value:n};if(po(r)||Hn(r))return{explicit:e.explicit,value:r};if(!(po(n)||Hn(n)||po(r)||Hn(r)))return{explicit:e.explicit,value:wo(n,r)};throw new Error("It should never reach here")}function ko(e,t){const n=e&&e[t];return!!n&&(o(n)?B(n,e=>!!e.field):Ti(n)||Di(n))}function Co(e){return B(bt,t=>{if(ko(e,t)){const n=e[t];if(o(n))return B(n,e=>!!e.aggregate);{const e=eo(n);return e&&!!e.aggregate}}return!1})}function So(e,t){const n=[],r=[],i=[],o=[],a={};return Mo(e,(u,s)=>{if(Ti(u)){const{field:l,aggregate:c,bin:f,timeUnit:d}=u,p=_(u,["field","aggregate","bin","timeUnit"]);if(c||d||f){const e=Qi(u),h=e&&e.title;let m=Wi(u,{forAs:!0});const g=Object.assign(Object.assign(Object.assign({},h?[]:{title:Ki(u,t,{allowDisabling:!0})}),p),{field:m});if(c){let e;if(We(c)?(e="argmax",m=Wi({op:"argmax",field:c.argmax},{forAs:!0}),g.field=`${m}.${l}`):qe(c)?(e="argmin",m=Wi({op:"argmin",field:c.argmin},{forAs:!0}),g.field=`${m}.${l}`):"boxplot"!==c&&"errorbar"!==c&&"errorband"!==c&&(e=c),e){const t={op:e,as:m};l&&(t.field=l),o.push(t)}}else if(n.push(m),Li(u)&&Gt(f)){if(r.push({bin:f,field:l,as:m}),n.push(Wi(u,{binSuffix:"end"})),co(u,s)&&n.push(Wi(u,{binSuffix:"range"})),Ft(s)){const e={field:m+"_end"};a[s+"2"]=e}g.bin="binned",kt(s)||(g.type=cr)}else if(d){i.push({timeUnit:d,field:l,as:m});const e=Li(u)&&u.type!==dr&&"time";e&&("text"===s||"tooltip"===s?g.formatType=e:function(e){return!!Mt[e]}(s)?g.legend=Object.assign({formatType:e},g.legend):Ft(s)&&(g.axis=Object.assign({formatType:e},g.axis)))}a[s]=g}else n.push(l),a[s]=e[s]}else a[s]=e[s]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:a}}function Ao(e,t,n){const r=t.type;return W(e).reduce((i,a)=>{if(!_t(a))return On(function(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}(a)),i;const u=e[a];if("angle"!==a||"arc"!==r||e.theta||(On("Arc marks uses theta channel rather than angle, replacing angle with theta."),a=rt),!function(e,t,n){const r=Ut(t,n);if(!r)return!1;if("binned"===r){const n=e[t===et?Je:Ze];return!!(Ti(n)&&Ti(e[t])&&Yt(n.bin))}return!0}(e,a,r))return On(dn(a,r)),i;if(a===lt&&"line"===r){const t=eo(e[a]);if(null==t?void 0:t.aggregate)return On("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),i}if(a===ot&&(t.filled?"fill"in e:"stroke"in e))return On(cn("encoding",{fill:"fill"in e,stroke:"stroke"in e})),i;if("detail"===a||"order"===a&&!o(u)&&!zi(u)||"tooltip"===a&&o(u))u&&(i[a]=g(u).reduce((e,t)=>(Ti(t)?e.push(io(t,a)):On(fn(t,a)),e),[]));else{if("tooltip"===a&&null===u)i[a]=null;else if(!(Ti(u)||Ni(u)||zi(u)||Mi(u)||Hn(u)))return On(fn(u,a)),i;i[a]=no(u,a,n)}return i},{})}function Oo(e){const t=[];for(const n of W(e))if(ko(e,n)){const r=g(e[n]);for(const e of r)Ti(e)?t.push(e):Di(e)&&t.push(e.condition)}return t}function Mo(e,t,n){if(e)for(const r of W(e)){const i=e[r];if(o(i))for(const e of i)t.call(n,e,r);else t.call(n,i,r)}}function Do(e,t,n,r){return e?W(e).reduce((n,i)=>{const a=e[i];return o(a)?a.reduce((e,n)=>t.call(r,e,n,i),n):t.call(r,n,a,i)},n):n}function Po(e,t){return W(t).reduce((n,r)=>{switch(r){case Je:case Ze:case"href":case"description":case"url":case et:case tt:case rt:case it:case nt:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case st:case"angle":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":{const e=t[r];if(o(e)||Ti(e))for(const t of g(e))t.aggregate||n.push(Wi(t,{}));return n}case lt:if("trail"===e)return n;case ot:case at:case ut:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":{const e=eo(t[r]);return e&&!e.aggregate&&n.push(Wi(e,{})),n}}},[])}function To(e,t,n,r=!0){return"tooltip"in n?{tooltip:n.tooltip}:{tooltip:[...e.map(({fieldPrefix:e,titlePrefix:n})=>{const i=r?" of "+t.field:"";return{field:e+t.field,type:t.type,title:Hn(n)?{signal:n+`"${escape(i)}"`}:n+i}}),...Oo(n)]}}function Fo(e){const{axis:t,title:n,field:r}=e;return t&&void 0!==t.title?void 0:ie(n,r)}function No(e,t,n,r,i){const{scale:o,axis:a}=n;return({partName:s,mark:l,positionPrefix:c,endPositionPrefix:f,aria:d,extraEncoding:p={}})=>{const h=Fo(n);return jo(e,s,i,d,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:c+"_"+n.field,type:n.type},void 0!==h?{title:h}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})},u(f)?{[t+"2"]:{field:f+"_"+n.field}}:{}),r),p)})}}function jo(e,t,n,r,i){const{clip:o,color:a,opacity:u}=e,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},i),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),o?{clip:o}:{}),a?{color:a}:{}),u?{opacity:u}:{}),Fe(i.mark)?i.mark:{type:i.mark}),{style:`${s}-${t}`}),b(e[t])?{}:e[t]),!1===r?{aria:r}:{})})]:[]}function Ro(e,t,n){const{encoding:r}=e,i="vertical"===t?"y":"x",o=r[i],a=r[i+"2"],u=r[i+"Error"],s=r[i+"Error2"];return{continuousAxisChannelDef:Bo(o,n),continuousAxisChannelDef2:Bo(a,n),continuousAxisChannelDefError:Bo(u,n),continuousAxisChannelDefError2:Bo(s,n),continuousAxis:i}}function Bo(e,t){if(e&&e.aggregate){const{aggregate:n}=e,r=_(e,["aggregate"]);return n!==t&&On(function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}(n,t)),r}return e}function Lo(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(ji(i)){if(ji(o)){const e=Ti(i)&&i.aggregate,r=Ti(o)&&o.aggregate;if(e||r!==t){if(r||e!==t){if(e===t&&r===t)throw new Error("Both x and y cannot have aggregate");return Fe(n)&&n.orient?n.orient:"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(ji(o))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}const zo=new Ie("boxplot",$o);function Io(e){return x(e)?"tukey":e}function $o(e,{config:t}){var n,r;const{mark:i,encoding:u,selection:s,projection:l}=e,c=_(e,["mark","encoding","selection","projection"]),f=Fe(i)?i:{type:i};s&&On(on("boxplot"));const d=null!==(n=f.extent)&&void 0!==n?n:t.boxplot.extent,p=go("size",f,t),h=Io(d),{transform:m,continuousAxisChannelDef:g,continuousAxis:v,groupby:y,aggregate:b,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:k}=function(e,t,n){const r=Lo(e,"boxplot"),{continuousAxisChannelDef:i,continuousAxis:a}=Ro(e,r,"boxplot"),u=i.field,s=Io(t),l=[...Uo(u),{op:"median",field:u,as:"mid_box_"+u},{op:"min",field:u,as:("min-max"===s?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===s?"upper_whisker_":"max_")+u}],c="min-max"===s||"tukey"===s?[]:[{calculate:`datum["upper_box_${u}"] - datum["lower_box_${u}"]`,as:"iqr_"+u},{calculate:`min(datum["upper_box_${u}"] + datum["iqr_${u}"] * ${t}, datum["max_${u}"])`,as:"upper_whisker_"+u},{calculate:`max(datum["lower_box_${u}"] - datum["iqr_${u}"] * ${t}, datum["min_${u}"])`,as:"lower_whisker_"+u}],f=e.encoding,d=a,p=(f[d],_(f,["symbol"==typeof d?d:d+""])),{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=function(e){const{tooltip:t}=e,n=_(e,["tooltip"]);if(!t)return{filteredEncoding:e};let r,i;if(o(t)){for(const e of t)e.aggregate?(r||(r=[]),r.push(e)):(i||(i=[]),i.push(e));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return o(i)&&1===i.length&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}(p),{bins:g,timeUnits:v,aggregate:y,groupby:b,encoding:x}=So(m,n),w="vertical"===r?"horizontal":"vertical",E=r;return{transform:[...g,...v,{aggregate:[...y,...l],groupby:b},...c],groupby:b,aggregate:y,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:x,ticksOrient:w,boxOrient:E,customTooltipWithoutAggregatedField:h}}(e,d,t),{color:C,size:S}=x,A=_(x,["color","size"]),O=e=>No(f,v,g,e,t.boxplot),M=O(A),D=O(x),P=O(Object.assign(Object.assign({},A),S?{size:S}:{})),T=To([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],g,x),F={type:"tick",color:"black",opacity:1,orient:w,invalid:null},N="min-max"===h?T:To([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,x),j=[...M({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:N}),...M({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",aria:!1,extraEncoding:N}),...M({partName:"ticks",mark:F,positionPrefix:"lower_whisker",aria:!1,extraEncoding:N}),...M({partName:"ticks",mark:F,positionPrefix:"upper_whisker",aria:!1,extraEncoding:N})],R=[..."tukey"!==h?j:[],...D({partName:"box",mark:Object.assign(Object.assign({type:"bar"},p?{size:p}:{}),{orient:E,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,extraEncoding:T}),...P({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},a(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),p?{size:p}:{}),{orient:w,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:T})];let B;if("min-max"!==h){const e=`datum["lower_box_${g.field}"]`,n=`datum["upper_box_${g.field}"]`,r=`(${n} - ${e})`,i=`${e} - ${d} * ${r}`,o=`${n} + ${d} * ${r}`,a=`datum["${g.field}"]`,u={joinaggregate:Uo(g.field),groupby:y};let s=void 0;"tukey"===h&&(s={transform:[{filter:`(${i} <= ${a}) && (${a} <= ${o})`},{aggregate:[{op:"min",field:g.field,as:"lower_whisker_"+g.field},{op:"max",field:g.field,as:"upper_whisker_"+g.field},{op:"min",field:"lower_box_"+g.field,as:"lower_box_"+g.field},{op:"max",field:"upper_box_"+g.field,as:"upper_box_"+g.field},...b],groupby:y}],layer:j});const l=_(A,["tooltip"]),{scale:c,axis:p}=g,m=Fo(g),x=jo(f,"outliers",t.boxplot,!0,{transform:[{filter:`(${a} < ${i}) || (${a} > ${o})`}],mark:"point",encoding:Object.assign(Object.assign({[v]:Object.assign(Object.assign(Object.assign({field:g.field,type:g.type},void 0!==m?{title:m}:{}),void 0!==c?{scale:c}:{}),void 0!==p?{axis:p}:{})},l),k?{tooltip:k}:{})})[0];x&&s?B={transform:[u],layer:[x,s]}:x?(B=x,B.transform.unshift(u)):s&&(B=s,B.transform.unshift(u))}return B?Object.assign(Object.assign({},c),{layer:[B,{transform:m,layer:R}]}):Object.assign(Object.assign({},c),{transform:(null!==(r=c.transform)&&void 0!==r?r:[]).concat(m),layer:R})}function Uo(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}const qo=new Ie("errorbar",Wo);function Wo(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:u,outerSpec:s,tooltipEncoding:l}=Vo(e,"errorbar",t),c=No(u,i,r,o,t.errorbar),f={type:"tick",orient:a},d=[...c({partName:"ticks",mark:f,positionPrefix:"lower",aria:!1,extraEncoding:l}),...c({partName:"ticks",mark:f,positionPrefix:"upper",aria:!1,extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return Object.assign(Object.assign(Object.assign({},s),{transform:n}),d.length>1?{layer:d}:Object.assign({},d[0]))}function Ho(e,t){const{encoding:n}=e;if(function(e){return(Bi(e.x)||Bi(e.y))&&!Bi(e.x2)&&!Bi(e.y2)&&!Bi(e.xError)&&!Bi(e.xError2)&&!Bi(e.yError)&&!Bi(e.yError2)}(n))return{orient:Lo(e,t),inputType:"raw"};const r=function(e){return Bi(e.x2)||Bi(e.y2)}(n),i=function(e){return Bi(e.xError)||Bi(e.xError2)||Bi(e.yError)||Bi(e.yError2)}(n),o=n.x,a=n.y;if(r){if(i)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const e=n.x2,r=n.y2;if(Bi(e)&&Bi(r))throw new Error(t+" cannot have both x2 and y2");if(Bi(e)){if(ji(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(Bi(r)){if(ji(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const e=n.xError,r=n.xError2,i=n.yError,u=n.yError2;if(Bi(r)&&!Bi(e))throw new Error(t+" cannot have xError2 without xError");if(Bi(u)&&!Bi(i))throw new Error(t+" cannot have yError2 without yError");if(Bi(e)&&Bi(i))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(Bi(e)){if(ji(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Bi(i)){if(ji(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Vo(e,t,n){var r;const{mark:i,encoding:o,selection:a,projection:u}=e,s=_(e,["mark","encoding","selection","projection"]),l=Fe(i)?i:{type:i};a&&On(on(t));const{orient:c,inputType:f}=Ho(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:p,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:m,continuousAxis:g}=Ro(e,c,t),{errorBarSpecificAggregate:v,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:x}=function(e,t,n,r,i,o,a,u){let s=[],l=[];const c=t.field;let f,d=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&On(function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}(t,n,a)),"stderr"===n||"stdev"===n)s=[{op:n,field:c,as:"extent_"+c},{op:t,field:c,as:"center_"+c}],l=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:"upper_"+c},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:"lower_"+c}],f=[{fieldPrefix:"center_",titlePrefix:Q(t)},{fieldPrefix:"upper_",titlePrefix:Go(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:Go(t,n,"-")}],d=!0;else{let t,r,i;e.center&&e.extent&&On(function(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`}(e.extent,a)),"ci"===n?(t="mean",r="ci0",i="ci1"):(t="median",r="q1",i="q3"),s=[{op:r,field:c,as:"lower_"+c},{op:i,field:c,as:"upper_"+c},{op:t,field:c,as:"center_"+c}],f=[{fieldPrefix:"upper_",titlePrefix:Ki({field:c,aggregate:i,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ki({field:c,aggregate:r,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ki({field:c,aggregate:t,type:"quantitative"},u,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&On((p=e.center,`${(h=e.extent)?"extent ":""}${h&&p?"and ":""}${p?"center ":""}${h&&p?"are ":"is "}not needed when data are aggregated.`)),"aggregated-upper-lower"===o?(f=[],l=[{calculate:`datum["${n.field}"]`,as:"upper_"+c},{calculate:`datum["${c}"]`,as:"lower_"+c}]):"aggregated-error"===o&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:"upper_"+c}],i?l.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:"lower_"+c}):l.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:"lower_"+c}));for(const e of l)f.push({fieldPrefix:e.as.substring(0,6),titlePrefix:te(te(e.calculate,'datum["',""),'"]',"")})}var p,h;return{postAggregateCalculates:l,errorBarSpecificAggregate:s,tooltipSummary:f,tooltipTitleWithFieldName:d}}(l,d,p,h,m,f,t,n),w=o,E=g,k=(w[E],"x"===g?"x2":"y2"),C=(w[k],"x"===g?"xError":"yError"),S=(w[C],"x"===g?"xError2":"yError2"),A=(w[S],_(w,["symbol"==typeof E?E:E+"","symbol"==typeof k?k:k+"","symbol"==typeof C?C:C+"","symbol"==typeof S?S:S+""])),{bins:O,timeUnits:M,aggregate:D,groupby:P,encoding:T}=So(A,n),F=[...D,...v],N="raw"!==f?[]:P,j=To(b,d,T,x);return{transform:[...null!==(r=s.transform)&&void 0!==r?r:[],...O,...M,...0===F.length?[]:[{aggregate:F,groupby:N}],...y],groupby:N,continuousAxisChannelDef:d,continuousAxis:g,encodingWithoutContinuousAxis:T,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:l,outerSpec:s,tooltipEncoding:j}}function Go(e,t,n){return Q(e)+" "+n+" "+t}const Yo=new Ie("errorband",Xo);function Xo(e,{config:t}){const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:u,tooltipEncoding:s}=Vo(e,"errorband",t),l=a,c=No(l,i,r,o,t.errorband),f=void 0!==e.encoding.x&&void 0!==e.encoding.y;let d={type:f?"area":"rect"},p={type:f?"line":"rule"};const h=Object.assign(Object.assign({},l.interpolate?{interpolate:l.interpolate}:{}),l.tension&&l.interpolate?{tension:l.tension}:{});return f?(d=Object.assign(Object.assign(Object.assign({},d),h),{ariaRoleDescription:"errorband"}),p=Object.assign(Object.assign({},p),h)):l.interpolate?On(_n("interpolate")):l.tension&&On(_n("tension")),Object.assign(Object.assign({},u),{transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:s}),...c({partName:"borders",mark:p,positionPrefix:"lower",aria:!1,extraEncoding:s}),...c({partName:"borders",mark:p,positionPrefix:"upper",aria:!1,extraEncoding:s})]})}const Ko={};function Qo(e,t,n){const r=new Ie(e,t);Ko[e]={normalizer:r,parts:n}}Qo("boxplot",$o,["box","median","outliers","rule","ticks"]),Qo("errorbar",Wo,["ticks","rule"]),Qo("errorband",Xo,["band","borders"]);const Jo=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Zo=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],ea={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},ta={single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function na(e){return!(!e||"legend"!==e&&!e.legend)}function ra(e){return na(e)&&a(e)}function ia(e){return"concat"in e}function oa(e){return"vconcat"in e}function aa(e){return"hconcat"in e}function ua(e){return a(e)&&void 0!==e.step}function sa(e){return e.view||e.width||e.height}const la=W({align:1,bounds:1,center:1,columns:1,spacing:1});function ca(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function fa(e,t){const n=da(e,t);return ua(n)?n.step:pa}function da(e,t){var n;return ie(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}const pa=20,ha={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:pa},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:Be,circle:{},geoshape:{},image:{},line:{},point:{},rect:Le,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:ta,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},ma=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],ga={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},va={blue:ma[0],orange:ma[1],red:ma[2],teal:ma[3],green:ma[4],yellow:ma[5],purple:ma[6],pink:ma[7],brown:ma[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function ya(e={}){const{color:t,font:n,fontSize:r}=e,i=_(e,["color","font","fontSize"]);return p({},ha,n?function(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}(n):{},t?function(e={}){return{signals:[{name:"color",value:a(e)?Object.assign(Object.assign({},va),e):va}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}(t):{},r?function(e){return{signals:[{name:"fontSize",value:a(e)?Object.assign(Object.assign({},ga),e):ga}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}(r):{},i||{})}const ba=["view",...Te],xa=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],wa=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function _a(e){e=D(e);for(const t of xa)delete e[t];if(e.axis)for(const t in e.axis)le(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of Jo)delete e.legend[t];if(e.mark){for(const t of je)delete e.mark[t];e.mark.tooltip&&a(e.mark.tooltip)&&delete e.mark.tooltip}for(const t of ba){for(const n of je)delete e[t][n];const n=wa[t];if(n)for(const r of n)delete e[t][r];Ea(e,t)}for(const t of W(Ko))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=fo(e.title);W(t).length>0&&(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),W(n).length>0&&(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),W(r).length>0?e.title=r:delete e.title}(e);for(const t in e)a(e[t])&&0===W(e[t]).length&&delete e[t];return W(e).length>0?e:void 0}function Ea(e,t,n,r){const i=r?e[t][r]:e[t];"view"===t&&(n="cell");const o=Object.assign(Object.assign({},i),e.style[null!=n?n:t]);W(o).length>0&&(e.style[null!=n?n:t]=o),r||delete e[t]}function ka(e){return"layer"in e}class Ca{map(e,t){return ki(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):aa(e)?this.mapHConcat(e,t):oa(e)?this.mapVConcat(e,t):ia(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(ka(e))return this.mapLayer(e,t);if(ze(e))return this.mapUnit(e,t);throw new Error(Jt(e))}mapLayer(e,t){return Object.assign(Object.assign({},e),{layer:e.layer.map(e=>this.mapLayerOrUnit(e,t))})}mapHConcat(e,t){return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map(e=>this.map(e,t))})}mapVConcat(e,t){return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map(e=>this.map(e,t))})}mapConcat(e,t){const{concat:n}=e,r=_(e,["concat"]);return Object.assign(Object.assign({},r),{concat:n.map(e=>this.map(e,t))})}mapFacet(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}const Sa={zero:1,center:1,normalize:1},Aa=[ge,ye,ve,Ee,we,Ae,Oe,xe,ke,Ce],Oa=[ye,ve,ge];function Ma(e,t,n){var r,i;const o="x"===n?"y":"radius",a=e[n],u=e[o];if(Ti(a)&&Ti(u))if("quantitative"===Fi(a)&&"quantitative"===Fi(u)){if(a.stack)return n;if(u.stack)return o;const e=Ti(a)&&!!a.aggregate;if(e!==(Ti(u)&&!!u.aggregate))return e?n:o;{const e=null===(r=a.scale)||void 0===r?void 0:r.type,t=null===(i=u.scale)||void 0===i?void 0:i.type;if(e&&"linear"!==e)return o;if(t&&"linear"!==t)return n}}else{if("quantitative"===Fi(a))return n;if("quantitative"===Fi(u))return o}else{if("quantitative"===Fi(a))return n;if("quantitative"===Fi(u))return o}}function Da(e,t,n={}){const r=Fe(e)?e.type:e;if(!R(Aa,r))return null;const i=Ma(t,0,"x")||Ma(t,0,"theta");if(!i)return null;const o=t[i],a=Ti(o)?Wi(o,{}):void 0;let u=function(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}(i),s=t[u],l=Ti(s)?Wi(s,{}):void 0;l===a&&(l=void 0,s=void 0,u=void 0);const c=Dt.reduce((e,n)=>{if("tooltip"!==n&&ko(t,n)){const r=t[n];for(const t of g(r)){const r=eo(t);if(r.aggregate)continue;const i=Wi(r,{});i&&i===l||e.push({channel:n,fieldDef:r})}}return e},[]);let f;if(void 0!==o.stack?f=b(o.stack)?o.stack?"zero":null:o.stack:c.length>0&&R(Oa,r)&&(f="zero"),!f||!(f in Sa))return null;var d;if(Co(t)&&0===c.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==gr){if(n.disallowNonLinearStack)return null;On(function(e){return`Cannot stack non-linear scale (${e}).`}(o.scale.type))}return Bi(t[At(i)])?(void 0!==o.stack&&On(`Cannot stack "${d=i}" if there is already "${d}2".`),null):(Ti(o)&&o.aggregate&&!R(Ye,o.aggregate)&&On(`Stacking is applied even though the aggregate function is non-summative ("${o.aggregate}").`),{groupbyChannel:s?u:void 0,groupbyField:l,fieldChannel:i,impute:null!==o.impute&&De(r),stackBy:c,offset:f})}function Pa(e){const t=_(e,["point","line"]);return W(t).length>1?t:t.type}function Ta(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:T(e[t],["point","line"])}));return e}function Fa(e,t={},n){return"transparent"===e.point?{opacity:0}:e.point?a(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?a(t.point)?t.point:{}:void 0}function Na(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class ja{constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(ze(e)){const{mark:n,encoding:r}=e,i=Fe(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Fa(i,t[i.type],r);case"area":return!!Fa(i,t[i.type],r)||!!Na(i,t[i.type])}}return!1}run(e,t,n){const{config:r}=t,{selection:i,projection:o,encoding:a,mark:u}=e,s=_(e,["selection","projection","encoding","mark"]),l=Fe(u)?u:{type:u},c=Fa(l,r[l.type],a),f="area"===l.type&&Na(l,r[l.type]),d=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:Pa(Object.assign(Object.assign({},"area"===l.type&&void 0===l.opacity&&void 0===l.fillOpacity?{opacity:.7}:{}),l)),encoding:T(a,["shape"])})],p=Da(l,a);let h=a;if(p){const{fieldChannel:e,offset:t}=p;h=Object.assign(Object.assign({},a),{[e]:Object.assign(Object.assign({},a[e]),t?{stack:t}:{})})}return f&&d.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"line"},P(l,["clip","interpolate","tension","tooltip"])),f),encoding:h})),c&&d.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},P(l,["clip","tooltip"])),c),encoding:h})),n(Object.assign(Object.assign({},s),{layer:d}),Object.assign(Object.assign({},t),{config:Ta(r)}))}}class Ra{constructor(){this.name="RangeStep"}hasMatchingType(e){var t;if(ze(e)&&e.encoding)for(const n of Tt){const r=e.encoding[n];if(r&&Bi(r)&&(null===(t=null==r?void 0:r.scale)||void 0===t?void 0:t.rangeStep))return!0}return!1}run(e){var t;const n={};let r=Object.assign({},e.encoding);for(const e of Tt){const i=Ot(e),o=r[e];if(o&&Bi(o)&&(null===(t=null==o?void 0:o.scale)||void 0===t?void 0:t.rangeStep)){const{scale:t}=o,a=_(o,["scale"]),u=_(t,["rangeStep"]);n[i]={step:t.rangeStep},On('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.'),r=Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},a),W(u).length>0?{scale:u}:{})})}}return Object.assign(Object.assign(Object.assign({},n),e),{encoding:r})}}function Ba(e,t){return t?_i(e)?qa(e,t):Ia(e,t):e}function La(e,t){return t?qa(e,t):e}function za(e,t,n){const r=t[e];return function(e){return e&&!u(e)&&"repeat"in e}(r)?r.repeat in n?Object.assign(Object.assign({},t),{[e]:n[r.repeat]}):void On(function(e){return`Unknown repeated value "${e}".`}(r.repeat)):t}function Ia(e,t){if(void 0!==(e=za("field",e,t))){if(null===e)return null;if(Si(e)&&xi(e.sort)){const n=za("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function $a(e,t){if(Ti(e))return Ia(e,t);{const n=za("datum",e,t);return n===e||n.type||(n.type="nominal"),n}}function Ua(e,t){if(!Bi(e)){if(Pi(e)){const n=$a(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):_(e,["condition"])}return e}{const n=$a(e,t);if(n)return n;if(Mi(e))return{condition:e.condition}}}function qa(e,t){const n={};for(const r in e)if(y(e,r)){const i=e[r];if(o(i))n[r]=i.map(e=>Ua(e,t)).filter(e=>e);else{const e=Ua(i,t);void 0!==e&&(n[r]=e)}}return n}class Wa{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(ze(e)){const{encoding:t,mark:n}=e;if("line"===n)for(const e of Et){const n=t[Ct(e)];if(t[e]&&(Ti(n)&&!Yt(n.bin)||Ni(n)))return!0}}return!1}run(e,t,n){const{encoding:r}=e;var i,o;return On((i=!!r.x2,o=!!r.y2,`Line mark is for continuous lines and thus cannot be used with ${i&&o?"x2 and y2":i?"x2":"y2"}. We will use the rule mark (line segments) instead.`)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}function Ha(e){const{parentEncoding:t,encoding:n}=e;if(t&&n){const e=W(t).reduce((e,t)=>(n[t]&&e.push(t),e),[]);e.length>0&&On(`Layer's shared ${(r=e).join(",")} channel ${1===r.length?"is":"are"} overriden.`)}var r;const i=Object.assign(Object.assign({},null!=t?t:{}),null!=n?n:{});return W(i).length>0?i:void 0}function Va(e){const{parentProjection:t,projection:n}=e;return t&&n&&On(function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${F(t)} is overridden by a child projection ${F(n)}.`}({parentProjection:t,projection:n})),null!=n?n:t}function Ga(e,t){void 0===t&&(t=ya(e.config));const n=function(e,t={}){return Ya.map(e,{config:t})}(e,t),{width:r,height:i}=e,o=function(e,t,n){let{width:r,height:i}=t;const o=ze(e)||ka(e),a={};o?"container"==r&&"container"==i?(a.type="fit",a.contains="padding"):"container"==r?(a.type="fit-x",a.contains="padding"):"container"==i&&(a.type="fit-y",a.contains="padding"):("container"==r&&(On(Zt("width")),r=void 0),"container"==i&&(On(Zt("height")),i=void 0));const u=Object.assign(Object.assign(Object.assign({type:"pad"},a),n?Xa(n.autosize):{}),Xa(e.autosize));if("fit"!==u.type||o||(On('Autosize "fit" only works for single views and layered views.'),u.type="pad"),"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&On(en("width")),"container"==i&&"fit"!=u.type&&"fit-y"!=u.type&&On(en("height")),!M(u,{type:"pad"}))return u}(n,{width:r,height:i,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const Ya=new class extends Ca{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[zo,qo,Yo,new ja,new Wa,new Ra]}map(e,t){if(ze(e)){const n=ko(e.encoding,Ke),r=ko(e.encoding,Qe),i=ko(e.encoding,"facet");if(n||r||i)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:r}=t,i=Object.assign(Object.assign({},e),{encoding:La(e.encoding,t.repeater)});if(n||r)return this.mapUnitWithParentEncodingOrProjection(i,t);const o=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(i,t.config))return e.run(i,t,o);return i}mapRepeat(e,t){return function(e){return!o(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}mapLayerRepeat(e,t){const{repeat:n,spec:r}=e,i=_(e,["repeat","spec"]),{row:o,column:a,layer:u}=n,{repeater:s={},repeaterPrefix:l=""}=t;return o||a?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),a?{column:a}:{}),spec:{repeat:{layer:u},spec:r}}),t):Object.assign(Object.assign({},i),{layer:u.map(e=>{const n=Object.assign(Object.assign({},s),{layer:e}),i=(r.name||"")+l+"child__layer_"+Y(e),o=this.mapLayerOrUnit(r,Object.assign(Object.assign({},t),{repeater:n,repeaterPrefix:i}));return o.name=i,o})})}mapNonLayerRepeat(e,t){var n;const{repeat:r,spec:i,data:a}=e,u=_(e,["repeat","spec","data"]);!o(r)&&e.columns&&(e=T(e,["columns"]),On(an("repeat")));const s=[],{repeater:l={},repeaterPrefix:c=""}=t,f=!o(r)&&r.row||[l?l.row:null],d=!o(r)&&r.column||[l?l.column:null],p=o(r)&&r||[l?l.repeat:null];for(const e of p)for(const n of f)for(const a of d){const u={repeat:e,row:n,column:a,layer:l.layer},f=(i.name||"")+c+"child__"+(o(r)?""+Y(e):(r.row?"row_"+Y(n):"")+(r.column?"column_"+Y(a):"")),d=this.map(i,Object.assign(Object.assign({},t),{repeater:u,repeaterPrefix:f}));d.name=f,s.push(T(d,["data"]))}const h=o(r)?e.columns:r.column?r.column.length:1;return Object.assign(Object.assign({data:null!==(n=i.data)&&void 0!==n?n:a,align:"all"},u),{columns:h,concat:s})}mapFacet(e,t){const{facet:n}=e;return _i(n)&&e.columns&&(e=T(e,["columns"]),On(an("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:r}=e,{parentEncoding:i,parentProjection:o,config:a}=t,u=Va({parentProjection:o,projection:r}),s=Ha({parentEncoding:i,encoding:La(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),s?{encoding:s}:{}),{config:a})}mapFacetedUnit(e,t){const n=e.encoding,{row:r,column:i,facet:o}=n,a=_(n,["row","column","facet"]),{mark:u,width:s,projection:l,height:c,view:f,selection:d,encoding:p}=e,h=_(e,["mark","width","projection","height","view","selection","encoding"]),{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},t),v=La(a,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),g),{facet:m,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),c?{height:c}:{}),f?{view:f}:{}),l?{projection:l}:{}),{mark:u,encoding:v}),d?{selection:d}:{})}),t)}getFacetMappingAndLayout(e,t){var n;const{row:r,column:i,facet:o}=e;if(r||i){o&&On(`Facet encoding dropped as ${(a=[...r?[Ke]:[],...i?[Qe]:[]]).join(" and ")} ${a.length>1?"are":"is"} also specified.`);const t={},u={};for(const r of[Ke,Qe]){const i=e[r];if(i){const e=_(i,["align","center","spacing","columns"]);t[r]=e;for(const e of["align","center","spacing"])void 0!==i[e]&&(u[e]=null!==(n=u[e])&&void 0!==n?n:{},u[e][r]=i[e])}}return{facetMapping:t,layout:u}}{const{align:e,center:n,spacing:r,columns:i}=o;return{facetMapping:Ba(_(o,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},e?{align:e}:{}),n?{center:n}:{}),r?{spacing:r}:{}),i?{columns:i}:{})}}var a}mapLayer(e,t){var{parentEncoding:n,parentProjection:r}=t,i=_(t,["parentEncoding","parentProjection"]);const{encoding:o,projection:a}=e,u=_(e,["encoding","projection"]),s=Object.assign(Object.assign({},i),{parentEncoding:Ha({parentEncoding:n,encoding:o}),parentProjection:Va({parentProjection:r,projection:a})});return super.mapLayer(u,s)}};function Xa(e){return u(e)?{type:e}:null!=e?e:{}}const Ka=["background","padding"];function Qa(e){return Ka.reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}function Ja(e){return"url"in e}function Za(e){return"values"in e}function eu(e){return"name"in e&&!Ja(e)&&!Za(e)&&!tu(e)}function tu(e){return e&&(nu(e)||ru(e)||iu(e))}function nu(e){return"sequence"in e}function ru(e){return"sphere"in e}function iu(e){return"graticule"in e}const ou="main";function au(e){return"filter"in e}function uu(e){return void 0!==(null==e?void 0:e.stop)}function su(e){return"lookup"in e}function lu(e){return"pivot"in e}function cu(e){return"density"in e}function fu(e){return"quantile"in e}function du(e){return"regression"in e}function pu(e){return"loess"in e}function hu(e){return"sample"in e}function mu(e){return"window"in e}function gu(e){return"joinaggregate"in e}function vu(e){return"flatten"in e}function yu(e){return"calculate"in e}function bu(e){return"bin"in e}function xu(e){return"impute"in e}function wu(e){return"timeUnit"in e}function _u(e){return"aggregate"in e}function Eu(e){return"stack"in e}function ku(e){return"fold"in e}function Cu(e,t,n){return Su=t||Ou,Au=n||Du,Tu(e.trim()).map(Fu)}var Su,Au,Ou="view",Mu=/[[\]{}]/,Du={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function Pu(e,t,n,r,i){for(var o,a=0,u=e.length;t<u;++t){if(o=e[t],!a&&o===n)return t;i&&i.indexOf(o)>=0?--a:r&&r.indexOf(o)>=0&&++a}return t}function Tu(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=Pu(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function Fu(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=Pu(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=Tu(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;return t=t.map(Fu),(n=Fu(e.slice(1).trim())).between?{between:t,stream:n}:(n.between=t,n)}(e):function(e){var t,n,r={source:Su},i=[],o=[0,0],a=0,u=0,s=e.length,l=0;if("}"===e[s-1]){if(!((l=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(l+1,s-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,l).trim(),s=e.length,l=0}if(!s)throw e;if("@"===e[0]&&(a=++l),(t=Pu(e,l,":"))<s&&(i.push(e.substring(u,t).trim()),u=l=++t),(l=Pu(e,l,"["))===s)i.push(e.substring(u,s).trim());else if(i.push(e.substring(u,l).trim()),n=[],(u=++l)===s)throw"Unmatched left bracket: "+e;for(;l<s;){if((l=Pu(e,l,"]"))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(u,l).trim()),l<s-1&&"["!==e[++l])throw"Expected left bracket: "+e;u=++l}if(!(s=i.length)||Mu.test(i[s-1]))throw"Invalid event selector: "+e;return s>1?(r.type=i[1],a?r.markname=i[0].slice(1):function(e){return Au[e]}(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=n&&(r.filter=n),o[0]&&(r.throttle=o[0]),o[1]&&(r.debounce=o[1]),r}(e)}function Nu(e,t,n,r){const i=Mi(t)&&t.condition,o=r(t);return i?{[n]:[...g(i).map(t=>{const n=r(t),i=function(e){return e.selection}(t)?Wl(e,t.selection):Vl(e,t.test);return Object.assign({test:i},n)}),...void 0!==o?[o]:[]]}:void 0!==o?{[n]:o}:{}}function ju(e,t="text"){const n=e.encoding[t];return Nu(e,n,t,t=>Ru(t,e.config))}function Ru(e,t,n="datum"){if(e){if(zi(e))return ho(e.value);if(Bi(e)){const{format:r,formatType:i}=Zi(e);return ui({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Bu(e,t={}){const{encoding:n,markDef:r,config:i,stack:s}=e,l=n.tooltip;if(o(l))return{tooltip:zu({tooltip:l},s,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return Nu(e,l,"tooltip",e=>{const l=Ru(e,i,o);if(l)return l;if(null===e)return;let c=go("tooltip",r,i);return!0===c&&(c={content:"encoding"}),u(c)?{value:c}:a(c)?"encoding"===c.content?zu(n,s,i,t):{signal:o}:void 0})}}function Lu(e,t,n,{reactiveGeom:r}={}){const i={},o=r?"datum.datum":"datum",a=[];function u(r,u){const s=Ct(u),l=Li(r)?r:Object.assign(Object.assign({},r),{type:e[s].type}),c=g(Ki(l,n,{allowDisabling:!1})).join(", ");let f;if(Ft(u)){const r="x"===u?"x2":"y2",a=eo(e[r]);if(Yt(l.bin)&&a){const e=Wi(l,{expr:o}),t=Wi(a,{expr:o}),{format:u,formatType:s}=Zi(l);f=mi(e,t,u,s,n),i[r]=!0}else if(t&&t.fieldChannel===u&&"normalize"===t.offset){const{format:e,formatType:t}=Zi(l);f=ui({fieldOrDatumDef:l,format:e,formatType:t,expr:o,config:n,normalizeStack:!0}).signal}}f=null!=f?f:Ru(l,n,o).signal,a.push({channel:u,key:c,value:f})}Mo(e,(e,t)=>{Ti(e)?u(e,t):Di(e)&&u(e.condition,t)});const l={};for(const{channel:e,key:t,value:n}of a)i[e]||l[t]||(l[s(t)]=n);return l}function zu(e,t,n,{reactiveGeom:r}={}){const i=V(Lu(e,t,n,{reactiveGeom:r})).map(({key:e,value:t})=>`${e}: ${t}`);return i.length>0?{signal:`{${i.join(", ")}}`}:void 0}function Iu(e){const{markDef:t,config:n}=e,r=go("aria",t,n);return!1===r?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),function(e){const{mark:t,markDef:n,config:r}=e;if(!1===r.aria)return{};const i=go("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:t in Xn?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return Nu(e,o,"description",t=>Ru(t,e.config));const a=go("description",n,r);if(null!=a)return{description:{value:a}};if(!1===r.aria)return{};const u=Lu(t,i,r);return 0!==W(u).length?{description:{signal:V(u).map(({key:e,value:t})=>`${e} + ": " + (${t})`).join(' + "; " + ')}}:void 0}(e))}function $u(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:a}=n;let{defaultRef:u,defaultValue:s}=n;void 0===u&&(s=null!=s?s:go(e,r,o,{vgChannel:a,ignoreVgConfig:!0}),void 0!==s&&(u=ho(s)));const l=i[e];return Nu(t,l,null!=a?a:e,n=>ri({channel:e,channelDef:n,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u}))}function Uu(e,t={filled:void 0}){var n,r,i,o;const{markDef:a,encoding:u,config:s}=e,{type:l}=a,c=null!==(n=t.filled)&&void 0!==n?n:go("filled",a,s),f=R(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,d=null!==(i=null!==(r=go(!0===c?"color":void 0,a,s,{vgChannel:"fill"}))&&void 0!==r?r:s.mark[!0===c&&"color"])&&void 0!==i?i:f,p=null!==(o=go(!1===c?"color":void 0,a,s,{vgChannel:"stroke"}))&&void 0!==o?o:s.mark[!1===c&&"color"],h=c?"fill":"stroke",m=Object.assign(Object.assign({},d?{fill:ho(d)}:{}),p?{stroke:ho(p)}:{});return a.color&&(c?a.fill:a.stroke)&&On(cn("property",{fill:"fill"in a,stroke:"stroke"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},m),$u("color",e,{vgChannel:h,defaultValue:c?d:p})),$u("fill",e,{defaultValue:u.fill?d:void 0})),$u("stroke",e,{defaultValue:u.stroke?p:void 0}))}function qu(e,t){const n=t[function(e){switch(e){case Je:return"xOffset";case Ze:return"yOffset";case et:return"x2Offset";case tt:return"y2Offset";case rt:return"thetaOffset";case nt:return"radiusOffset";case it:return"theta2Offset";case"radius2":return"radius2Offset"}}(e)];if(n)return n}function Wu(e,t,{defaultPos:n,vgChannel:r,isMidPoint:i}){const{encoding:o,markDef:a,config:u,stack:s}=t,l=o[e],c=o[At(e)],f=t.scaleName(e),d=t.getScaleComponent(e),p=qu(e,a),h=Hu({model:t,defaultPos:n,channel:e,scaleName:f,scale:d}),m=!l&&Ft(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,isMidPoint:r,scaleName:i,stack:o,offset:a,markDef:u,config:s}=e;if(Bi(n)&&o&&t===o.fieldChannel){if(Ti(n)){const e=Ai({channel:t,fieldDef:n,isMidPoint:r,markDef:u,stack:o,config:s});if(void 0!==e)return ni({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:e,offset:a})}return ti(n,i,{suffix:"end"},{offset:a})}return Qr(e)}({channel:e,channelDef:l,channel2Def:c,markDef:a,config:u,isMidPoint:i,scaleName:f,scale:d,stack:s,offset:p,defaultRef:h});return m?{[r||e]:m}:void 0}function Hu({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:a}=e;return()=>{const u=Ct(n),s=St(n),l=go(n,o,a,{vgChannel:s});if(void 0!==l)return ii(n,l);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const e=i.get("type");if(R([vr,wr,_r],e));else if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}if("zeroOrMin"===t)return"y"===u?{field:{group:"height"}}:{value:0};switch(u){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const t=e[Ot(n)];return Object.assign(Object.assign({},t),{mult:.5})}}}}const Vu={left:"x",center:"xc",right:"x2"},Gu={top:"y",middle:"yc",bottom:"y2"};function Yu(e,t,n,r="middle"){if("radius"===e||"theta"===e)return St(e);const i=go("x"===e?"align":"baseline",t,n);return"x"===e?Vu[i||("top"===r?"left":"center")]:Gu[i||r]}function Xu(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?Ku(e,t,{defaultPos:n,defaultPos2:r}):Wu(e,t,{defaultPos:n})}function Ku(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,a=At(e),u=Ot(e),s=function(e,t,n){const{encoding:r,mark:i,markDef:o,stack:a,config:u}=e,s=Ct(n),l=Ot(n),c=St(n),f=r[s],d=e.scaleName(s),p=e.getScaleComponent(s),h=qu(n in r||n in o?n:s,e.markDef);if(!f&&("x2"===n||"y2"===n)&&(r.latitude||r.longitude))return{[c]:{field:e.getName(n)}};const m=function({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:a,stack:u,offset:s,defaultRef:l}){return Bi(t)&&u&&e.charAt(0)===u.fieldChannel.charAt(0)?ti(t,o,{suffix:"start"},{offset:s}):Qr({channel:e,channelDef:n,scaleName:o,scale:a,stack:u,markDef:r,config:i,offset:s,defaultRef:l})}({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:u,scaleName:d,scale:p,stack:a,offset:h,defaultRef:void 0});return void 0!==m?{[c]:m}:Qu(n,o)||Qu(n,{[n]:yo(n,o,u.style),[l]:yo(l,o,u.style)})||Qu(n,u[i])||Qu(n,u.mark)||{[c]:Hu({model:e,defaultPos:t,channel:n,scaleName:d,scale:p})()}}(t,r,a),l=s[u]?Yu(e,i,o):St(e);return Object.assign(Object.assign({},Wu(e,t,{defaultPos:n,vgChannel:l})),s)}function Qu(e,t){const n=Ot(e),r=St(e);return void 0!==t[r]?{[r]:ii(e,t[r])}:void 0!==t[e]?{[r]:ii(e,t[e])}:t[n]?{[n]:ii(e,t[n])}:void 0}function Ju(e,t,n){var r,i,a,u;const{config:s,encoding:l,markDef:c,stack:f}=e,d=At(t),p=Ot(t),h=l[t],m=l[d],g=e.getScaleComponent(t),v=g?g.get("type"):void 0,y=e.scaleName(t),b=c.orient,x=null!==(i=null!==(r=l[p])&&void 0!==r?r:l.size)&&void 0!==i?i:go("size",c,s,{vgChannel:p}),w="bar"===n&&("x"===t?"vertical"===b:"horizontal"===b);if(Ti(h)&&(Gt(h.bin)||Yt(h.bin)||h.timeUnit&&!m)&&!x&&!zr(v)){const n=Ai({channel:t,fieldDef:h,stack:f,markDef:c,config:s}),r=null===(a=e.component.axes[t])||void 0===a?void 0:a[0];return function({fieldDef:e,fieldDef2:t,channel:n,band:r,scaleName:i,markDef:o,spacing:a=0,axisTranslate:u,reverse:s,config:l}){const c=At(n),f=St(n),d=St(c),p=qu(n,o);return Gt(e.bin)||e.timeUnit?{[d]:ts({channel:n,fieldDef:e,scaleName:i,markDef:o,band:(1-r)/2,offset:es(c,a,s,u,p),config:l}),[f]:ts({channel:n,fieldDef:e,scaleName:i,markDef:o,band:1-(1-r)/2,offset:es(n,a,s,u,p),config:l})}:Yt(e.bin)&&Ti(t)?{[d]:ti(e,i,{},{offset:es(c,a,s,u,p)}),[f]:ti(t,i,{},{offset:es(n,a,s,u,p)})}:void On(En(c))}({fieldDef:h,fieldDef2:m,channel:t,markDef:c,scaleName:y,band:n,axisTranslate:null!==(u=null==r?void 0:r.get("translate"))&&void 0!==u?u:.5,spacing:Ft(t)?go("binSpacing",c,s):void 0,reverse:g.get("reverse"),config:s})}return(Bi(h)&&zr(v)||w)&&!m?function(e,t,n,r){var i;const{markDef:a,encoding:u,config:s,stack:l}=r,c=a.orient,f=r.scaleName(n),d=r.getScaleComponent(n),p=Ot(n),h=At(n),m="horizontal"===c&&"y"===n||"vertical"===c&&"x"===n,g=go(m?"size":p,a,s,{vgChannel:p});let v;(u.size||void 0!==g)&&(m?v=$u("size",r,{vgChannel:p,defaultValue:g}):On(function(e){return`Cannot apply size to non-oriented mark "${e}".`}(a.type)));const y=null!==(i=Bi(t)?Ai({channel:n,fieldDef:t,markDef:a,stack:l,config:s}):void 0)&&void 0!==i?i:1;v=v||{[p]:Zu(e,p,f,d,s,y)};const b="band"!==(null==d?void 0:d.get("type"))||!("band"in v[p]),x=Yu(n,a,s,b?"middle":"top"),w=qu(n,a),_=Qr({channel:n,channelDef:t,markDef:a,config:s,scaleName:f,scale:d,stack:l,offset:w,defaultRef:Hu({model:r,defaultPos:"mid",channel:n,scaleName:f,scale:d}),band:b?.5:(1-y)/2});if(p)return Object.assign({[x]:_},v);{const e=St(h),t=v[p],n=w?Object.assign(Object.assign({},t),{offset:w}):t;return{[x]:_,[e]:o(_)?[_[0],Object.assign(Object.assign({},_[1]),{offset:n})]:Object.assign(Object.assign({},_),{offset:n})}}}(n,h,t,e):Ku(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Zu(e,t,n,r,i,o){if(r){const t=r.get("type");if("point"===t||"band"===t){if(void 0!==i[e].discreteBandSize)return{value:i[e].discreteBandSize};if(t===Sr){const e=r.get("range");return Vn(e)&&x(e.step)?{value:e.step-2}:{value:pa-2}}return{scale:n,band:o}}return{value:i[e].continuousBandSize}}const a=fa(i.view,t),u=ie(i[e].discreteBandSize,a-2);return void 0!==u?{value:u}:void 0}function es(e,t,n,r,i){if(ft(e))return 0;const o="x"===e||"y2"===e?-t/2:t/2;if(Hn(n)){const e=Hn(i)?i.signal:i?""+i:"";return{signal:`${n.signal} ? ${r-o}${e?"-"+e:""} : ${r+o}${e?"+"+e:""}`}}if(Hn(i)){const e=r+(n?-o:o);return{signal:`${e||""}${n?" - ":e?" + ":""}${i.signal}`}}return i=i||0,r+(n?-i-o:+i+o)}function ts({channel:e,fieldDef:t,scaleName:n,markDef:r,band:i,offset:o,config:a}){return Jr({fieldDef:t,channel:e,markDef:r,ref:ni({scaleName:n,fieldOrDatumDef:t,band:i,offset:o}),config:a})}const ns=new Set(["aria"]);function rs(e,t){const{fill:n,stroke:r}="include"===t.color?Uu(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return Yn.reduce((n,r)=>(ns.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=ho(e[r])),n),{})}(e.markDef,t)),is(e,"fill",n)),is(e,"stroke",r)),$u("opacity",e)),$u("fillOpacity",e)),$u("strokeOpacity",e)),$u("strokeWidth",e)),$u("strokeDash",e)),Bu(e)),ju(e,"href")),Iu(e))}function is(e,t,n){const{config:r,mark:i,markDef:o}=e;if("hide"===go("invalid",o,r)&&n&&!De(i)){const r=function(e,{invalid:t=!1,channels:n}){const r=n.reduce((t,n)=>{const r=e.getScaleComponent(n);if(r){const i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&Ir(i)&&(t[o]=!0)}return t},{}),i=W(r);if(i.length>0){const e=t?"||":"&&";return i.map(e=>ei(e,t)).join(` ${e} `)}}(e,{invalid:!0,channels:It});if(r)return{[t]:[{test:r,value:null},...g(n)]}}return n?{[t]:n}:{}}function os(e){const{config:t,markDef:n}=e;if(go("invalid",n,t)){const t=function(e,{invalid:t=!1,channels:n}){const r=n.reduce((t,n)=>{const r=e.getScaleComponent(n);if(r){const i=r.get("type"),o=e.vgField(n,{expr:"datum"});o&&Ir(i)&&(t[o]=!0)}return t},{}),i=W(r);if(i.length>0){const e=t?"||":"&&";return i.map(e=>ei(e,t)).join(` ${e} `)}}(e,{channels:Tt});if(t)return{defined:{signal:t}}}return{}}function as(e,t){if(void 0!==t)return{[e]:ho(t)}}const us={has:e=>"interval"!==e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName("voronoi")},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(De(o))return On(`The "nearest" transform is not supported for ${o} marks.`),n;const a={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Bu(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let u=0,s=!1;return n.forEach((t,n)=>{var r;const i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?u=n:i.indexOf("voronoi")>=0&&(s=!0)}),s||n.splice(u+1,0,a),n}};class ss{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}}class ls extends ss{constructor(e,t,n,r){super(e,t),this.type=n,this.refCounts=r,this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash="Output "+function(e){const t=++oe;return e?String(e)+t:t}()),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}class cs extends ss{constructor(e,t){super(e),this.formula=t}clone(){return new cs(null,D(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,r)=>{const{field:i,timeUnit:o}=n,a=Sd(t)?t.encoding[At(r)]:void 0,u=Sd(t)&&Oi(r,n,a,t.stack,t.markDef,t.config);if(o){const t=Wi(n,{forAs:!0});e[N({as:t,field:i,timeUnit:o})]=Object.assign({as:t,field:i,timeUnit:o},u?{band:!0}:{})}return e},{});return 0===W(n).length?null:new cs(e,n)}static makeFromTransform(e,t){const n=Object.assign({},t),{timeUnit:r}=n,i=_(n,["timeUnit"]),o=Wn(r),a=Object.assign(Object.assign({},i),{timeUnit:o});return new cs(e,{[N(a)]:a})}merge(e){this.formula=Object.assign({},this.formula);for(const t in e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(H(this.formula).map(e=>e.as))}dependentFields(){return new Set(H(this.formula).map(e=>e.field))}hash(){return"TimeUnit "+N(this.formula)}assemble(){const e=[];for(const t of H(this.formula)){const{field:n,as:r,timeUnit:i}=t,o=Wn(i),{unit:a,utc:u}=o,s=_(o,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:n,type:"timeunit"},a?{units:In(a)}:{}),u?{timezone:"utc"}:{}),s),{as:[r,r+"_end"]}))}return e}}class fs{constructor(...e){this.items=e,this.hasChannel={},this.hasField={}}}const ds={has:e=>"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!na(e.bind),parse:(e,t,n,r)=>{r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,a=t.init&&t.init[0],u=us.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((e,i)=>{var l,c;const f=Y(`${r}_${e.field}`);n.filter(e=>e.name===f).length||n.unshift(Object.assign(Object.assign({name:f},a?{init:Ss(a[i])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${u}[${s(e.field)}] : null`}]:[],bind:null!==(c=null!==(l=o[e.field])&&void 0!==l?l:o[e.channel])&&void 0!==c?c:o}))}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(e=>e.name===r+Rs)[0],a=r+"_tuple_fields",u=i.items.map(e=>Y(`${r}_${e.field}`)),s=u.map(e=>e+" !== null").join(" && ");return u.length&&(o.update=`${s} ? {fields: ${a}, values: [${u.join(", ")}]} : null`),delete o.value,delete o.on,n}},ps={has:e=>"multi"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Rs,r=t.name+"_toggle";return`${r} ? null : ${n}, `+("global"===t.resolve?r+" ? null : true, ":`${r} ? null : {unit: ${$s(e)}}, `)+`${r} ? ${n} : null`}},hs={has:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t,n)=>{n.clear&&(t.clear=u(n.clear)?Cu(n.clear,"scope"):n.clear)},topLevelSignals:(e,t,n)=>{if(ds.has(t))for(const e of t.project.items){const r=n.findIndex(n=>n.name===Y(`${t.name}_${e.field}`));-1!==r&&n[r].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type)for(const e of t.project.items){const t=n.findIndex(t=>t.name===e.signals.visual);r(t,"[0, 0]"),-1===t&&r(n.findIndex(t=>t.name===e.signals.data),"null")}else{let e=n.findIndex(e=>e.name===t.name+Rs);r(e,"null"),ps.has(t)&&(e=n.findIndex(e=>e.name===t.name+"_toggle"),r(e,"false"))}return n}},ms={has:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!$t(i))continue;const o=e.getScaleComponent(i),a=o?o.get("type"):void 0;if(!o||!Ir(a)){On("Scale bindings are currently only supported for scales with unbinned, continuous domains.");continue}const u={selection:t.name,field:r.field};o.set("selectionExtent",u,!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(e=>0===n.filter(t=>t.name===e.signals.data).length);if(!e.parent||vs(e)||0===r.length)return n;const i=n.filter(e=>e.name===t.name)[0];let o=i.update;if(o.indexOf(Ls)>=0)i.update=`{${r.map(e=>`${s(e.field)}: ${e.signals.data}`).join(", ")}}`;else{for(const e of r){const t=`${s(e.field)}: ${e.signals.data}`;o.indexOf(t)<0&&(o=`${o.substring(0,o.length-1)}, ${t}}`)}i.update=o}return n.concat(r.map(e=>({name:e.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!vs(e))for(const e of t.scales){const t=n.filter(t=>t.name===e.signals.data)[0];t.push="outer",delete t.value,delete t.update}return n}};function gs(e,t){return`domain(${s(e.scaleName(t))})`}function vs(e){var t;return e.parent&&Md(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:vs(e.parent.parent))}const ys={has:e=>{const t="global"===e.resolve&&e.bind&&na(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&On("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:(e,t,n,r)=>{var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){const e='event.item && indexof(event.item.mark.role, "legend") < 0';for(const n of t.events)n.filter=g(null!==(i=n.filter)&&void 0!==i?i:[]),n.filter.indexOf(e)<0&&n.filter.push(e)}const o=ra(t.bind)?t.bind.legend:"click",a=u(o)?Cu(o,"view"):g(o);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=ra(t.bind)&&t.bind.legend,o=e=>t=>{const n=D(t);return n.markname=e,n};for(const e of t.project.items){if(!e.hasLegend)continue;const a=Y(e.field)+"_legend",u=`${r}_${a}`;if(0===n.filter(e=>e.name===u).length){const e=i.merge.map(o(a+"_symbols")).concat(i.merge.map(o(a+"_labels"))).concat(i.merge.map(o(a+"_entries")));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:e,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : "+u,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(e=>e.name===r+Rs),a=r+"_tuple_fields",u=i.items.filter(e=>e.hasLegend).map(e=>Y(`${r}_${Y(e.field)}_legend`)),s=`${u.map(e=>e+" !== null").join(" && ")} ? {fields: ${a}, values: [${u.join(", ")}]} : null`;t.events&&u.length>0?o.on.push({events:u.map(e=>({signal:e})),update:s}):u.length>0&&(o.update=s,delete o.value,delete o.on);const l=n.find(e=>e.name===r+"_toggle"),c=ra(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:c})):l.on[0].events=c),n}},bs="_translate_delta",xs={has:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const r=t.name,i=ms.has(t),o=r+"_translate_anchor",{x:a,y:u}=t.project.hasChannel;let s=Cu(t.translate,"scope");return i||(s=s.map(e=>(e.between[0].markname=r+Ms,e))),n.push({name:o,value:{},on:[{events:s.map(e=>e.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?", extent_x: "+(i?gs(e,Je):`slice(${a.signals.visual})`):"")+(void 0!==u?", extent_y: "+(i?gs(e,Ze):`slice(${u.signals.visual})`):"")+"}"}]},{name:r+bs,value:{},on:[{events:s,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&ws(e,t,a,"width",n),void 0!==u&&ws(e,t,u,"height",n),n}};function ws(e,t,n,r,i){var o;const a=t.name,u=a+"_translate_anchor",s=a+bs,l=n.channel,c=ms.has(t),f=i.filter(e=>e.name===n.signals[c?"data":"visual"])[0],d=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(l),h=p.get("type"),m=`${u}.extent_${l}`,g=`${c?"log"===h?"panLog":"pow"===h?"panPow":"panLinear":"panLinear"}(${m}, ${`${c&&l===Je?"-":""}${s}.${l} / `+(c?""+d:`span(${m})`)}`+(c&&"pow"===h?", "+(null!==(o=p.get("exponent"))&&void 0!==o?o:1):"")+")";f.on.push({events:{signal:s},update:c?g:`clampRange(${g}, 0, ${d})`})}const _s={has:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=ms.has(t),o=r+"_zoom_delta",{x:a,y:u}=t.project.hasChannel,l=s(e.scaleName(Je)),c=s(e.scaleName(Ze));let f=Cu(t.zoom,"scope");return i||(f=f.map(e=>(e.markname=r+Ms,e))),n.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(e=>!!e).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&Es(e,t,a,"width",n),void 0!==u&&Es(e,t,u,"height",n),n}};function Es(e,t,n,r,i){var o;const a=t.name,u=n.channel,s=ms.has(t),l=i.filter(e=>e.name===n.signals[s?"data":"visual"])[0],c=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(u),d=f.get("type"),p=s?gs(e,u):l.name,h=a+"_zoom_delta",m=`${s?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear"}(${p}, ${a}_zoom_anchor.${u}, ${h}`+(s&&"pow"===d?", "+(null!==(o=f.get("exponent"))&&void 0!==o?o:1):"")+")";l.on.push({events:{signal:h},update:s?m:`clampRange(${m}, 0, ${c})`})}const ks=[{has:()=>!0,parse:(e,t,n)=>{var r,i,o;const a=t.name,u=null!==(r=t.project)&&void 0!==r?r:t.project=new fs,s={},l={},c=new Set,f=(e,t)=>{const n="visual"===t?e.channel:e.field;let r=Y(`${a}_${n}`);for(let e=1;c.has(r);e++)r=Y(`${a}_${n}_${e}`);return c.add(r),{[t]:r}};if(!n.fields&&!n.encodings){const t=e.config.selection[n.type];if(n.init)for(const e of g(n.init))for(const r of W(e))wt[r]?(n.encodings||(n.encodings=[])).push(r):"interval"===n.type?(On('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=t.encodings):(n.fields||(n.fields=[])).push(r);else n.encodings=t.encodings,n.fields=t.fields}for(const e of null!==(i=n.fields)&&void 0!==i?i:[]){const t={type:"E",field:e};t.signals=Object.assign({},f(t,"data")),u.items.push(t),u.hasField[e]=t}for(const r of null!==(o=n.encodings)&&void 0!==o?o:[]){const n=e.fieldDef(r);if(n){let i=n.field;if(n.aggregate){On(rn(r,n.aggregate));continue}if(!i){On(nn(r));continue}if(n.timeUnit){i=e.vgField(r);const t={timeUnit:n.timeUnit,as:i,field:n.field};l[N(t)]=t}if(!s[i]){let o="E";"interval"===t.type?Ir(e.getScaleComponent(r).get("type"))&&(o="R"):n.bin&&(o="R-RE");const a={field:i,channel:r,type:o};a.signals=Object.assign(Object.assign({},f(a,"data")),f(a,"visual")),u.items.push(s[i]=a),u.hasField[i]=u.hasChannel[r]=s[i]}}else On(nn(r))}if(n.init){const e=e=>u.items.map(t=>void 0!==e[t.channel]?e[t.channel]:e[t.field]);if("interval"===n.type)t.init=e(n.init);else{const r=g(n.init);t.init=r.map(e)}}W(l).length>0&&(u.timeUnit=new cs(null,l))},signals:(e,t,n)=>{const r=t.name+"_tuple_fields";return n.filter(e=>e.name===r).length>0?n:n.concat({name:r,value:t.project.items.map(e=>{const t=_(e,["signals","hasLegend"]);return t.field=ee(t.field),t})})}},ps,ms,ys,xs,_s,ds,us,hs];function Cs(e,t){for(const n of ks)n.has(e)&&t(n)}function Ss(e,t=!0,n=c){if(o(e)){const r=e.map(e=>Ss(e,t,n));return t?`[${r.join(", ")}]`:r}return Mn(e)?n(t?jn(e):function(e){const t=Nn(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?n(JSON.stringify(e)):e}function As(e,t){return Is(e,(n,r)=>{t=r.marks?r.marks(e,n,t):t,Cs(n,r=>{r.marks&&(t=r.marks(e,n,t))})}),t}function Os(e){return e.map(e=>(e.on&&!e.on.length&&delete e.on,e))}const Ms="_brush",Ds={signals:(e,t)=>{const n=t.name,r=n+"_tuple_fields",i=ms.has(t),o=[],a=[],u=[];if(t.translate&&!i){const e="!event.item || event.item.mark.name !== "+s(n+Ms);Ps(t,(t,n)=>{var r;const i=g(null!==(r=n.between[0].filter)&&void 0!==r?r:n.between[0].filter=[]);return i.indexOf(e)<0&&i.push(e),t})}t.project.items.forEach((n,r)=>{const i=n.channel;if(i!==Je&&i!==Ze)return void On("Interval selections only support x and y encoding channels.");const l=t.init?t.init[r]:null,c=function(e,t,n,r){const i=n.channel,o=n.signals.visual,a=n.signals.data,u=ms.has(t),l=s(e.scaleName(i)),c=e.getScaleComponent(i),f=c?c.get("type"):void 0,d=e=>`scale(${l}, ${e})`,p=e.getSizeSignalRef(i===Je?"width":"height").signal,h=i+"(unit)",m=Ps(t,(e,t)=>[...e,{events:t.between[0],update:`[${h}, ${h}]`},{events:t,update:`[${o}[0], clamp(${h}, 0, ${p})]`}]);return m.push({events:{signal:t.name+"_scale_trigger"},update:Ir(f)?`[${d(a+"[0]")}, ${d(a+"[1]")}]`:"[0, 0]"}),u?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},r?{init:Ss(r,!0,d)}:{value:[]}),{on:m}),Object.assign(Object.assign({name:a},r?{init:Ss(r)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}(e,t,n,l),f=n.signals.data,d=n.signals.visual,p=s(e.scaleName(i)),h=Ir(e.getScaleComponent(i).get("type"))?"+":"";o.push(...c),a.push(f),u.push({scaleName:e.scaleName(i),expr:`(!isArray(${f}) || (${h}invert(${p}, ${d})[0] === ${h}${f}[0] && ${h}invert(${p}, ${d})[1] === ${h}${f}[1]))`})}),i||o.push({name:n+"_scale_trigger",value:{},on:[{events:u.map(e=>({scale:e.scaleName})),update:u.map(e=>e.expr).join(" && ")+` ? ${n+"_scale_trigger"} : {}`}]});const l=t.init,c=`unit: ${$s(e)}, fields: ${r}, values`;return o.concat(Object.assign(Object.assign({name:n+Rs},l?{init:`{${c}: ${Ss(l)}}`}:{}),{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+` ? {${c}: [${a}]} : null`}]}))},modifyExpr:(e,t)=>t.name+Rs+", "+("global"===t.resolve?"true":`{unit: ${$s(e)}}`),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,a=i&&i.signals.visual,u=o&&o.signals.visual,l=`data(${s(t.name+js)})`;if(ms.has(t))return n;const c={x:void 0!==i?{signal:a+"[0]"}:{value:0},y:void 0!==o?{signal:u+"[0]"}:{value:0},x2:void 0!==i?{signal:a+"[1]"}:{field:{group:"width"}},y2:void 0!==o?{signal:u+"[1]"}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of W(c))c[t]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${$s(e)}`},c[t]),{value:0}];const f=t.mark,{fill:d,fillOpacity:p,cursor:h}=f,m=_(f,["fill","fillOpacity","cursor"]),g=W(m).reduce((e,t)=>(e[t]=[{test:[void 0!==i&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${u}[0] !== ${u}[1]`].filter(e=>e).join(" && "),value:m[t]},{value:null}],e),{});return[{name:r+Ms+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:p}},update:c}},...n,{name:r+Ms,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},h?{cursor:{value:h}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},c),g)}}]}};function Ps(e,t){return e.events.reduce((e,n)=>n.between?t(e,n):(On(n+" is not an ordered event stream for interval selections."),e),[])}function Ts(e,t){const n=t.name,r=n+"_tuple_fields",i=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=i.items.map(t=>{const n=e.fieldDef(t.channel);return n&&n.bin?`[${o}[${s(e.vgField(t.channel,{}))}], ${o}[${s(e.vgField(t.channel,{binSuffix:"end"}))}]]`:`${o}[${s(t.field)}]`}).join(", "),u=`unit: ${$s(e)}, fields: ${r}, values`,l=t.events;return[{name:n+Rs,on:l?[{events:l,update:`datum && item().mark.marktype !== 'group' ? {${u}: [${a}]} : null`,force:!0}]:[]}]}const Fs={signals:Ts,modifyExpr:(e,t)=>t.name+Rs+", "+("global"===t.resolve?"null":`{unit: ${$s(e)}}`)},Ns={signals:Ts,modifyExpr:(e,t)=>t.name+Rs+", "+("global"===t.resolve?"true":`{unit: ${$s(e)}}`)},js="_store",Rs="_tuple",Bs="_modify",Ls="vlSelectionResolve",zs={single:Ns,multi:Fs,interval:Ds};function Is(e,t){const n=e.component.selection;if(n)for(const e of H(n))if(!0===t(e,zs[e.type]))break}function $s(e,{escape:t}={escape:!0}){let n=t?s(e.name):e.name;const r=function(e){let t=e.parent;for(;t&&!Ad(t);)t=t.parent;return t}(e);if(r){const{facet:e}=r;for(const t of vt)e[t]&&(n+=` + '__facet_${t}_' + (facet[${s(r.vgField(t))}])`)}return n}function Us(e){let t=!1;return Is(e,e=>{t=t||e.project.items.some(e=>"_vgsid_"===e.field)}),t}var qs,Ws,Hs,Vs,Gs;function Ys(e){this.type=e}Ys.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1},(qs={})[1]="Boolean",qs[2]="<end>",qs[3]="Identifier",qs[4]="Keyword",qs[5]="Null",qs[6]="Numeric",qs[7]="Punctuator",qs[8]="String",qs[9]="RegularExpression";var Xs=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Ks=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Qs(e,t){if(!e)throw new Error("ASSERT: "+t)}function Js(e){return e>=48&&e<=57}function Zs(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function el(e){return"01234567".indexOf(e)>=0}function tl(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function nl(e){return 10===e||13===e||8232===e||8233===e}function rl(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Xs.test(String.fromCharCode(e))}function il(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Ks.test(String.fromCharCode(e))}var ol={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function al(){for(var e;Hs<Vs&&(tl(e=Ws.charCodeAt(Hs))||nl(e));)++Hs}function ul(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)Hs<Vs&&Zs(Ws[Hs])?(r=Ws[Hs++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):El({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(i)}function sl(){var e,t,n,r;for(t=0,"}"===(e=Ws[Hs])&&El({},"Unexpected token %0","ILLEGAL");Hs<Vs&&Zs(e=Ws[Hs++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&El({},"Unexpected token %0","ILLEGAL"),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function ll(){var e,t;for(e=Ws.charCodeAt(Hs++),t=String.fromCharCode(e),92===e&&(117!==Ws.charCodeAt(Hs)&&El({},"Unexpected token %0","ILLEGAL"),++Hs,(e=ul("u"))&&"\\"!==e&&rl(e.charCodeAt(0))||El({},"Unexpected token %0","ILLEGAL"),t=e);Hs<Vs&&il(e=Ws.charCodeAt(Hs));)++Hs,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Ws.charCodeAt(Hs)&&El({},"Unexpected token %0","ILLEGAL"),++Hs,(e=ul("u"))&&"\\"!==e&&il(e.charCodeAt(0))||El({},"Unexpected token %0","ILLEGAL"),t+=e);return t}function cl(){var e,t;return e=Hs,{type:1===(t=92===Ws.charCodeAt(Hs)?ll():function(){var e,t;for(e=Hs++;Hs<Vs;){if(92===(t=Ws.charCodeAt(Hs)))return Hs=e,ll();if(!il(t))break;++Hs}return Ws.slice(e,Hs)}()).length?3:ol.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:Hs}}function fl(){var e,t,n,r,i=Hs,o=Ws.charCodeAt(Hs),a=Ws[Hs];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Hs,{type:7,value:String.fromCharCode(o),start:i,end:Hs};default:if(61===(e=Ws.charCodeAt(Hs+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Hs+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:i,end:Hs};case 33:case 61:return Hs+=2,61===Ws.charCodeAt(Hs)&&++Hs,{type:7,value:Ws.slice(i,Hs),start:i,end:Hs}}}return">>>="===(r=Ws.substr(Hs,4))?{type:7,value:r,start:i,end:Hs+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:Hs+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:7,value:t,start:i,end:Hs+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:7,value:a,start:i,end:++Hs}:void El({},"Unexpected token %0","ILLEGAL")}function dl(){var e,t,n;if(Qs(Js((n=Ws[Hs]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=Hs,e="","."!==n){if(e=Ws[Hs++],n=Ws[Hs],"0"===e){if("x"===n||"X"===n)return++Hs,function(e){for(var t="";Hs<Vs&&Zs(Ws[Hs]);)t+=Ws[Hs++];return 0===t.length&&El({},"Unexpected token %0","ILLEGAL"),rl(Ws.charCodeAt(Hs))&&El({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseInt("0x"+t,16),start:e,end:Hs}}(t);if(el(n))return function(e){for(var t="0"+Ws[Hs++];Hs<Vs&&el(Ws[Hs]);)t+=Ws[Hs++];return(rl(Ws.charCodeAt(Hs))||Js(Ws.charCodeAt(Hs)))&&El({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseInt(t,8),octal:!0,start:e,end:Hs}}(t);n&&Js(n.charCodeAt(0))&&El({},"Unexpected token %0","ILLEGAL")}for(;Js(Ws.charCodeAt(Hs));)e+=Ws[Hs++];n=Ws[Hs]}if("."===n){for(e+=Ws[Hs++];Js(Ws.charCodeAt(Hs));)e+=Ws[Hs++];n=Ws[Hs]}if("e"===n||"E"===n)if(e+=Ws[Hs++],"+"!==(n=Ws[Hs])&&"-"!==n||(e+=Ws[Hs++]),Js(Ws.charCodeAt(Hs)))for(;Js(Ws.charCodeAt(Hs));)e+=Ws[Hs++];else El({},"Unexpected token %0","ILLEGAL");return rl(Ws.charCodeAt(Hs))&&El({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseFloat(e),start:t,end:Hs}}function pl(){var e,t,n,r;return Gs=null,al(),e=Hs,t=function(){var e,t,n,r;for(Qs("/"===(e=Ws[Hs]),"Regular expression literal must start with a slash"),t=Ws[Hs++],n=!1,r=!1;Hs<Vs;)if(t+=e=Ws[Hs++],"\\"===e)nl((e=Ws[Hs++]).charCodeAt(0))&&El({},"Invalid regular expression: missing /"),t+=e;else if(nl(e.charCodeAt(0)))El({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||El({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";Hs<Vs&&il((e=Ws[Hs]).charCodeAt(0));)++Hs,"\\"===e&&Hs<Vs?El({},"Unexpected token %0","ILLEGAL"):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&El({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";El({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){El({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Hs}}function hl(){var e;return al(),Hs>=Vs?{type:2,start:Hs,end:Hs}:rl(e=Ws.charCodeAt(Hs))?cl():40===e||41===e||59===e?fl():39===e||34===e?function(){var e,t,n,r,i="",o=!1;for(Qs("'"===(e=Ws[Hs])||'"'===e,"String literal must starts with a quote"),t=Hs,++Hs;Hs<Vs;){if((n=Ws[Hs++])===e){e="";break}if("\\"===n)if((n=Ws[Hs++])&&nl(n.charCodeAt(0)))"\r"===n&&"\n"===Ws[Hs]&&++Hs;else switch(n){case"u":case"x":"{"===Ws[Hs]?(++Hs,i+=sl()):i+=ul(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:el(n)?(0!==(r="01234567".indexOf(n))&&(o=!0),Hs<Vs&&el(Ws[Hs])&&(o=!0,r=8*r+"01234567".indexOf(Ws[Hs++]),"0123".indexOf(n)>=0&&Hs<Vs&&el(Ws[Hs])&&(r=8*r+"01234567".indexOf(Ws[Hs++]))),i+=String.fromCharCode(r)):i+=n}else{if(nl(n.charCodeAt(0)))break;i+=n}}return""!==e&&El({},"Unexpected token %0","ILLEGAL"),{type:8,value:i,octal:o,start:t,end:Hs}}():46===e?Js(Ws.charCodeAt(Hs+1))?dl():fl():Js(e)?dl():fl()}function ml(){var e;return Hs=(e=Gs).end,Gs=hl(),Hs=e.end,e}function gl(){var e;e=Hs,Gs=hl(),Hs=e}function vl(e,t,n){var r=new Ys("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function yl(e,t){var n=new Ys("CallExpression");return n.callee=e,n.arguments=t,n}function bl(e){var t=new Ys("Identifier");return t.name=e,t}function xl(e){var t=new Ys("Literal");return t.value=e.value,t.raw=Ws.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function wl(e,t,n){var r=new Ys("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function _l(e,t,n){var r=new Ys("Property");return r.key=t,r.value=n,r.kind=e,r}function El(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return Qs(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=Hs,n.description=i,n}function kl(e){2===e.type&&El(e,"Unexpected end of input"),6===e.type&&El(e,"Unexpected number"),8===e.type&&El(e,"Unexpected string"),3===e.type&&El(e,"Unexpected identifier"),4===e.type&&El(e,"Unexpected reserved word"),El(e,"Unexpected token %0",e.value)}function Cl(e){var t=ml();7===t.type&&t.value===e||kl(t)}function Sl(e){return 7===Gs.type&&Gs.value===e}function Al(e){return 4===Gs.type&&Gs.value===e}function Ol(){var e=[];for(Hs=Gs.start,Cl("[");!Sl("]");)Sl(",")?(ml(),e.push(null)):(e.push(Il()),Sl("]")||Cl(","));return ml(),function(e){var t=new Ys("ArrayExpression");return t.elements=e,t}(e)}function Ml(){var e;return Hs=Gs.start,8===(e=ml()).type||6===e.type?(e.octal&&El(e,"Octal literals are not allowed in strict mode."),xl(e)):bl(e.value)}function Dl(){var e,t,n;return Hs=Gs.start,3===(e=Gs).type?(n=Ml(),Cl(":"),_l("init",n,Il())):2!==e.type&&7!==e.type?(t=Ml(),Cl(":"),_l("init",t,Il())):void kl(e)}function Pl(){var e,t,n=[],r={},i=String;for(Hs=Gs.start,Cl("{");!Sl("}");)t="$"+("Identifier"===(e=Dl()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?El({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),Sl("}")||Cl(",");return Cl("}"),function(e){var t=new Ys("ObjectExpression");return t.properties=e,t}(n)}var Tl={if:1,this:1};function Fl(){var e,t,n;if(Sl("("))return function(){var e;return Cl("("),e=$l(),Cl(")"),e}();if(Sl("["))return Ol();if(Sl("{"))return Pl();if(e=Gs.type,Hs=Gs.start,3===e||Tl[Gs.value])n=bl(ml().value);else if(8===e||6===e)Gs.octal&&El(Gs,"Octal literals are not allowed in strict mode."),n=xl(ml());else{if(4===e)throw new Error("Disabled.");1===e?((t=ml()).value="true"===t.value,n=xl(t)):5===e?((t=ml()).value=null,n=xl(t)):Sl("/")||Sl("/=")?(n=xl(pl()),gl()):kl(ml())}return n}function Nl(){var e=[];if(Cl("("),!Sl(")"))for(;Hs<Vs&&(e.push(Il()),!Sl(")"));)Cl(",");return Cl(")"),e}function jl(){return Cl("."),function(){var e;return Hs=Gs.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=ml())||kl(e),bl(e.value)}()}function Rl(){var e;return Cl("["),e=$l(),Cl("]"),e}function Bl(){var e=function(){var e;for(e=Fl();;)if(Sl("."))e=wl(".",e,jl());else if(Sl("("))e=yl(e,Nl());else{if(!Sl("["))break;e=wl("[",e,Rl())}return e}();if(7===Gs.type&&(Sl("++")||Sl("--")))throw new Error("Disabled.");return e}function Ll(){var e,t,n,r,i;if(7!==Gs.type&&4!==Gs.type)t=Bl();else{if(Sl("++")||Sl("--"))throw new Error("Disabled.");if(Sl("+")||Sl("-")||Sl("~")||Sl("!"))e=ml(),t=Ll(),n=e.value,r=t,(i=new Ys("UnaryExpression")).operator=n,i.argument=r,i.prefix=!0,t=i;else{if(Al("delete")||Al("void")||Al("typeof"))throw new Error("Disabled.");t=Bl()}}return t}function zl(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Il(){var e,t;return e=function(){var e,t,n,r,i,o,a,u,s,l;if(e=Gs,s=Ll(),0===(i=zl(r=Gs)))return s;for(r.prec=i,ml(),t=[e,Gs],o=[s,r,a=Ll()];(i=zl(Gs))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),u=o.pop().value,s=o.pop(),t.pop(),n=vl(u,s,a),o.push(n);(r=ml()).prec=i,o.push(r),t.push(Gs),n=Ll(),o.push(n)}for(n=o[l=o.length-1],t.pop();l>1;)t.pop(),n=vl(o[l-1].value,o[l-2],n),l-=2;return n}(),Sl("?")&&(ml(),t=Il(),Cl(":"),e=function(e,t,n){var r=new Ys("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,Il())),e}function $l(){var e=Il();if(Sl(","))throw new Error("Disabled.");return e}function Ul(e){const t=function(e){Hs=0,Vs=(Ws=e).length,Gs=null,gl();var t=$l();if(2!==Gs.type)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit(e=>{"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){const n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push(...e(t.object)),n.push(...e(t.property))),n)}(e).slice(1).join("."))}),n}class ql extends ss{constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=Vl(this.model,this.filter,this),this._dependentFields=Ul(this.expr)}clone(){return new ql(null,this.model,D(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter "+this.expr}}function Wl(e,t,n,r="datum"){const i=[],o=X(t,(function(t){const o=Y(t),a=e.getSelectionComponent(o,t),u=s(o+js);if(a.project.timeUnit){const t=null!=n?n:e.component.data.raw,r=a.project.timeUnit.clone();t.parent?r.insertAsParentOf(t):t.parent=r}return"none"!==a.empty&&i.push(u),`vlSelectionTest(${u}, ${r}`+("global"===a.resolve?")":`, ${s(a.resolve)})`)}));return(i.length?"!("+i.map(e=>`length(data(${e}))`).join(" || ")+") || ":"")+`(${o})`}function Hl(e,t){const n=t.encoding;let r=t.field;if(n||r){if(n&&!r){const i=e.project.items.filter(e=>e.channel===n);!i.length||i.length>1?(r=e.project.items[0].field,On((i.length?"Multiple ":"No ")+`matching ${s(n)} encoding found for selection ${s(t.selection)}. `+`Using "field": ${s(r)}.`)):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&On(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${s(r)}.`);return`${e.name}[${s(r)}]`}function Vl(e,t,n){return X(t,t=>u(t)?t:function(e){return null==e?void 0:e.selection}(t)?Wl(e,t.selection,n):ar(t))}function Gl(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=r}function Yl(e){return Hn(e)?e.signal:s(e.value)}function Xl(e,t,n,r={header:!1}){const i=e.combine(),{disable:a,orient:u,scale:s,labelExpr:l,title:c,zindex:f}=i,d=_(i,["disable","orient","scale","labelExpr","title","zindex"]);if(!a){for(const e in d){const n=fe[e],r=d[e];if(n&&n!==t&&"both"!==n)delete d[e];else if(le(r)){const{condition:t}=r,n=_(r,["condition"]),i=g(t),o=se[e];if(o){const{vgProp:t,part:r}=o;Gl(d,r,t,[...i.map(e=>{const{test:t}=e,n=_(e,["test"]);return Object.assign({test:Vl(null,t)},n)}),n]),delete d[e]}else if(null===o){const t={signal:i.map(e=>{const{test:t}=e,n=_(e,["test"]);return`${Vl(null,t)} ? ${Yl(n)} : `}).join("")+Yl(n)};d[e]=t}}else if(Hn(r)){const t=se[e];if(t){const{vgProp:n,part:i}=t;Gl(d,i,n,r),delete d[e]}}}if("grid"===t){if(!d.grid)return;if(d.encode){const{grid:e}=d.encode;d.encode=Object.assign({},e?{grid:e}:{}),0===W(d.encode).length&&delete d.encode}return Object.assign(Object.assign({scale:s,orient:u},d),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:ie(f,0)})}{if(!r.header&&e.mainExtracted)return;if(void 0!==l&&Gl(d,"labels","text",{signal:l}),null===d.labelAlign&&delete d.labelAlign,d.encode){for(const t of ce)e.hasAxisPart(t)||delete d.encode[t];0===W(d.encode).length&&delete d.encode}const t=function(e,t){if(e)return o(e)&&!po(e)?e.map(e=>Ji(e,t)).join(", "):e}(c,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:s,orient:u,grid:!1},t?{title:t}:{}),d),!1===n.aria?{aria:!1}:{}),{zindex:ie(f,0)})}}}function Kl(e){const{axes:t}=e.component,n=[];for(const r of Tt)if(t[r])for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const t="x"===r?"height":"width",i=e.getSizeSignalRef(t).signal;t!==i&&n.push({name:t,update:i})}return n}const Ql={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Jl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Zl=W(Ql),ec=W(Jl);function tc(e){return Hn(e)?e.signal:s(e)}function nc(e,t,n,r){return Object.assign.apply(null,[{},...e.map(e=>{if("axisOrient"===e){const e="x"===n?"bottom":"left",i=t["x"===n?"axisBottom":"axisLeft"]||{},o=t["x"===n?"axisTop":"axisRight"]||{},a=new Set([...W(i),...W(o)]),u={};for(const t of a.values())u[t]={signal:`${r.signal} === "${e}" ? ${tc(i[t])} : ${tc(o[t])}`};return u}return t[e]})])}function rc(e,t,n,r){const i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:function(e){return e in jr}(t)?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],o="x"===e?"axisX":"axisY",a=Hn(n)?"axisOrient":"axis"+Q(n),u=[...i,...i.map(e=>o+e.substr(4))],s=["axis",a,o];return{vlOnlyAxisConfig:nc(u,r,e,n),vgAxisConfig:nc(s,r,e,n),axisConfigStyle:ic([...s,...u],r)}}function ic(e,t){var n;const r=[{}];for(const i of e){let e=null===(n=t[i])||void 0===n?void 0:n.style;if(e){e=g(e);for(const n of e)r.push(t.style[n])}}return Object.assign.apply(null,r)}function oc(e,t,n,r={}){var i;const o=bo(e,n,t.style);if(void 0!==o)return{configFrom:"style",configValue:o};for(const t of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(void 0!==(null===(i=r[t])||void 0===i?void 0:i[e]))return{configFrom:t,configValue:r[t][e]};return{}}const ac={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:i}=n;return ci(e,e.type,r,i,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return fi(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return(!Ti(e)||!Yt(e.bin))&&(null!==(r=t.grid)&&void 0!==r?r:function(e,t){return!zr(e)&&Ti(t)&&!Gt(null==t?void 0:t.bin)}(n,e))},gridScale:({model:e,channel:t})=>function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||lc(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||sc(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return null!==(r=e.labelFlush)&&void 0!==r?r:function(e,t){if("x"===t&&R(["quantitative","temporal"],e))return!0}(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return null!==(r=e.labelOverlap)&&void 0!==r?r:function(e,t){if("nominal"!==e)return"log"!==t||"greedy"}(t.type,n)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{var o;const a="x"===e?"width":"y"===e?"height":void 0,u=a?t.getSizeSignalRef(a):void 0;return null!==(o=n.tickCount)&&void 0!==o?o:function({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!zr(t)&&"log"!==t){if(Ti(e)){if(Gt(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&R(["month","hours","day","quarter"],null===(i=Wn(e.timeUnit))||void 0===i?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}({fieldOrDatumDef:r,scaleType:i,size:u,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(void 0!==e.title)return e.title;const r=cc(t,n);if(void 0!==r)return r;const i=t.typedFieldDef(n),o="x"===n?"x2":"y2",a=t.fieldDef(o);return wo(i?[Ci(i)]:[],Ti(a)?[Ci(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function(e,t){const n=e.values;return o(n)?lo(t,n):Hn(n)?n:void 0}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return null!==(r=e.zindex)&&void 0!==r?r:function(e,t){return"rect"===e&&Hi(t)?1:0}(n,t)}};function uc(e){return`(((${e.signal} % 360) + 360) % 360)`}function sc(e,t,n,r){if(void 0!==e){if("x"===n){if(Hn(e)){const n=uc(e);return{signal:`(45 < ${n} && ${n} < 135) || (225 < ${n} && ${n} < 315) ? "middle" :(${n} <= 45 || 315 <= ${n}) === ${Hn(t)?`(${t.signal} === "top")`:"top"===t} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Hn(t)){const n=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${n} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==("top"===t)?"bottom":"top"}if(Hn(e)){const n=uc(e);return{signal:`${n} <= 45 || 315 <= ${n} || (135 <= ${n} && ${n} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${n} && ${n} <= 135) === ${Hn(t)?`(${t.signal} === "left")`:"left"===t} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Hn(t)){const n=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${n} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==("left"===t)?"top":"bottom"}}function lc(e,t,n){if(void 0===e)return;const r="x"===n,i=r?0:90,o=r?"bottom":"left";if(Hn(e)){const n=uc(e);return{signal:`(${i?"("+n+" + 90)":n} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${n} && ${n} < ${180+i}) === ${Hn(t)?`(${t.signal} === "${o}")`:t===o} ? "left" : "right"`}}if((e+i)%180==0)return r?null:"center";if(Hn(t)){const n=i<e&&e<180+i?"===":"!==";return{signal:`${t.signal} ${n} "${o}" ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function cc(e,t){const n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,a=i?i.title:void 0;return o&&a?_o(o,a):o||a||(void 0!==o?o:void 0!==a?a:void 0)}class fc extends ss{constructor(e,t){super(e),this.transform=t,this._dependentFields=Ul(this.transform.calculate)}clone(){return new fc(null,D(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef((t,n)=>{if(Ii(t)&&wi(t.sort)){const{field:r,timeUnit:i}=t,o=t.sort,a=o.map((e,t)=>`${ar({field:r,timeUnit:i,equal:e})} ? ${t} : `).join("")+o.length;e=new fc(e,{calculate:a,as:dc(t,n,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate "+N(this.transform)}}function dc(e,t,n){return Wi(e,Object.assign({prefix:t,suffix:"sort_index"},null!=n?n:{}))}function pc(e,t){return R(["top","bottom"],t)?"column":R(["left","right"],t)||"row"===e?"row":"column"}function hc(e,t,n,r){const i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return ie(((null==t?void 0:t.header)||{})[e],i[e],n.header[e])}function mc(e,t,n,r){const i={};for(const o of e){const e=hc(o,t,n,r);void 0!==e&&(i[o]=e)}return i}const gc=["row","column"],vc=["header","footer"];function yc(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:u}=mc(["titleAnchor","titleAngle","titleOrient"],i,r,t),s=pc(t,u),l=ae(a);return{name:t+"-title",type:"group",role:s+"-title",title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),xc(l,s)),bc(s,l,o)),Ac(r,i,t,Zl,Ql))}}function bc(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=lc(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function xc(e,t){const n=sc(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function wc(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of vc)if(n[i])for(const o of n[i]){const a=kc(e,t,i,n,o);null!=a&&r.push(a)}return r}function _c(e,t){var n;const{sort:r}=e;return xi(r)?{field:Wi(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:o(r)?{field:dc(e,t,{expr:"datum"}),order:"ascending"}:{field:Wi(e,{expr:"datum"}),order:null!=r?r:"ascending"}}function Ec(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:a,labelOrient:u,labelExpr:s}=mc(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),l=ui({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=pc(t,u);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:s?te(te(s,"datum.label",l),"datum.value",Wi(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),xc(o,c)),bc(c,o,a)),Ac(n,e,t,ec,Jl))}function kc(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:a}=r,u=e.config?e.config:void 0;if(a&&i.labels){const{labelOrient:e}=mc(["labelOrient"],a,u,t);("row"===t&&!R(["top","bottom"],e)||"column"===t&&!R(["left","right"],e))&&(o=Ec(a,t,u))}const s=Ad(e)&&!_i(e.facet),l=i.axes,c=(null==l?void 0:l.length)>0;if(o||c){const u="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:_c(a,t)}:{}),c&&s?{from:{data:e.getName("facet_domain_"+t)}}:{}),o?{title:o}:{}),i.sizeSignal?{encode:{update:{[u]:i.sizeSignal}}}:{}),c?{axes:l}:{})}}return null}const Cc={column:{start:0,end:1},row:{start:1,end:0}};function Sc(e,t){return Cc[t][e]}function Ac(e,t,n,r,i){const o={};for(const a of r){if(!i[a])continue;const r=hc(a,t,e,n);void 0!==r&&(o[i[a]]=r)}return o}function Oc(e){return[...Mc(e,"width"),...Mc(e,"height"),...Mc(e,"childWidth"),...Mc(e,"childHeight")]}function Mc(e,t){const n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];const i=e.getSizeSignalRef(t).signal;if("step"===r){const t=e.getScaleComponent(n);if(t){const r=t.get("type"),o=t.get("range");if(zr(r)&&Vn(o)){const r=e.scaleName(n);return Ad(e.parent)&&"independent"===e.parent.component.resolve.scale[n]?[Dc(r,o)]:[Dc(r,o),{name:i,update:Pc(r,t,`domain('${r}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){const t=i.endsWith("width"),n=t?"containerSize()[0]":"containerSize()[1]",r=`isFinite(${n}) ? ${n} : ${ca(e.config.view,t?"width":"height")}`;return[{name:i,init:r,on:[{update:r,events:"window:resize"}]}]}return[{name:i,value:r}]}function Dc(e,t){return{name:e+"_step",value:t.step}}function Pc(e,t,n){const r=t.get("type"),i=t.get("padding"),o=ie(t.get("paddingOuter"),i);let a=t.get("paddingInner");return a="band"===r?void 0!==a?a:i:1,`bandspace(${n}, ${a}, ${o}) * ${e}_step`}function Tc(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Fc(e,t){return W(e).reduce((n,r)=>{const i=e[r];return Object.assign(Object.assign({},n),Nu(t,i,r,e=>Hn(e)?e:{value:e.value}))},{})}function Nc(e,t){if(Md(t)||Ad(t))return"shared";if(Od(t))return Ft(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function jc(e,t){const n=e.scale[t],r=Ft(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&On(function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}(t)),"independent"):e[r][t]||"shared"}class Rc{constructor(e={},t={}){this.explicit=e,this.implicit=t}clone(){return new Rc(D(this.explicit),D(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(e){return ie(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of W(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function Bc(e){return{explicit:!0,value:e}}function Lc(e){return{explicit:!1,value:e}}function zc(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:Ic(t,n,r,i)}}function Ic(e,t,n,r){return e.explicit&&t.explicit&&On(function(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${F(n)} and ${F(r)}). Using ${F(n)}.`}(n,r,e.value,t.value)),e}function $c(e,t,n,r,i=Ic){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:M(e.value,t.value)?e:i(e,t,n,r)}const Uc=Object.assign(Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1}),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),qc=W(Uc);class Wc extends Rc{}const Hc={symbols:function(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){var u,s,l,c,f;if("symbol"!==a)return;const{markDef:d,encoding:p,config:h,mark:m}=n,g=d.filled&&"trail"!==m;let v=Object.assign(Object.assign({},function(e,t,n){for(const r of n){const n=vo(r,t.markDef,t.config);void 0!==n&&(e[r]=ho(n))}return e}({},n,Ne)),Uu(n,{filled:g}));const y=null!==(u=Vc(p.opacity))&&void 0!==u?u:d.opacity;if(v.fill)if("fill"===r||g&&r===ot)delete v.fill;else if(v.fill.field)i.get("symbolFillColor")?delete v.fill:(v.fill=ho(null!==(s=h.legend.symbolBaseFillColor)&&void 0!==s?s:"black"),v.fillOpacity=ho(null!=y?y:1));else if(o(v.fill)){const e=null!==(f=null!==(c=Gc(null!==(l=p.fill)&&void 0!==l?l:p.color))&&void 0!==c?c:d.fill)&&void 0!==f?f:g&&d.color;e&&(v.fill=ho(e))}if(v.stroke)if("stroke"===r||!g&&r===ot)delete v.stroke;else if(v.stroke.field)delete v.stroke;else if(o(v.stroke)){const e=ie(Gc(p.stroke||p.color),d.stroke,g?d.color:void 0);e&&(v.stroke={value:e})}if("opacity"!==r){const e=Ti(t)&&Xc(0,i,t);e?v.opacity=[Object.assign({test:e},ho(null!=y?y:1)),ho(h.legend.unselectedOpacity)]:y&&(v.opacity=ho(y))}return v=Object.assign(Object.assign({},v),e),W(v).length>0?v:void 0},gradient:function(e,{model:t,legendType:n}){if("gradient"!==n)return;let r={};const i=Vc(t.encoding.opacity)||t.markDef.opacity;return i&&(r.opacity=ho(i)),r=Object.assign(Object.assign({},r),e),W(r).length>0?r:void 0},labels:function(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},a=n.config,u=Ti(t)?Xc(0,i,t):void 0,s=u?[{test:u,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=o,f=oi(c)?li({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:a}):void 0,d=Object.assign(Object.assign(Object.assign({},s?{opacity:s}:{}),f?{text:f}:{}),e);return W(d).length>0?d:void 0},entries:function(e,{legendCmpt:t}){const n=t.get("selections");return(null==n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function Vc(e){return Yc(e,(e,t)=>Math.max(e,t.value))}function Gc(e){return Yc(e,(e,t)=>ie(e,t.value))}function Yc(e,t){return function(e){const t=e&&e.condition;return!!t&&(o(t)||zi(t))}(e)?g(e.condition).reduce(t,e.value):zi(e)?e.value:void 0}function Xc(e,t,n){const r=t.get("selections");if(!(null==r?void 0:r.length))return;const i=s(n.field);return r.map(e=>`(!length(data(${s(Y(e)+js)})) || (${e}[${i}] && indexof(${e}[${i}], datum.value) >= 0))`).join(" || ")}const Kc={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return ci(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return fi(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:u,gradientVerticalMinLength:s}=e;if($r(i))return"horizontal"===n?"top"===r||"bottom"===r?Zc(t,"width",a,o):a:Zc(t,"height",s,u)}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,i;return null!==(i=null!==(r=e.labelOverlap)&&void 0!==r?r:t.labelOverlap)&&void 0!==i?i:function(e){if(R(["quantile","threshold","log"],e))return"greedy"}(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var i;return null!==(i=e.symbolType)&&void 0!==i?i:function(e,t,n,r){var i;if("shape"!==t){const e=null!==(i=Gc(n))&&void 0!==i?i:r;if(e)return e}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>Ki(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(mt(n)&&$r(t)){if("gradient"===e)return}else if("symbol"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function(e,t){const n=e.values;return o(n)?lo(t,n):Hn(n)?n:void 0}(t,e)};function Qc(e){const{legend:t}=e;return ie(t.type,function({channel:e,timeUnit:t,scaleType:n}){if(mt(e)){if(R(["quarter","month","day"],t))return"symbol";if($r(n))return"gradient"}return"symbol"}(e))}function Jc({legendConfig:e,legendType:t,orient:n,legend:r}){var i,o;return null!==(o=null!==(i=r.direction)&&void 0!==i?i:e[t?"gradientDirection":"symbolDirection"])&&void 0!==o?o:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(n,t)}function Zc(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function ef(e){const t=Sd(e)?function(e){const{encoding:t}=e,n={};for(const r of[ot,...Zo]){const i=to(t[r]);i&&e.getScaleComponent(r)&&(r===st&&Ti(i)&&i.type===hr||(n[r]=nf(e,r)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){ef(r);for(const i of W(r.component.legends))n.legend[i]=jc(e.component.resolve,i),"shared"===n.legend[i]&&(t[i]=rf(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of W(t))for(const t of e.children)t.component.legends[r]&&"shared"===n.legend[r]&&delete t.component.legends[r];return t}(e);return e.component.legends=t,t}function tf(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null==n?void 0:n.values);case"title":if("title"===t&&e===(null==r?void 0:r.title))return!0}return e===(n||{})[t]}function nf(e,t){var n,r,i;let o=e.legend(t);const{markDef:a,encoding:u,config:s}=e,l=s.legend,c=new Wc({},function(e,t){const n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var r;const i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;Is(e,e=>{var r,o;const a=null!==(r=e.project.hasField[i])&&void 0!==r?r:e.project.hasChannel[t];if(a&&ys.has(e)){const t=null!==(o=n.get("selections"))&&void 0!==o?o:[];t.push(e.name),n.set("selections",t,!1),a.hasLegend=!0}})}(e,t,c);const f=void 0!==o?!o:l.disable;if(c.set("disable",f,void 0!==o),f)return c;o=o||{};const d=e.getScaleComponent(t).get("type"),p=to(u[t]),h=Ti(p)?null===(n=Wn(p.timeUnit))||void 0===n?void 0:n.unit:void 0,m=o.orient||s.legend.orient||"right",g=Qc({legend:o,channel:t,timeUnit:h,scaleType:d}),v={legend:o,channel:t,model:e,markDef:a,encoding:u,fieldOrDatumDef:p,legendConfig:l,config:s,scaleType:d,orient:m,legendType:g,direction:Jc({legend:o,legendType:g,orient:m,legendConfig:l})};for(const n of qc){const r=n in Kc?Kc[n](v):o[n];if(void 0!==r){const i=tf(r,n,o,e.fieldDef(t));(i||void 0===s.legend[n])&&c.set(n,r,i)}}const y=null!==(r=null==o?void 0:o.encoding)&&void 0!==r?r:{},b=c.get("selections"),x={},w={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:c,legendType:g};for(const t of["labels","legend","title","symbols","gradient","entries"]){const n=Fc(null!==(i=y[t])&&void 0!==i?i:{},e),r=t in Hc?Hc[t](n,w):n;void 0!==r&&W(r).length>0&&(x[t]=Object.assign(Object.assign(Object.assign({},(null==b?void 0:b.length)&&Ti(p)?{name:`${Y(p.field)}_legend_${t}`}:{}),(null==b?void 0:b.length)?{interactive:!!b}:{}),{update:r}))}return W(x).length>0&&c.set("encode",x,!!(null==o?void 0:o.encoding)),c}function rf(e,t){var n,r,i,o;if(!e)return t.clone();const a=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(a.explicit&&u.explicit&&a.value!==u.value)return;let s=!1;for(const n of qc){const r=$c(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(e,t)=>{switch(n){case"symbolType":return r=e,"circle"===(i=t).value?i:r;case"title":return Eo(e,t);case"type":return s=!0,Lc("symbol")}var r,i;return Ic(e,t,n,"legend")});e.setWithExplicit(n,r)}return s&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&K(e.implicit,["encode","gradient"]),(null===(o=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===o?void 0:o.gradient)&&K(e.explicit,["encode","gradient"])),e}function of(e,t,n,r){var i,o,a;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=r}function af(e){const t=e.component.legends,n={};for(const r of W(t)){const i=e.getScaleComponent(r),o=F(i.get("domains"));if(n[o])for(const e of n[o])rf(e,t[r])||n[o].push(t[r]);else n[o]=[t[r].clone()]}return H(n).flat().map(t=>function(e,t){var n;const r=e.combine(),{disable:i,labelExpr:o,selections:a}=r,u=_(r,["disable","labelExpr","selections"]);if(!i){if(!1===t.aria&&null==u.aria&&(u.aria=!1),null===(n=u.encode)||void 0===n?void 0:n.symbols){const e=u.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||u.stroke||(e.stroke={value:"transparent"});for(const t of Zo)u[t]&&delete e[t]}u.title||delete u.title,void 0!==o&&of(u,"labels","text",{signal:o});for(const e in u){const t=u[e];if(Hn(t)){const n=ea[e];if(n){const{vgProp:r,part:i}=n;of(u,i,r,t),delete u[e]}}}return u}}(t,e.config)).filter(e=>void 0!==e)}function uf(e){return Md(e)||Od(e)?function(e){return e.children.reduce((e,t)=>e.concat(t.assembleProjections()),sf(e))}(e):sf(e)}function sf(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(e=>e.signal).join(", ")}]`},o=t.data.reduce((t,n)=>{const r=Hn(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return R(t,r)||t.push(r),t},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const lf=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class cf extends Rc{constructor(e,t,n,r){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=r,this.merged=!1}get isFit(){return!!this.data}}function ff(e){e.component.projection=Sd(e)?function(e){var t;if(e.hasProjection){const n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,o=r?function(e){const t=[],{encoding:n}=e;for(const r of[["longitude","latitude"],["longitude2","latitude2"]])(to(n[r[0]])||to(n[r[1]]))&&t.push({signal:e.getName("geojson_"+t.length)});return e.channelHasField(st)&&e.typedFieldDef(st).type===hr&&t.push({signal:e.getName("geojson_"+t.length)}),0===t.length&&t.push(e.requestDataName(ou)),t}(e):void 0;return new cf(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!=n?n:{}),i,o)}}(e):function(e){if(0===e.children.length)return;let t;for(const t of e.children)ff(t);const n=L(e.children,e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=L(lf,n=>!y(e.explicit,n)&&!y(t.explicit,n)||!(!y(e.explicit,n)||!y(t.explicit,n)||F(e.get(n))!==F(t.get(n))));if(F(e.size)===F(t.size)){if(n)return e;if(F(e.explicit)===F({}))return t;if(F(t.explicit)===F({}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0});if(t&&n){const n=e.projectionName(!0),r=new cf(n,t.specifiedProjection,t.size,D(t.data));for(const t of e.children){const e=t.component.projection;e&&(e.isFit&&r.data.push(...t.component.projection.data),t.renameProjection(e.get("name"),n),e.merged=!0)}return r}}(e)}function df(e,t){return`${Vt(e)}_${t}`}function pf(e,t,n){var r;const i=df(null!==(r=oo(n,void 0))&&void 0!==r?r:{},t);return e.getName(i+"_bins")}function hf(e,t,n){let r,i;r=function(e){return"as"in e}(e)?u(e.as)?[e.as,e.as+"_end"]:[e.as[0],e.as[1]]:[Wi(e,{forAs:!0}),Wi(e,{binSuffix:"end",forAs:!0})];const o=Object.assign({},oo(t,void 0)),a=df(o,e.field),{signal:s,extentSignal:l}=function(e,t){return{signal:e.getName(t+"_bins"),extentSignal:e.getName(t+"_extent")}}(n,a);if(Kt(o.extent)){const e=o.extent,t=e.selection;i=Hl(n.getSelectionComponent(Y(t),t),e),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{})}}class mf extends ss{constructor(e,t){super(e),this.bins=t}clone(){return new mf(null,D(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,r)=>{if(Li(n)&&Gt(n.bin)){const{key:i,binComponent:o}=hf(n,n.bin,t);e[i]=Object.assign(Object.assign(Object.assign({},o),e[i]),function(e,t,n,r){var i,o;if(co(t,n)){const a=Sd(e)&&null!==(o=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==o?o:{},u=Wi(t,{expr:"datum"}),s=Wi(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Wi(t,{binSuffix:"range",forAs:!0}),formula:mi(u,s,a.format,a.formatType,r)}}return{}}(t,n,r,t.config))}return e},{});return 0===W(n).length?null:new mf(e,n)}static makeFromTransform(e,t,n){const{key:r,binComponent:i}=hf(t,t.bin,n);return new mf(e,{[r]:i})}merge(e,t){for(const n of W(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=I([...this.bins[n].as,...e.bins[n].as],N)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(H(this.bins).map(e=>e.as).flat(2))}dependentFields(){return new Set(H(this.bins).map(e=>e.field))}hash(){return"Bin "+N(this.bins)}assemble(){return H(this.bins).flatMap(e=>{const t=[],[n,...r]=e.as,i=e.bin,{extent:o}=i,a=_(i,["extent"]),u=Object.assign(Object.assign(Object.assign({type:"bin",field:ee(e.field),as:n,signal:e.signal},Kt(o)?{extent:null}:{extent:o}),e.span?{span:{signal:`span(${e.span})`}}:{}),a);!o&&e.extentSignal&&(t.push({type:"extent",field:ee(e.field),signal:e.extentSignal}),u.extent={signal:e.extentSignal}),t.push(u);for(const e of r)for(let r=0;r<2;r++)t.push({type:"formula",expr:Wi({field:n[r]},{expr:"datum"}),as:e[r]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t})}}class gf extends ss{constructor(e){let t;if(super(null),tu(e=null!=e?e:{name:"source"})||(t=e.format?Object.assign({},T(e.format,["parse"])):{}),Za(e))this._data={values:e.values};else if(Ja(e)){if(this._data={url:e.url},!t.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];R(["json","csv","tsv","dsv","topojson"],n)||(n="json"),t.type=n}}else ru(e)?this._data={values:[{type:"Sphere"}]}:(eu(e)||tu(e))&&(this._data={});this._generator=tu(e),e.name&&(this._name=e.name),t&&W(t).length>0&&(this._data.format=t)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}function vf(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return console.error("Dataflow graph is inconsistent.",t,e),!1;if(!vf(t.children))return!1}return!0}class yf extends ss{constructor(e,t){super(e),this.params=t}clone(){return new yf(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule "+N(this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class bf extends ss{constructor(e,t){super(e),this.params=t}clone(){return new bf(null,this.params)}dependentFields(){return new Set}producedFields(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}hash(){return"Hash "+N(this.params)}assemble(){return Object.assign({type:"sequence"},this.params)}}function xf(e){return e instanceof gf||e instanceof yf||e instanceof bf}class wf{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class _f extends wf{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:e,mutatedFlag:t}){e&&this.setContinue(),t&&this.setMutated()}reset(){}optimizeNextFromLeaves(e){if(xf(e))return!1;const t=e.parent,{continueFlag:n}=this.run(e);return n&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}class Ef extends wf{}function kf(e,t,n,r){const i=Sd(r)?r.encoding[At(t)]:void 0;if(Li(n)&&Sd(r)&&Oi(t,n,i,r.stack,r.markDef,r.config))e.add(Wi(n,{})),e.add(Wi(n,{suffix:"end"})),n.bin&&co(n,t)&&e.add(Wi(n,{binSuffix:"range"}));else if(function(e){return e in dt}(t)){const n=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(n))}else e.add(Wi(n));return e}class Cf extends ss{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new Cf(null,new Set(this.dimensions),D(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef(e=>{e.aggregate&&(n=!0)});const r={},i=new Set;return n?(t.forEachFieldDef((e,n)=>{var o,a,u,s;const{aggregate:l,field:c}=e;if(l)if("count"===l)r["*"]=null!==(o=r["*"])&&void 0!==o?o:{},r["*"].count=new Set([Wi(e,{forAs:!0})]);else{if(qe(l)||We(l)){const e=qe(l)?"argmin":"argmax",t=l[e];r[t]=null!==(a=r[t])&&void 0!==a?a:{},r[t][e]=new Set([Wi({op:e,field:t},{forAs:!0})])}else r[c]=null!==(u=r[c])&&void 0!==u?u:{},r[c][l]=new Set([Wi(e,{forAs:!0})]);$t(n)&&"unaggregated"===t.scaleDomain(n)&&(r[c]=null!==(s=r[c])&&void 0!==s?s:{},r[c].min=new Set([Wi({field:c,aggregate:"min"},{forAs:!0})]),r[c].max=new Set([Wi({field:c,aggregate:"max"},{forAs:!0})]))}else kf(i,n,e,t)}),i.size+W(r).length===0?null:new Cf(e,i,r)):null}static makeFromTransform(e,t){var n,r,i;const o=new Set,a={};for(const e of t.aggregate){const{op:t,field:i,as:o}=e;t&&("count"===t?(a["*"]=null!==(n=a["*"])&&void 0!==n?n:{},a["*"].count=new Set([o||Wi(e,{forAs:!0})])):(a[i]=null!==(r=a[i])&&void 0!==r?r:{},a[i][t]=new Set([o||Wi(e,{forAs:!0})])))}for(const e of null!==(i=t.groupby)&&void 0!==i?i:[])o.add(e);return o.size+W(a).length===0?null:new Cf(e,o,a)}merge(e){return function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(this.dimensions,e.dimensions)?(function(e,t){var n;for(const r of W(t)){const i=t[r];for(const t of W(i))r in e?e[r][t]=new Set([...null!==(n=e[r][t])&&void 0!==n?n:[],...i[t]]):e[r]={[t]:i[t]}}}(this.measures,e.measures),!0):(function(...e){An.debug(...e)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...W(this.measures)])}producedFields(){const e=new Set;for(const t of W(this.measures))for(const n of W(this.measures[t])){const r=this.measures[t][n];0===r.size?e.add(`${n}_${t}`):r.forEach(e.add,e)}return e}hash(){return"Aggregate "+N({dimensions:this.dimensions,measures:this.measures})}assemble(){const e=[],t=[],n=[];for(const r of W(this.measures))for(const i of W(this.measures[r]))for(const o of this.measures[r][i])n.push(o),e.push(i),t.push("*"===r?null:ee(r));return{type:"aggregate",groupby:[...this.dimensions].map(ee),ops:e,fields:t,as:n}}}class Sf extends ss{constructor(e,t,n,r){super(e),this.model=t,this.name=n,this.data=r;for(const e of vt){const n=t.facet[e];if(n){const{bin:r,sort:i}=n;this[e]=Object.assign({name:t.getName(e+"_domain"),fields:[Wi(n),...Gt(r)?[Wi(n,{binSuffix:"end"})]:[]]},xi(i)?{sortField:i}:o(i)?{sortIndexField:dc(n,e)}:{})}}this.childModel=t.child}hash(){let e="Facet";for(const t of vt)this[t]&&(e+=` ${t.charAt(0)}:${N(this[t])}`);return e}get fields(){var e;const t=[];for(const n of vt)(null===(e=this[n])||void 0===e?void 0:e.fields)&&t.push(...this[n].fields);return t}dependentFields(){const e=new Set(this.fields);for(const t of vt)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of Tt){const n=this.childModel.component.scales[t];if(n&&!n.merged){const r=n.get("type"),i=n.get("range");if(zr(r)&&Vn(i)){const n=sd(ld(this.childModel,t));n?e[t]=n:On(`Unknown field for ${t}. Cannot calculate view size.`)}}}return e}assembleRowColumnHeaderData(e,t,n){const r={row:"y",column:"x"}[e],i=[],o=[],a=[];n&&n[r]&&(t?(i.push("distinct_"+n[r]),o.push("max")):(i.push(n[r]),o.push("distinct")),a.push("distinct_"+n[r]));const{sortField:u,sortIndexField:s}=this[e];if(u){const{op:e=gi,field:t}=u;i.push(t),o.push(e),a.push(Wi(u,{forAs:!0}))}else s&&(i.push(s),o.push("max"),a.push(s));return{name:this[e].name,source:null!=t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:o,as:a}:{})]}}assembleFacetHeaderData(e){var t,n;const{columns:r}=this.model.layout,{layoutHeaders:i}=this.model.component,o=[],a={};for(const e of gc){for(const r of vc){const o=null!==(t=i[e]&&i[e][r])&&void 0!==t?t:[];for(const t of o)if((null===(n=t.axes)||void 0===n?void 0:n.length)>0){a[e]=!0;break}}if(a[e]){const t=`length(data("${this.facet.name}"))`,n="row"===e?r?{signal:`ceil(${t} / ${r})`}:1:r?{signal:`min(${t}, ${r})`}:{signal:t};o.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:n}]})}}const{row:u,column:s}=a;return(u||s)&&o.unshift(this.assembleRowColumnHeaderData("facet",null,e)),o}assemble(){var e,t;const n=[];let r=null;const i=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:u}=this;if(o&&a&&(i.x||i.y)){r=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),a=o.map(()=>"distinct");n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:a}]})}for(const e of[Qe,Ke])this[e]&&n.push(this.assembleRowColumnHeaderData(e,r,i));if(u){const e=this.assembleFacetHeaderData(i);e&&n.push(...e)}return n}}function Af(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function Of(e){const t={};return function e(t,n){if(A(t))e(t.not,n);else if(S(t))for(const r of t.and)e(r,n);else if(C(t))for(const r of t.or)e(r,n);else n(t)}(e.filter,e=>{var n;if(ir(e)){let r=null;Qn(e)?r=e.equal:nr(e)?r=e.range[0]:rr(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(Mn(r)?t[e.field]="date":x(r)?t[e.field]="number":u(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}}),t}function Mf(e){const t={};function n(e){var n;uo(e)?t[e.field]="date":"quantitative"===e.type&&u(n=e.aggregate)&&R(["min","max"],n)?t[e.field]="number":re(e.field)>1?e.field in t||(t[e.field]="flatten"):Ii(e)&&xi(e.sort)&&re(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((Sd(e)||Ad(e))&&e.forEachFieldDef((t,r)=>{if(Li(t))n(t);else{const i=Ct(r),o=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:o.type}))}}),Sd(e)){const{mark:n,markDef:r,encoding:i}=e;if(De(n)&&!e.encoding.order){const e=i["horizontal"===r.orient?"y":"x"];Ti(e)&&"quantitative"===e.type&&!(e.field in t)&&(t[e.field]="number")}}return t}class Df extends ss{constructor(e,t){super(e),this._parse=t}clone(){return new Df(null,D(this._parse))}hash(){return"Parse "+N(this._parse)}static makeExplicit(e,t,n){let r={};const i=t.data;return!tu(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}static makeWithAncestors(e,t,n,r){for(const e of W(n)){const t=r.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:On(un(e,n[e],t.value)))}for(const e of W(t)){const n=r.get(e);void 0!==n&&(n===t[e]?delete t[e]:On(un(e,t[e],n)))}const i=new Rc(t,n);r.copyAll(i);const o={};for(const e of W(i.combine())){const t=i.get(e);null!==t&&(o[e]=t)}return 0===W(o).length||r.parseNothing?null:new Df(e,o)}get parse(){return this._parse}merge(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of W(this._parse)){const n=this._parse[t];1===re(t)&&(e[t]=n)}return e}producedFields(){return new Set(W(this._parse))}dependentFields(){return new Set(W(this._parse))}assembleTransforms(e=!1){return W(this._parse).filter(t=>!e||re(t)>1).map(e=>{const t=function(e,t){const n=Z(e);return"number"===t?`toNumber(${n})`:"boolean"===t?`toBoolean(${n})`:"string"===t?`toString(${n})`:"date"===t?`toDate(${n})`:"flatten"===t?n:0===t.indexOf("date:")?`timeParse(${n},'${Af(t.slice(5,t.length))}')`:0===t.indexOf("utc:")?`utcParse(${n},'${Af(t.slice(4,t.length))}')`:(On(function(e){return`Unrecognized parse "${e}".`}(t)),null)}(e,this._parse[e]);return t?{type:"formula",expr:t,as:ne(e)}:null}).filter(e=>null!==e)}}class Pf extends ss{constructor(e,t){super(e),this.transform=t}clone(){return new Pf(null,D(this.transform))}addDimensions(e){this.transform.groupby=I(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:Wi(e)}hash(){return"JoinAggregateTransform "+N(this.transform)}assemble(){const e=[],t=[],n=[];for(const r of this.transform.joinaggregate)t.push(r.op),n.push(this.getDefaultName(r)),e.push(void 0===r.field?null:r.field);const r=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==r?{groupby:r}:{})}}class Tf extends ss{constructor(e,t){super(e),this._stack=t}clone(){return new Tf(null,D(this._stack))}static makeFromTransform(e,t){const{stack:n,groupby:r,as:i,offset:a="zero"}=t,s=[],l=[];if(void 0!==t.sort)for(const e of t.sort)s.push(e.field),l.push(ie(e.order,"ascending"));const c={field:s,order:l};let f;return f=function(e){return o(e)&&e.every(e=>u(e))&&e.length>1}(i)?i:u(i)?[i,i+"_end"]:[t.stack+"_start",t.stack+"_end"],new Tf(e,{stackField:n,groupby:r,offset:a,sort:c,facetby:[],as:f})}static makeFromEncoding(e,t){const n=t.stack,{encoding:r}=t;if(!n)return null;const{groupbyChannel:i,fieldChannel:a,offset:u,impute:s}=n;let l;i&&(l=eo(r[i]));const c=function(e){return e.stack.stackBy.reduce((e,t)=>{const n=Wi(t.fieldDef);return n&&e.push(n),e},[])}(t),f=t.encoding.order;let d;return d=o(f)||Ti(f)?xo(f):c.reduce((e,t)=>(e.field.push(t),e.order.push("y"===a?"descending":"ascending"),e),{field:[],order:[]}),new Tf(e,{dimensionFieldDef:l,stackField:t.vgField(a),facetby:[],stackby:c,sort:d,offset:u,impute:s,as:[t.vgField(a,{suffix:"start",forAs:!0}),t.vgField(a,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return"Stack "+N(this._stack)}getGroupbyFields(){const{dimensionFieldDef:e,impute:t,groupby:n}=this._stack;return e?e.bin?t?[Wi(e,{binSuffix:"mid"})]:[Wi(e,{}),Wi(e,{binSuffix:"end"})]:[Wi(e)]:null!=n?n:[]}assemble(){const e=[],{facetby:t,dimensionFieldDef:n,stackField:r,stackby:i,sort:o,offset:a,impute:u,as:s}=this._stack;if(u&&n){const{band:o=.5,bin:a}=n;a&&e.push({type:"formula",expr:o+"*"+Wi(n,{expr:"datum"})+`+${1-o}*`+Wi(n,{expr:"datum",binSuffix:"end"}),as:Wi(n,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:r,groupby:[...i,...t],key:Wi(n,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:r,sort:o,as:s,offset:a}),e}}class Ff extends ss{constructor(e,t){super(e),this.transform=t}clone(){return new Ff(null,D(this.transform))}addDimensions(e){this.transform.groupby=I(this.transform.groupby.concat(e),e=>e)}dependentFields(){var e,t;const n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(e=>n.add(e.field)),this.transform.window.map(e=>e.field).filter(e=>void 0!==e).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:Wi(e)}hash(){return"WindowTransform "+N(this.transform)}assemble(){var e;const t=[],n=[],r=[],i=[];for(const e of this.transform.window)n.push(e.op),r.push(this.getDefaultName(e)),i.push(void 0===e.param?null:e.param),t.push(void 0===e.field?null:e.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&null===o[0]&&null===o[1]&&n.every(e=>He(e)))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==a?{groupby:a}:{});const u=[],s=[];if(void 0!==this.transform.sort)for(const t of this.transform.sort)u.push(t.field),s.push(null!==(e=t.order)&&void 0!==e?e:"ascending");const l={field:u,order:s},c=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:n,fields:t,sort:l},void 0!==c?{ignorePeers:c}:{}),void 0!==a?{groupby:a}:{}),void 0!==o?{frame:o}:{})}}class Nf extends ss{clone(){return new Nf(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class jf extends _f{run(e){const t=e.parent;if(e instanceof Df){if(xf(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof Df)this.setMutated(),t.merge(e);else{if(q(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}class Rf extends Ef{mergeNodes(e,t){const n=t.shift();for(const r of t)e.removeChild(r),r.parent=n,r.remove()}run(e){const t=e.children.map(e=>e.hash()),n={};for(let r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);for(const t of W(n))n[t].length>1&&(this.setMutated(),this.mergeNodes(e,n[t]));for(const t of e.children)this.run(t);return this.mutatedFlag}}class Bf extends _f{run(e){return e instanceof ls||e.numChildren()>0||e instanceof Sf||(this.setMutated(),e.remove()),this.flags}}class Lf extends _f{constructor(){super(...arguments),this.fields=new Set,this.prev=null}run(e){if(this.setContinue(),e instanceof cs){const t=e.producedFields();$(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([...this.fields,...t]),this.prev=e}return this.flags}reset(){this.fields.clear()}}class zf extends _f{run(e){this.setContinue();const t=e.parent.children.filter(e=>e instanceof cs),n=t.pop();for(const e of t)this.setMutated(),n.merge(e);return this.flags}}function If(e){if(e instanceof Sf)if(1!==e.numChildren()||e.children[0]instanceof ls){const n=e.model.component.data.main;!function e(t){if(t instanceof ls&&t.type===ou&&1===t.numChildren()){const n=t.children[0];n instanceof Sf||(n.swapWithParent(),e(t))}}(n);const r=(t=e,function e(n){if(!(n instanceof Sf)){const r=n.clone();if(r instanceof ls){const e=Gf+r.getSource();r.setSource(e),t.model.component.data.outputNodes[e]=r}else(r instanceof Cf||r instanceof Tf||r instanceof Ff||r instanceof Pf)&&r.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=r;return[r]}return n.children.flatMap(e)}),i=e.children.map(r).flat();for(const e of i)e.parent=n}else{const t=e.children[0];(t instanceof Cf||t instanceof Tf||t instanceof Ff||t instanceof Pf)&&t.addDimensions(e.fields),t.swapWithParent(),If(e)}else e.children.map(If);var t}class $f extends Ef{constructor(){super()}run(e){e instanceof ls&&!e.isRequired()&&(this.setMutated(),e.remove());for(const t of e.children)this.run(t);return this.mutatedFlag}}class Uf extends Ef{constructor(e){super(),this.requiresSelectionId=e&&Us(e)}run(e){e instanceof Nf&&(this.requiresSelectionId&&(xf(e.parent)||e.parent instanceof Cf||e.parent instanceof Df)||(this.setMutated(),e.remove()));for(const t of e.children)this.run(t);return this.mutatedFlag}}class qf extends _f{run(e){const t=e.parent,n=[...t.children],r=t.children.filter(e=>e instanceof Df);if(t.numChildren()>1&&r.length>=1){const e={},i=new Set;for(const t of r){const n=t.parse;for(const t of W(n))t in e?e[t]!==n[t]&&i.add(t):e[t]=n[t]}for(const t of i)delete e[t];if(0!==W(e).length){this.setMutated();const r=new Df(t,e);for(const i of n){if(i instanceof Df)for(const t of W(e))delete i.parse[t];t.removeChild(i),i.parent=r,i instanceof Df&&0===W(i.parse).length&&i.remove()}}}return this.setContinue(),this.flags}}class Wf extends _f{run(e){const t=e.parent,n=t.children.filter(e=>e instanceof Cf),r={};for(const e of n){const t=N(e.groupBy);t in r||(r[t]=[]),r[t].push(e)}for(const e of W(r)){const n=r[e];if(n.length>1){const e=n.pop();for(const r of n)e.merge(r)&&(t.removeChild(r),r.parent=e,r.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class Hf extends _f{constructor(e){super(),this.model=e}run(e){const t=e.parent,n=!(xf(t)||t instanceof ql||t instanceof Df||t instanceof Nf),r=[],i=[];for(const e of t.children)e instanceof mf&&(n&&!q(t.producedFields(),e.dependentFields())?r.push(e):i.push(e));if(r.length>0){const e=r.pop();for(const t of r)e.merge(t,this.model.renameSignal.bind(this.model));this.setMutated(),t instanceof mf?t.merge(e,this.model.renameSignal.bind(this.model)):e.swapWithParent()}if(i.length>1){const e=i.pop();for(const t of i)e.merge(t,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class Vf extends _f{run(e){const t=e.parent,n=[...t.children];if(!B(n,e=>e instanceof ls)||t.numChildren()<=1)return this.setContinue(),this.flags;const r=[];let i;for(const e of n)if(e instanceof ls){let n=e;for(;1===n.numChildren();){const e=n.children[0];if(!(e instanceof ls))break;n=e}r.push(...n.children),i?(t.removeChild(e),e.parent=i.parent,i.parent.removeChild(i),i.parent=n,this.setMutated()):i=n}else r.push(e);if(r.length){this.setMutated();for(const e of r)e.parent.removeChild(e),e.parent=i}return this.setContinue(),this.flags}}const Gf="scale_";function Yf(e){const t=[];function n(e){if(0===e.numChildren())t.push(e);else for(const t of e.children)n(t)}for(const t of e)n(t);return t}function Xf(e){return e}function Kf(e,t){return t.map(t=>{if(e instanceof _f){const n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)}).some(Xf)}function Qf(e,t){let n=e.sources;const r=new Set;return r.add(Kf(new $f,n)),r.add(Kf(new Uf(t),n)),n=n.filter(e=>e.numChildren()>0),r.add(Kf(new Bf,Yf(n))),n=n.filter(e=>e.numChildren()>0),r.add(Kf(new jf,Yf(n))),r.add(Kf(new Hf(t),Yf(n))),r.add(Kf(new Lf,Yf(n))),r.add(Kf(new qf,Yf(n))),r.add(Kf(new Wf,Yf(n))),r.add(Kf(new zf,Yf(n))),r.add(Kf(new Rf,n)),r.add(Kf(new Vf,Yf(n))),e.sources=n,r.has(!0)}class Jf{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new Jf(()=>e(t))}}function Zf(e){Sd(e)?function(e){const t=e.component.scales;for(const n of W(t)){const r=ed(e,n);if(t[n].setWithExplicit("domains",r),id(e,n),e.component.data.isFaceted){let t=e;for(;!Ad(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[n])for(const e of r.value)Gn(e)&&(e.data=Gf+e.data.replace(Gf,""))}}}(e):function(e){for(const t of e.children)Zf(t);const t=e.component.scales;for(const n of W(t)){let r,i=null;for(const t of e.children){const e=t.component.scales[n];if(e){r=void 0===r?e.getWithExplicit("domains"):$c(r,e.getWithExplicit("domains"),"domains","scale",ad);const t=e.get("selectionExtent");i&&t&&i.selection!==t.selection&&On("The same selection must be used to override scale domains in a layered view."),i=t}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}(e)}function ed(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=function(e,t,n,r){if("unaggregated"===e){const{valid:e,reason:r}=od(t,n);if(!e)return void On(r)}else if(void 0===e&&r.useUnaggregatedDomain){const{valid:e}=od(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&to(r.x2)?to(r.x)?$c(nd(n,i,e,"x"),nd(n,i,e,"x2"),"domain","scale",ad):nd(n,i,e,"x2"):"y"===t&&to(r.y2)?to(r.y)?$c(nd(n,i,e,"y"),nd(n,i,e,"y2"),"domain","scale",ad):nd(n,i,e,"y2"):nd(n,i,e,t)}function td(e,t,n){var r;const i=null===(r=Wn(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map(e=>({signal:`{data: ${so(e,{timeUnit:n,type:t})}}`}))}(e,t,i):[e]}function nd(e,t,n,r){const{encoding:i}=n,o=to(i[r]),{type:u}=o,s=o.timeUnit;if(function(e){return e&&e.unionWith}(t)){const i=nd(e,void 0,n,r),o=td(t.unionWith,u,s);return Bc([...i.value,...o])}if(Hn(t))return Bc([t]);if(t&&"unaggregated"!==t&&!qr(t))return Bc(td(t,u,s));const l=n.stack;if(l&&r===l.fieldChannel){if("normalize"===l.offset)return Lc([[0,1]]);const e=n.requestDataName(ou);return Lc([{data:e,field:n.vgField(r,{suffix:"start"})},{data:e,field:n.vgField(r,{suffix:"end"})}])}const c=$t(r)&&Ti(o)?function(e,t,n){if(!zr(n))return;const r=e.fieldDef(t),i=r.sort;if(wi(i))return{op:"min",field:dc(r,t),order:"ascending"};const{stack:o}=e,a=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map(e=>e.fieldDef.field)]:void 0;if(xi(i)){const e=o&&!R(a,i.field);return rd(i,e)}if(bi(i)){const{encoding:t,order:n}=i,r=e.fieldDef(t),{aggregate:u,field:s}=r,l=o&&!R(a,s);if(qe(u)||We(u))return rd({field:Wi(r),order:n},l);if(He(u)||!u)return rd({op:u,field:s,order:n},l)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(R(["ascending",void 0],i))return!0}}(n,r,e):void 0;if(Ni(o))return Lc(td([o.datum],u,s));const f=o;if("unaggregated"===t){const e=n.requestDataName(ou),{field:t}=o;return Lc([{data:e,field:Wi({field:t,aggregate:"min"})},{data:e,field:Wi({field:t,aggregate:"max"})}])}if(Gt(f.bin)){if(zr(e))return Lc("bin-ordinal"===e?[]:[{data:G(c)?n.requestDataName(ou):n.requestDataName("raw"),field:n.vgField(r,co(f,r)?{binSuffix:"range"}:{}),sort:!0!==c&&a(c)?c:{field:n.vgField(r,{}),op:"min"}}]);{const{bin:e}=f;if(Gt(e)){const t=pf(n,f.field,e);return Lc([new Jf(()=>{const e=n.getSignalName(t);return`[${e}.start, ${e}.stop]`})])}return Lc([{data:n.requestDataName(ou),field:n.vgField(r,{})}])}}if(f.timeUnit&&R(["time","utc"],e)&&Oi(r,f,Sd(n)?n.encoding[At(r)]:void 0,n.stack,n.markDef,n.config)){const e=n.requestDataName(ou);return Lc([{data:e,field:n.vgField(r)},{data:e,field:n.vgField(r,{suffix:"end"})}])}return Lc(c?[{data:G(c)?n.requestDataName(ou):n.requestDataName("raw"),field:n.vgField(r),sort:c}]:[{data:n.requestDataName(ou),field:n.vgField(r)}])}function rd(e,t){const{op:n,field:r,order:i}=e;return Object.assign(Object.assign({op:null!=n?n:t?"sum":gi},r?{field:ee(r)}:{}),i?{order:i}:{})}function id(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=qr(i)&&i,u=Xt(o)&&Kt(o.extent)&&o.extent;(a||u)&&r.set("selectionExtent",null!=a?a:u,!0)}function od(e,t){const{aggregate:n,type:r}=e;return n?u(n)&&!Xe[n]?{valid:!1,reason:gn(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:vn(e)}:{valid:!0}:{valid:!1,reason:mn(e)}}function ad(e,t,n,r){return e.explicit&&t.explicit&&On(function(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${F(n)} and ${F(r)}). Using the union of the two domains.`}(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function ud(e){const t=I(e.map(e=>Gn(e)?_(e,["sort"]):e),N),n=I(e.map(e=>{if(Gn(e)){const t=e.sort;return void 0===t||G(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(e=>void 0!==e),N);if(0===t.length)return;if(1===t.length){const t=e[0];if(Gn(t)&&n.length>0){let e=n[0];if(n.length>1)On(xn),e=!0;else if(a(e)&&"field"in e){const n=e.field;t.field===n&&(e=!e.order||{order:e.order})}return Object.assign(Object.assign({},t),{sort:e})}return t}const r=I(n.map(e=>G(e)||!("op"in e)||e.op in Ue?e:(On(function(e){return`Dropping sort property ${F(e)} as unioned domains only support boolean or op "count", "min", and "max".`}(e)),!0)),N);let i;1===r.length?i=r[0]:r.length>1&&(On(xn),i=!0);const o=I(e.map(e=>Gn(e)?e.data:null),e=>e);return 1===o.length&&null!==o[0]?Object.assign({data:o[0],fields:t.map(e=>e.field)},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}function sd(e){if(Gn(e)&&u(e.field))return e.field;if(function(e){return!o(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(Gn(n)&&u(n.field))if(t){if(t!==n.field)return On("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=n.field;return On("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!o(e)&&"fields"in e&&"data"in e}(e)){On("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");const t=e.fields[0];return u(t)?t:void 0}}function ld(e,t){return ud(e.component.scales[t].get("domains").map(t=>(Gn(t)&&(t.data=e.lookupDataSource(t.data)),t)))}function cd(e){return W(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:a,selectionExtent:u,domains:s,range:l,reverse:c}=i,f=_(i,["name","type","selectionExtent","domains","range","reverse"]),d=function(e,t,n){return Ft(n)&&Vn(e)?{step:{signal:t+"_step"}}:e}(i.range,o,n);let p;u&&(p=function(e,t){const n=t.selection;return{signal:Hl(e.getSelectionComponent(n,Y(n)),t)}}(e,u));const h=ld(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:a},h?{domain:h}:{}),p?{domainRaw:p}:{}),{range:d}),void 0!==c?{reverse:c}:{}),f)),t},[])}class fd extends Rc{constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||B(this.get("domains"),e=>o(e)&&2===e.length&&e[0]<=0&&e[1]>=0)}}const dd=["range","scheme"];function pd(e){return"x"===e?"width":"y"===e?"height":void 0}function hd(e,t){const n=e.fieldDef(t);if(n&&n.bin&&Gt(n.bin)){const r=pf(e,n.field,n.bin),i=pd(t),o=e.getName(i);return new Jf(()=>{const t=e.getSignalName(r),n=`(${t}.stop - ${t}.start) / ${t}.step`;return`${e.getSignalName(o)} / (${n})`})}}function md(e,t){const n=t.specifiedScales[e],{size:r}=t,i=t.getScaleComponent(e).get("type");for(const r of dd)if(void 0!==n[r]){const a=Vr(i,r),u=Gr(e,r);if(a)if(u)On(u);else switch(r){case"range":return o(n.range)&&Ft(e)?Bc(n.range.map(e=>{if("width"===e||"height"===e){const n=t.getName(e),r=t.getSignalName.bind(t);return Jf.fromName(r,n)}return e})):Bc(n.range);case"scheme":return Bc(gd(n[r]))}else On(yn(i,r,e))}if(e===Je||e===Ze){const t=e===Je?"width":"height",n=r[t];if(ua(n)){if(zr(i))return Bc({step:n.step});On(bn(t))}}return Lc(function(e,t){const{size:n,config:r,mark:i,encoding:a}=t,u=t.getSignalName.bind(t),{type:s}=to(a[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:f}=t.specifiedScales[e];switch(e){case Je:case Ze:{if(R(["point","band"],l))if(e!==Je||n.width){if(e===Ze&&!n.height){const e=da(r.view,"height");if(ua(e))return e}}else{const e=da(r.view,"width");if(ua(e))return e}const i=pd(e),o=t.getName(i);return e===Ze&&Ir(l)?[Jf.fromName(u,o),0]:[0,Jf.fromName(u,o)]}case lt:{const a=t.component.scales[e].get("zero"),u=function e(t,n,r){if(n)return Hn(n)?{signal:`${n.signal} ? 0 : ${e(t,!1,r)}`}:0;switch(t){case"bar":case"tick":return r.scale.minBandSize;case"line":case"trail":case"rule":return r.scale.minStrokeWidth;case"text":return r.scale.minFontSize;case"point":case"square":case"circle":return r.scale.minSize}throw new Error(dn("size",t))}(i,a,r),s=function(e,t,n,r){const i={x:hd(n,"x"),y:hd(n,"y")};switch(e){case"bar":case"tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const e=vd(t,i,r.view);return x(e)?e-1:new Jf(()=>e.signal+" - 1")}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const e=vd(t,i,r.view);return x(e)?Math.pow(.95*e,2):new Jf(()=>`pow(0.95 * ${e.signal}, 2)`)}}throw new Error(dn("size",e))}(i,n,t,r);return Ur(l)?function(e,t,n){const r=()=>{const r=Hn(t)?t.signal:t,i=Hn(e)?e.signal:e,o=`(${r} - ${i}) / (${n} - 1)`;return`sequence(${i}, ${r} + ${o}, ${o})`};return Hn(t)?new Jf(r):{signal:r()}}(u,s,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&o(n)?n.length+1:(On(function(e){return`Domain for ${e} is required for threshold scale.`}(r)),3)}}(l,r,c,e)):[u,s]}case rt:return[0,2*Math.PI];case"angle":return[0,360];case nt:return[0,new Jf(()=>`min(${t.getSignalName("width")},${t.getSignalName("height")})/2`)];case"strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case st:return"symbol";case ot:case at:case ut:return"ordinal"===l?"nominal"===s?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}(e,t))}function gd(e){return function(e){return!u(e)&&!!e.name}(e)?Object.assign({scheme:e.name},T(e,["name"])):{scheme:e}}function vd(e,t,n){const r=ua(e.width)?e.width.step:fa(n,"width"),i=ua(e.height)?e.height.step:fa(n,"height");return t.x||t.y?new Jf(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function yd(e,t){Sd(e)?function(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:a}=e;for(const u of W(n)){const s=a[u],l=n[u],c=e.getScaleComponent(u),f=to(i[u]),d=s[t],p=c.get("type"),h=Vr(p,t),m=Gr(u,t);if(void 0!==d&&(h?m&&On(m):On(yn(p,t,u))),h&&void 0===m)if(void 0!==d)l.copyKeyFromObject(t,s);else{const n=bd(t,e,u,f,c.get("type"),c.get("padding"),c.get("paddingInner"),s.domain,o,r);void 0!==n&&l.set(t,n,!1)}}}(e,t):wd(e,t)}function bd(e,t,n,r,i,a,u,s,l,c){const f=c.scale,{type:d}=r;switch(e){case"bins":return Ti(r)?function(e,t){const n=t.bin;if(Gt(n)){const r=pf(e,t.field,n);return new Jf(()=>e.getSignalName(r))}if(Yt(n)&&Xt(n)&&void 0!==n.step)return{step:n.step}}(t,r):void 0;case"interpolate":return function(e,t){if(R([ot,at,ut],e)&&"nominal"!==t)return"hcl"}(n,d);case"nice":return function(e,t,n){var r;if(!(null===(r=eo(n))||void 0===r?void 0:r.bin)&&!R([wr,_r],e))return!!R(Tt,t)||void 0}(i,n,r);case"padding":return function(e,t,n,r,i,o){if(R(Tt,e)){if($r(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=i;if("bar"===t&&(!Ti(r)||!r.bin&&!r.timeUnit)&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===Sr)return n.pointPadding}}(n,i,f,r,l,c.bar);case"paddingInner":return function(e,t,n,r){if(void 0===e&&R(Tt,t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:i}=r;return ie(e,"bar"===n?t:i)}}(a,n,l.type,f);case"paddingOuter":return function(e,t,n,r,i,o){if(void 0===e&&R(Tt,t)&&n===Ar){const{bandPaddingOuter:e}=o;return ie(e,Hn(i)?{signal:i.signal+"/2"}:i/2)}}(a,n,i,l.type,u,f);case"reverse":return function(e,t,n,r){return"x"===n&&void 0!==r.xReverse?Ir(e)&&"descending"===t?Hn(r.xReverse)?{signal:"!"+r.xReverse.signal}:!r.xReverse:r.xReverse:!(!Ir(e)||"descending"!==t)||void 0}(i,Ti(r)?r.sort:void 0,n,f);case"zero":return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&Ir(i)){if(o(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Ur(i))return!0;if((!Ti(t)||!t.bin)&&R([...Tt,...jt],e)){const{orient:t,type:n}=r;return!R(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e)}return!1}(n,r,s,l,i)}return f[e]}function xd(e){Sd(e)?function(e){const t=e.component.scales;for(const n of It){const r=t[n];if(!r)continue;const i=md(n,e);r.setWithExplicit("range",i)}}(e):wd(e,"range")}function wd(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?xd(n):yd(n,t);for(const r of W(n)){let i;for(const n of e.children){const e=n.component.scales[r];e&&(i=$c(i,e.getWithExplicit(t),t,"scale",zc((e,n)=>{switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})))}n[r].setWithExplicit(t,i)}}function _d(e,t,n,r){const i=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(mt(e)||"discrete"===Ht(e))return"shape"===e&&"ordinal"===t.type&&On(hn(e,"ordinal")),"ordinal";if(R(Tt,e)){if(R(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&R(jt,e))return"band";return void 0!==t.band||$i(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return mt(e)?"time":"discrete"===Ht(e)?(On(hn(e,"temporal")),"ordinal"):Ti(t)&&t.timeUnit&&Wn(t.timeUnit).utc?"utc":"time";case"quantitative":return mt(e)?Ti(t)&&Gt(t.bin)?"bin-ordinal":"linear":"discrete"===Ht(e)?(On(hn(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(ln(t.type))}(t,n,r),{type:o}=e;return $t(t)?void 0!==o?Xr(t,o)?Ti(n)&&!Yr(o,n.type)?(On(function(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}(o,i)),i):o:(On(function(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}(t,o,i)),i):i:null}function Ed(e){Sd(e)?e.component.scales=function(e){const{encoding:t,mark:n}=e;return It.reduce((r,i)=>{const o=to(t[i]);if(o&&n===Me&&i===st&&o.type===hr)return r;let a=o&&o.scale;if(o&&null!==a&&!1!==a){a=null!=a?a:{};const t=_d(a,i,o,n);r[i]=new fd(e.scaleName(i+"",!0),{value:t,explicit:a.type===t})}return r},{})}(e):e.component.scales=function(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const n of e.children){Ed(n);for(const o of W(n.component.scales))if(i.scale[o]=null!==(t=i.scale[o])&&void 0!==t?t:Nc(o,e),"shared"===i.scale[o]){const e=r[o],t=n.component.scales[o].getWithExplicit("type");e?Dr(e.value,t.value)?r[o]=$c(e,t,"type","scale",kd):(i.scale[o]="independent",delete r[o]):r[o]=t}}for(const t of W(r)){const i=e.scaleName(t,!0),o=r[t];n[t]=new fd(i,o);for(const n of e.children){const e=n.component.scales[t];e&&(n.renameScale(e.get("name"),i),e.merged=!0)}}return n}(e)}const kd=zc((e,t)=>Tr(e)-Tr(t));class Cd{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function Sd(e){return"unit"===(null==e?void 0:e.type)}function Ad(e){return"facet"===(null==e?void 0:e.type)}function Od(e){return"concat"===(null==e?void 0:e.type)}function Md(e){return"layer"===(null==e?void 0:e.type)}class Dd{constructor(e,t,n,r,i,o,a){var u,s;this.type=t,this.parent=n,this.config=i,this.view=a,this.children=[],this.correctDataNames=e=>(e.from&&e.from.data&&(e.from.data=this.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e),this.parent=n,this.config=i,this.name=null!==(u=e.name)&&void 0!==u?u:r,this.title=po(e.title)?{text:e.title}:e.title,this.scaleNameMap=n?n.scaleNameMap:new Cd,this.projectionNameMap=n?n.projectionNameMap:new Cd,this.signalNameMap=n?n.signalNameMap:new Cd,this.data=e.data,this.description=e.description,this.transforms=(null!==(s=e.transform)&&void 0!==s?s:[]).map(e=>au(e)?{filter:O(e.filter,sr)}:e),this.layout="layer"===t||"unit"===t?{}:function(e,t,n){var r,i;const o=n[t],a={},{spacing:u,columns:s}=o;void 0!==u&&(a.spacing=u),void 0!==s&&(ki(e)&&!_i(e.facet)||ia(e))&&(a.columns=s),oa(e)&&(a.columns=1);for(const t of la)if(void 0!==e[t])if("spacing"===t){const n=e[t];a[t]=x(n)?n:{row:null!==(r=n.row)&&void 0!==r?r:u,column:null!==(i=n.column)&&void 0!==i?i:u}}else a[t]=e[t];return a}(e,t,i),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:ki(e)||n&&n.component.data.isFaceted&&void 0===e.data},layoutSize:new Rc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?D(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e,{ignoreRange:t}={}){Ed(e),Zf(e);for(const t of Hr)yd(e,t);t||xd(e)}(this)}parseProjection(){ff(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ef(this)}assembleGroupStyle(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}assembleEncodeFromView(e){const t=_(e,["style"]),n={};for(const e of W(t)){const r=t[e];void 0!==r&&(n[e]=ho(r))}return n}assembleGroupEncodeEntry(e){let t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),e||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=t?t:{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=_(e,["spacing"]),{component:r,config:i}=this,o=function(e,t){const n={};for(const r of vt){const i=e[r];if(null==i?void 0:i.facetFieldDef){const{titleAnchor:e,titleOrient:o}=mc(["titleAnchor","titleOrient"],i.facetFieldDef,t,r),a=pc(r,o),u=Sc(e,a);void 0!==u&&(n[a]=u)}}return W(n).length>0?n:void 0}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of vt)e[n].title&&t.push(yc(this,n));for(const e of gc)t=t.concat(wc(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(e=>Xl(e,"grid",t)),...r.map(e=>Xl(e,"grid",t)),...n.map(e=>Xl(e,"main",t)),...r.map(e=>Xl(e,"main",t))].filter(e=>e)}(this.component.axes,this.config)}assembleLegends(){return af(this)}assembleProjections(){return uf(this)}assembleTitle(){var e,t,n;const r=null!==(e=this.title)&&void 0!==e?e:{},{encoding:i}=r,o=_(r,["encoding"]),a=Object.assign(Object.assign(Object.assign({},fo(this.config.title).nonMark),o),i?{encode:{update:i}}:{});if(a.text)return R(["unit","layer"],this.type)?R(["middle",void 0],a.anchor)&&(a.frame=null!==(t=a.frame)&&void 0!==t?t:"group"):a.anchor=null!==(n=a.anchor)&&void 0!==n?n:"start",!1===this.config.aria&&(a.aria=!1),W(a).length>0?a:void 0}assembleGroup(e=[]){const t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const r=!this.parent||Ad(this.parent)?function e(t){return Md(t)||Od(t)?t.children.reduce((t,n)=>t.concat(e(n)),cd(t)):cd(t)}(this):[];r.length>0&&(t.scales=r);const i=this.assembleAxes();i.length>0&&(t.axes=i);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}getName(e){return Y((this.name?this.name+"_":"")+e)}requestDataName(e){var t;const n=this.getName(e),r=this.component.data.outputNodeRefCounts;return r[n]=(null!==(t=r[n])&&void 0!==t?t:0)+1,n}getSizeSignalRef(e){if(Ad(this.parent)){const t=Rt(Tc(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),r=n.get("range");if(zr(e)&&Vn(r)){const e=n.get("name"),r=sd(ld(this,t));return r?{signal:Pc(e,n,Wi({aggregate:"distinct",field:r},{expr:"datum"}))}:(On(`Unknown field for ${t}. Cannot calculate view size.`),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):_t(e)&&$t(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(function(e){return`Cannot find a selection named "${e}".`}(t));return n}}class Pd extends Dd{vgField(e,t={}){const n=this.fieldDef(e);if(n)return Wi(n,t)}reduceFieldDef(e,t){return Do(this.getMapping(),(t,n,r)=>{const i=eo(n);return i?e(t,i,r):t},t)}forEachFieldDef(e,t){Mo(this.getMapping(),(t,n)=>{const r=eo(t);r&&e(r,n)},t)}}class Td extends ss{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=D(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"value",null!==(i=o[1])&&void 0!==i?i:"density"]}clone(){return new Td(null,D(this.transform))}dependentFields(){var e;return new Set([this.transform.density,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform "+N(this.transform)}assemble(){const e=this.transform,{density:t}=e,n=_(e,["density"]);return Object.assign({type:"kde",field:t},n)}}class Fd extends ss{constructor(e,t){super(e),this.filter=t}clone(){return new Fd(null,Object.assign({},this.filter))}static make(e,t){const{config:n,mark:r,markDef:i}=t;if("filter"!==go("invalid",i,n))return null;const o=t.reduceFieldDef((e,n,i)=>{const o=$t(i)&&t.getScaleComponent(i);return o&&Ir(o.get("type"))&&"count"!==n.aggregate&&!De(r)&&(e[n.field]=n),e},{});return W(o).length?new Fd(e,o):null}dependentFields(){return new Set(W(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid "+N(this.filter)}assemble(){const e=W(this.filter).reduce((e,t)=>{const n=this.filter[t],r=Wi(n,{expr:"datum"});return null!==n&&("temporal"===n.type?e.push(`(isDate(${r}) || (isValid(${r}) && isFinite(+${r})))`):"quantitative"===n.type&&(e.push(`isValid(${r})`),e.push(`isFinite(+${r})`))),e},[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class Nd extends ss{constructor(e,t){super(e),this.transform=t,this.transform=D(t);const{flatten:n,as:r=[]}=this.transform;this.transform.as=n.map((e,t)=>{var n;return null!==(n=r[t])&&void 0!==n?n:e})}clone(){return new Nd(this.parent,D(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform "+N(this.transform)}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class jd extends ss{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=D(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"key",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new jd(null,D(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform "+N(this.transform)}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class Rd extends ss{constructor(e,t,n,r){super(e),this.fields=t,this.geojson=n,this.signal=r}clone(){return new Rd(null,D(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const r of[["longitude","latitude"],["longitude2","latitude2"]]){const i=r.map(e=>{const n=to(t.encoding[e]);return Ti(n)?n.field:Ni(n)?{expr:""+n.datum}:zi(n)?{expr:""+n.value}:void 0});(i[0]||i[1])&&(e=new Rd(e,i,null,t.getName("geojson_"+n++)))}if(t.channelHasField(st)){const r=t.typedFieldDef(st);r.type===hr&&(e=new Rd(e,null,r.field,t.getName("geojson_"+n++)))}return e}dependentFields(){var e;const t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(u);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${N(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class Bd extends ss{constructor(e,t,n,r){super(e),this.projection=t,this.fields=n,this.as=r}clone(){return new Bd(null,this.projection,D(this.fields),D(this.as))}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[["longitude","latitude"],["longitude2","latitude2"]]){const r=n.map(e=>{const n=to(t.encoding[e]);return Ti(n)?n.field:Ni(n)?{expr:""+n.datum}:zi(n)?{expr:""+n.value}:void 0}),i="longitude2"===n[0]?"2":"";(r[0]||r[1])&&(e=new Bd(e,t.projectionName(),r,[t.getName("x"+i),t.getName("y"+i)]))}return e}dependentFields(){return new Set(this.fields.filter(u))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${N(this.fields)} ${N(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ld extends ss{constructor(e,t){super(e),this.transform=t}clone(){return new Ld(null,D(this.transform))}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:r}=e;return{signal:`sequence(${[t,n,...r?[r]:[]].join(",")})`}}static makeFromTransform(e,t){return new Ld(e,t)}static makeFromEncoding(e,t){const n=t.encoding,r=n.x,i=n.y;if(Ti(r)&&Ti(i)){const o=r.impute?r:i.impute?i:void 0;if(void 0===o)return;const a=r.impute?i:i.impute?r:void 0,{method:u,value:s,frame:l,keyvals:c}=o.impute,f=Po(t.mark,n);return new Ld(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:a.field},u?{method:u}:{}),void 0!==s?{value:s}:{}),l?{frame:l}:{}),void 0!==c?{keyvals:c}:{}),f.length?{groupby:f}:{}))}return null}hash(){return"Impute "+N(this.transform)}assemble(){const{impute:e,key:t,keyvals:n,method:r,groupby:i,value:o,frame:a=[null,null]}=this.transform,u=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:e,key:t},n?{keyvals:uu(n)?this.processSequence(n):n}:{}),{method:"value"}),i?{groupby:i}:{}),{value:r&&"value"!==r?null:o});return r&&"value"!==r?[u,Object.assign({type:"window",as:[`imputed_${e}_value`],ops:[r],fields:[e],frame:a,ignorePeers:!1},i?{groupby:i}:{}),{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]:[u]}}class zd extends Rc{constructor(e={},t={},n=!1){super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}class Id extends ss{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=D(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.loess]}clone(){return new Id(null,D(this.transform))}dependentFields(){var e;return new Set([this.transform.loess,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform "+N(this.transform)}assemble(){const e=this.transform,{loess:t,on:n}=e,r=_(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}class $d extends ss{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new $d(null,D(this.transform),this.secondary)}static make(e,t,n,r){const i=t.component.data.sources,{from:o}=n;let a=null;if(function(e){return"data"in e}(o)){let e=np(o.data,i);e||(e=new gf(o.data),i.push(e));const n=t.getName("lookup_"+r);a=new ls(e,n,"lookup",t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=a}else if(function(e){return"selection"in e}(o)){const e=o.selection;if(n=Object.assign({as:e},n),a=t.getSelectionComponent(Y(e),e).materialized,!a)throw new Error(function(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}(e))}return new $d(e,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?g(this.transform.as):this.transform.from.fields)}hash(){return"Lookup "+N({transform:this.transform,secondary:this.secondary})}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:g(this.transform.as)}:{});else{let t=this.transform.as;u(t)||(On('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}class Ud extends ss{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=D(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:"prob",null!==(i=o[1])&&void 0!==i?i:"value"]}clone(){return new Ud(null,D(this.transform))}dependentFields(){var e;return new Set([this.transform.quantile,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform "+N(this.transform)}assemble(){const e=this.transform,{quantile:t}=e,n=_(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}class qd extends ss{constructor(e,t){var n,r,i;super(e),this.transform=t,this.transform=D(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(r=o[0])&&void 0!==r?r:t.on,null!==(i=o[1])&&void 0!==i?i:t.regression]}clone(){return new qd(null,D(this.transform))}dependentFields(){var e;return new Set([this.transform.regression,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform "+N(this.transform)}assemble(){const e=this.transform,{regression:t,on:n}=e,r=_(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}class Wd extends ss{constructor(e,t){super(e),this.transform=t}clone(){return new Wd(null,D(this.transform))}addDimensions(e){var t;this.transform.groupby=I((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),e=>e)}producedFields(){}dependentFields(){var e;return new Set([this.transform.pivot,this.transform.value,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}hash(){return"PivotTransform "+N(this.transform)}assemble(){const{pivot:e,value:t,groupby:n,limit:r,op:i}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:e,value:t},void 0!==r?{limit:r}:{}),void 0!==i?{op:i}:{}),void 0!==n?{groupby:n}:{})}}class Hd extends ss{constructor(e,t){super(e),this.transform=t}clone(){return new Hd(null,D(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform "+N(this.transform)}assemble(){return{type:"sample",size:this.transform.sample}}}function Vd(e){let t=0;return function n(r,i){var o;if(r instanceof gf&&!r.isGenerator&&!Ja(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Df&&(r.parent instanceof gf&&!i.source?(i.format=Object.assign(Object.assign({},null!==(o=i.format)&&void 0!==o?o:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof Sf){i.name||(i.name="data_"+t++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source;for(const t of r.assemble())e.push(t)}else switch((r instanceof yf||r instanceof bf||r instanceof Fd||r instanceof ql||r instanceof fc||r instanceof Bd||r instanceof Rd||r instanceof Cf||r instanceof $d||r instanceof Ff||r instanceof Pf||r instanceof jd||r instanceof Nd||r instanceof Td||r instanceof Id||r instanceof Ud||r instanceof qd||r instanceof Nf||r instanceof Hd||r instanceof Wd)&&i.transform.push(r.assemble()),(r instanceof mf||r instanceof cs||r instanceof Ld||r instanceof Tf)&&i.transform.push(...r.assemble()),r instanceof ls&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof ls?r.setSource(i.name):(i.name||(i.name="data_"+t++),r.setSource(i.name),1===r.numChildren()&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof ls&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name="data_"+t++);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const e of r.children)n(e,{name:null,source:o,transform:[]});break}}}}function Gd(e){return"top"===e||"left"===e||Hn(e)?"header":"footer"}function Yd(e,t){var n;const{facet:r,config:i,child:a,component:u}=e;if(e.channelHasField(t)){const s=r[t],l=hc("title",null,i,t);let c=Ki(s,i,{allowDisabling:!0,includeDefault:void 0===l||!!l});a.component.layoutHeaders[t].title&&(c=o(c)?c.join(", "):c,c+=" / "+a.component.layoutHeaders[t].title,a.component.layoutHeaders[t].title=null);const f=hc("labelOrient",s,i,t),d=ie((null!==(n=s.header)&&void 0!==n?n:{}).labels,i.header.labels,!0),p=R(["bottom","right"],f)?"footer":"header";u.layoutHeaders[t]={title:c,facetFieldDef:s,[p]:"facet"===t?[]:[Xd(e,t,d)]}}}function Xd(e,t,n){const r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function Kd(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:i,resolve:o}=e.component;if(o.axis[t]=jc(o,t),"shared"===o.axis[t]){const o="x"===t?"column":"row",a=i[o];for(const i of r.component.axes[t]){const t=Gd(i.get("orient"));a[t]=null!==(n=a[t])&&void 0!==n?n:[Xd(e,o,!1)];const r=Xl(i,"main",e.config,{header:!0});r&&a[t][0].axes.push(r),i.mainExtracted=!0}}}}function Qd(e){for(const t of e.children)t.parseLayoutSize()}function Jd(e,t){const n=Tc(t),r=Rt(n),i=e.component.resolve,o=e.component.layoutSize;let a;for(const t of e.children){const e=t.component.layoutSize.getWithExplicit(n),o=i.scale[r];if("independent"===o&&"step"===e.value){a=void 0;break}if(a){if("independent"===o&&a.value!==e.value){a=void 0;break}a=$c(a,e,n,"")}else a=e}if(a){for(const r of e.children)e.renameSignal(r.getName(n),e.getName(t)),r.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Zd(e,t){const n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const e=i.get("type"),n=i.get("range");if(zr(e)){const e=da(r.view,t);return Vn(n)||ua(e)?"step":e}return ca(r.view,t)}if(e.hasProjection||"arc"===e.mark)return ca(r.view,t);{const e=da(r.view,t);return ua(e)?e.step:e}}function ep(e,t,n){return Wi(t,Object.assign({suffix:"by_"+Wi(e)},null!=n?n:{}))}class tp extends Pd{constructor(e,t,n,r){super(e,"facet",t,n,r,e.resolve),this.child=Ep(e.spec,this,this.getName("child"),void 0,r),this.children=[this.child],this.facet=this.initFacet(e.facet,r)}initFacet(e,t){return _i(e)?Do(e,(e,n,r)=>R([Ke,Qe],r)?void 0===n.field?(On(fn(n,r)),e):(e[r]=no(n,r,t),e):(On(dn(r,"facet")),e),{}):{facet:no(e,"facet",t)}}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=ip(this),this.child.parseData()}parseLayoutSize(){Qd(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of vt)Yd(e,t);Kd(e,"x"),Kd(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){var e,t,n;const r={};for(const i of vt)for(const o of vc){const a=this.component.layoutHeaders[i],u=a[o],{facetFieldDef:s}=a;if(s){const t=hc("titleOrient",s,this.config,i);if(R(["right","bottom"],t)){const n=pc(i,t);r.titleAnchor=null!==(e=r.titleAnchor)&&void 0!==e?e:{},r.titleAnchor[n]="end"}}if(null==u?void 0:u[0]){const e="row"===i?"height":"width",u="header"===o?"headerBand":"footerBand";"facet"===i||this.child.component.layoutSize.get(e)||(r[u]=null!==(t=r[u])&&void 0!==t?t:{},r[u][i]=.5),a.title&&(r.offset=null!==(n=r.offset)&&void 0!==n?n:{},r.offset["row"===i?"rowTitle":"columnTitle"]=10)}}return r}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let r="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(r="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),n?{columns:n}:{}),{bounds:"full",align:r})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof tp))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroup(e){return this.parent&&this.parent instanceof tp?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Wi(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof tp){if(this.child.channelHasField("column")){const r=Wi(this.child.facet.column);e.push(r),t.push("distinct"),n.push("distinct_"+r)}}else for(const r of Tt){const i=this.child.component.scales[r];if(i&&!i.merged){const o=i.get("type"),a=i.get("range");if(zr(o)&&Vn(a)){const i=sd(ld(this.child,r));i?(e.push(i),t.push("distinct"),n.push("distinct_"+i)):On(`Unknown field for ${r}. Cannot calculate view size.`)}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:r}=this.facet,{fields:i,ops:a,as:u}=this.getCardinalityAggregateForChild(),s=[];for(const e of vt){const t=this.facet[e];if(t){s.push(Wi(t));const{bin:l,sort:c}=t;if(Gt(l)&&s.push(Wi(t,{binSuffix:"end"})),xi(c)){const{field:e,op:o=gi}=c,s=ep(t,c);n&&r?(i.push(s),a.push("max"),u.push(s)):(i.push(e),a.push(o),u.push(s))}else if(o(c)){const n=dc(t,e);i.push(n),a.push("max"),u.push(n)}}}const l=!!n&&!!r;return Object.assign({name:e,data:t,groupby:s},l||i.length>0?{aggregate:Object.assign(Object.assign({},l?{cross:l}:{}),i.length?{fields:i,ops:a,as:u}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?xi(n.sort)?[ep(n,n.sort,{expr:"datum"})]:o(n.sort)?[dc(n,e,{expr:"datum"})]:[Wi(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(xi(e)?e.order:!o(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return Ec(e.facet,"facet",t);const n={row:["top","bottom"],column:["left","right"]};for(const r of gc)if(e[r]){const i=hc("labelOrient",e[r],t,r);if(R(n[r],i))return Ec(e[r],r,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=Vd(t);for(const t of e.children)n(t,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||e.assembleTitle(),i=e.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},r?{title:r}:{}),i?{style:i}:{}),{from:{facet:this.assembleFacet()},sort:{field:vt.map(e=>this.facetSortFields(e)).flat(),order:vt.map(e=>this.facetSortOrder(e)).flat()}}),t.length>0?{data:t}:{}),n?{encode:{update:n}}:{}),e.assembleGroup(function(e,t){if(e.component.selection&&W(e.component.selection).length){const n=s(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Cu("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return Os(t)}(this,[])))]}getMapping(){return this.facet}}function np(e,t){var n,r,i,o,a,u,s,l,c,f;for(const d of t){const t=d.data;if(!(e.name&&d.hasName()&&e.name!==d.dataName||(null===(n=e.format)||void 0===n?void 0:n.mesh)&&(null===(r=t.format)||void 0===r?void 0:r.feature)||((null===(i=e.format)||void 0===i?void 0:i.feature)||(null===(o=t.format)||void 0===o?void 0:o.feature))&&(null===(a=e.format)||void 0===a?void 0:a.feature)!==(null===(u=t.format)||void 0===u?void 0:u.feature)||((null===(s=e.format)||void 0===s?void 0:s.mesh)||(null===(l=t.format)||void 0===l?void 0:l.mesh))&&(null===(c=e.format)||void 0===c?void 0:c.mesh)!==(null===(f=t.format)||void 0===f?void 0:f.mesh)))if(Za(e)&&Za(t)){if(M(e.values,t.values))return d}else if(Ja(e)&&Ja(t)){if(e.url===t.url)return d}else if(eu(e)&&e.name===d.dataName)return d}return null}function rp(e,t){if(e.data||!e.parent){if(null===e.data){const e=new gf([]);return t.push(e),e}const n=np(e.data,t);if(n)return tu(e.data)||(n.data.format=function(e,...t){for(const n of t)z(e,null!=n?n:{});return e}({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new gf(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function ip(e){var t,n,r,i,o,a,u,s,l,c;let f=rp(e,e.component.data.sources);const{outputNodes:d,outputNodeRefCounts:p}=e.component.data,h=e.parent?e.parent.component.data.ancestorParse.clone():new zd,m=e.data;tu(m)?(nu(m)?f=new bf(f,m.sequence):iu(m)&&(f=new yf(f,m.graticule)),h.parseNothing=!0):null===(null===(t=null==m?void 0:m.format)||void 0===t?void 0:t.parse)&&(h.parseNothing=!0),f=null!==(n=Df.makeExplicit(f,e,h))&&void 0!==n?n:f,f=new Nf(f);const g=e.parent&&Md(e.parent);(Sd(e)||Ad(e))&&g&&(f=null!==(r=mf.makeFromEncoding(f,e))&&void 0!==r?r:f),e.transforms.length>0&&(f=function(e,t,n){var r,i;let o=0;for(const a of t.transforms){let u,s=void 0;if(yu(a))u=e=new fc(e,a),s="derived";else if(au(a)){const i=Of(a);u=e=null!==(r=Df.makeWithAncestors(e,{},i,n))&&void 0!==r?r:e,e=new ql(e,t,a.filter)}else if(bu(a))u=e=mf.makeFromTransform(e,a,t),s="number";else if(wu(a))s="date",void 0===n.getWithExplicit(a.field).value&&(e=new Df(e,{[a.field]:s}),n.set(a.field,s,!1)),u=e=cs.makeFromTransform(e,a);else if(_u(a))u=e=Cf.makeFromTransform(e,a),s="number",Us(t)&&(e=new Nf(e));else if(su(a))u=e=$d.make(e,t,a,o++),s="derived";else if(mu(a))u=e=new Ff(e,a),s="number";else if(gu(a))u=e=new Pf(e,a),s="number";else if(Eu(a))u=e=Tf.makeFromTransform(e,a),s="derived";else if(ku(a))u=e=new jd(e,a),s="derived";else if(vu(a))u=e=new Nd(e,a),s="derived";else if(lu(a))u=e=new Wd(e,a),s="derived";else if(hu(a))e=new Hd(e,a);else if(xu(a))u=e=Ld.makeFromTransform(e,a),s="derived";else if(cu(a))u=e=new Td(e,a),s="derived";else if(fu(a))u=e=new Ud(e,a),s="derived";else if(du(a))u=e=new qd(e,a),s="derived";else{if(!pu(a)){On(`Ignoring an invalid transform: ${F(a)}.`);continue}u=e=new Id(e,a),s="derived"}if(u&&void 0!==s)for(const e of null!==(i=u.producedFields())&&void 0!==i?i:[])n.set(e,s,!1)}return e}(f,e,h));const v=function(e){const t={};if(Sd(e)&&e.component.selection)for(const n of W(e.component.selection)){const r=e.component.selection[n];for(const e of r.project.items)!e.channel&&re(e.field)>1&&(t[e.field]="flatten")}return t}(e),y=Mf(e);f=null!==(i=Df.makeWithAncestors(f,{},Object.assign(Object.assign({},v),y),h))&&void 0!==i?i:f,Sd(e)&&(f=Rd.parseAll(f,e),f=Bd.parseAll(f,e)),(Sd(e)||Ad(e))&&(g||(f=null!==(o=mf.makeFromEncoding(f,e))&&void 0!==o?o:f),f=null!==(a=cs.makeFromEncoding(f,e))&&void 0!==a?a:f,f=fc.parseAllForSortIndex(f,e));const b=e.getName("raw"),x=new ls(f,b,"raw",p);if(d[b]=x,f=x,Sd(e)){const t=Cf.makeFromEncoding(f,e);t&&(f=t,Us(e)&&(f=new Nf(f))),f=null!==(u=Ld.makeFromEncoding(f,e))&&void 0!==u?u:f,f=null!==(s=Tf.makeFromEncoding(f,e))&&void 0!==s?s:f}Sd(e)&&(f=null!==(l=Fd.make(f,e))&&void 0!==l?l:f);const w=e.getName(ou),_=new ls(f,w,ou,p);d[w]=_,f=_,Sd(e)&&function(e,t){Is(e,n=>{const r=n.name,i=e.getName("lookup_"+r);e.component.data.outputNodes[i]=n.materialized=new ls(new ql(t,e,{selection:r}),i,"lookup",e.component.data.outputNodeRefCounts)})}(e,_);let E=null;if(Ad(e)){const t=e.getName("facet");f=null!==(c=function(e,t){const{row:n,column:r}=t;if(n&&r){let t=null;for(const i of[n,r])if(xi(i.sort)){const{field:n,op:r=gi}=i.sort;e=t=new Pf(e,{joinaggregate:[{op:r,field:n,as:ep(i,i.sort,{forAs:!0})}],groupby:[Wi(i)]})}return t}return null}(f,e.facet))&&void 0!==c?c:f,E=new Sf(f,e,t,_.getSource()),d[t]=E}return Object.assign(Object.assign({},e.component.data),{outputNodes:d,outputNodeRefCounts:p,raw:x,main:_,facetRoot:E,ancestorParse:h})}class op extends Dd{constructor(e,t,n,r){var i,o,a,u;super(e,"concat",t,n,r,e.resolve),"shared"!==(null===(o=null===(i=e.resolve)||void 0===i?void 0:i.axis)||void 0===o?void 0:o.x)&&"shared"!==(null===(u=null===(a=e.resolve)||void 0===a?void 0:a.axis)||void 0===u?void 0:u.y)||On("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),this.children=this.getChildren(e).map((e,t)=>Ep(e,this,this.getName("concat_"+t),void 0,r))}parseData(){this.component.data=ip(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of W(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return oa(e)?e.vconcat:aa(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){Qd(e);const t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Jd(e,t),Jd(e,n)}(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){const e=Oc(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleMarks(){return this.children.map(e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())})}assembleDefaultLayout(){const e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}const ap=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},de),{labelExpr:1,encode:1}),up=W(ap);class sp extends Rc{constructor(e={},t={},n=!1){super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new sp(D(this.explicit),D(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!function(e){return!1===e||null===e}(this.get(e)))}}const lp={bottom:"top",top:"bottom",left:"right",right:"left"};function cp(e,t){if(!e)return t.map(e=>e.clone());{if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const n=e[r],i=t[r];if(!!n!=!!i)return;if(n&&i){const t=n.getWithExplicit("orient"),o=i.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[r]=fp(n,i)}}}return e}function fp(e,t){for(const n of up){const r=$c(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(e,t)=>{switch(n){case"title":return Eo(e,t);case"gridScale":return{explicit:e.explicit,value:ie(e.value,t.value)}}return Ic(e,t,n,"axis")});e.setWithExplicit(n,r)}return e}function dp(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Hn(n.labelAngle)?n.labelAngle:ae(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===cc(r,i))return!0}return e===n[t]}const pp=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function hp(e,t){var n,r,i;let o=t.axis(e);const a=new sp,u=to(t.encoding[e]),{mark:s,config:l}=t,c=(null==o?void 0:o.orient)||(null===(n=l["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=l.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=rc(e,f,c,t.config),p=void 0!==o?!o:oc("disable",l,null==o?void 0:o.style,d).configValue;if(a.set("disable",p,void 0!==o),p)return a;o=o||{};const h=function(e,t,n,r,i){const o=null==t?void 0:t.labelAngle;if(void 0!==o)return Hn(o)?o:ae(o);{const{configValue:o}=oc("labelAngle",e.config,null==t?void 0:t.style,i);return void 0!==o?ae(o):n===Je&&R([pr,fr],r.type)?270:void 0}}(t,o,e,u,d),m={fieldOrDatumDef:u,axis:o,channel:e,model:t,scaleType:f,orient:c,labelAngle:h,mark:s,config:l};for(const n of up){const r=n in ac?ac[n](m):he(n)?o[n]:void 0,i=void 0!==r,u=dp(r,n,o,t,e);if(i&&u)a.set(n,r,u);else{const{configValue:e,configFrom:s}=he(n)&&"values"!==n?oc(n,t.config,o.style,d):{},l=void 0!==e;i&&!l?a.set(n,r,u):("vgAxisConfig"!==s||pp.has(n)&&l||le(e)||Hn(e))&&a.set(n,e,!1)}}const g=null!==(i=o.encoding)&&void 0!==i?i:{},v=ce.reduce((n,r)=>{var i;if(!a.hasAxisPart(r))return n;const o=Fc(null!==(i=g[r])&&void 0!==i?i:{},t),u="labels"===r?function(e,t,n){var r;const{encoding:i,config:o}=e,a=null!==(r=to(i[t]))&&void 0!==r?r:to(i[At(t)]),u=e.axis(t)||{},{format:s,formatType:l}=u;return oi(l)?Object.assign({text:li({fieldOrDatumDef:a,field:"datum.value",format:s,formatType:l,config:o})},n):n}(t,e,o):o;return void 0!==u&&W(u).length>0&&(n[r]={update:u}),n},{});return W(v).length>0&&a.set("encode",v,!!o.encoding||void 0!==o.labelAngle),a}function mp(e,t,n,{graticule:r}){const i=Fe(e)?Object.assign({},e):{type:e},o=go("orient",i,n);if(i.orient=function(e,t,n){switch(e){case we:case Ae:case Oe:case ke:case _e:case be:return}const{x:r,y:i,x2:o,y2:a}=t;switch(e){case ye:if(Ti(r)&&(Yt(r.bin)||Ti(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Ti(i)&&(Yt(i.bin)||Ti(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(a||o){if(n)return n;if(!o&&(Ti(r)&&r.type===cr&&!Gt(r.bin)||Ri(r)))return"horizontal";if(!a&&(Ti(i)&&i.type===cr&&!Gt(i.bin)||Ri(i)))return"vertical"}case Ee:if(o&&(!Ti(r)||!Yt(r.bin))&&a&&(!Ti(i)||!Yt(i.bin)))return;case ve:if(a)return Ti(i)&&Yt(i.bin)?"horizontal":"vertical";if(o)return Ti(r)&&Yt(r.bin)?"vertical":"horizontal";if(e===Ee){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case xe:case Ce:{const t=ji(r),o=ji(i);if(t&&!o)return"tick"!==e?"horizontal":"vertical";if(!t&&o)return"tick"!==e?"vertical":"horizontal";if(t&&o){const t=r,o=i,a=t.type===dr,u=o.type===dr;return a&&!u?"tick"!==e?"vertical":"horizontal":!a&&u?"tick"!==e?"horizontal":"vertical":!t.aggregate&&o.aggregate?"tick"!==e?"vertical":"horizontal":t.aggregate&&!o.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}}return"vertical"}(i.type,t,o),void 0!==o&&o!==i.orient&&On(`Specified orient "${i.orient}" overridden with "${o}".`),"bar"===i.type&&i.orient){const e=go("cornerRadiusEnd",i,n);if(void 0!==e){const n="horizontal"===i.orient&&t.x2||"vertical"===i.orient&&t.y2?["cornerRadius"]:Re[i.orient];for(const t of n)i[t]=e;void 0!==i.cornerRadiusEnd&&delete i.cornerRadiusEnd}}return void 0===go("opacity",i,n)&&(i.opacity=function(e,t){if(R([we,Ce,Ae,Oe],e)&&!Co(t))return.7}(i.type,t)),void 0===i.filled&&(i.filled=!r&&function(e,t){const n=vo("filled",e,t),r=e.type;return ie(n,r!==we&&r!==xe&&r!==Ee)}(i,n)),void 0===go("cursor",i,n)&&(i.cursor=function(e,t,n){return t.href||e.href||go("href",e,n)?"pointer":e.cursor}(i,t,n)),i}function gp(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Wu("x",e,{defaultPos:"mid"})),Wu("y",e,{defaultPos:"mid"})),$u("size",e)),$u("angle",e)),function(e,t,n){return n?{shape:{value:n}}:$u("shape",e)}(e,0,t))}function vp(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,o="horizontal"===i?"width":"height",a=e.getScaleComponent("horizontal"===i?"x":"y"),u=null!==(t=go("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;{const e=a?a.get("range"):void 0;return e&&Vn(e)&&x(e.step)?3*e.step/4:3*fa(n.view,o)/4}}const yp={arc:{vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Wu("x",e,{defaultPos:"mid"})),Wu("y",e,{defaultPos:"mid"})),Ju(e,"radius","arc")),Ju(e,"theta","arc"))},area:{vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),Xu("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),os(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ju(e,"x","bar")),Ju(e,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:e=>gp(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&Ti(n)&&n.type===hr?{field:Wi(n,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Ju(e,"x","image")),Ju(e,"y","image")),ju(e,"url"))},line:{vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Wu("x",e,{defaultPos:"mid"})),Wu("y",e,{defaultPos:"mid"})),$u("size",e,{vgChannel:"strokeWidth"})),os(e))},point:{vgMark:"symbol",encodeEntry:e=>gp(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ju(e,"x","rect")),Ju(e,"y","rect"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Xu("x",e,{defaultPos:"horizontal"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==n})),Xu("y",e,{defaultPos:"vertical"===n?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==n})),$u("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>gp(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Wu("x",e,{defaultPos:"mid"})),Wu("y",e,{defaultPos:"mid"})),ju(e)),$u("size",e,{vgChannel:"fontSize"})),$u("angle",e)),as("align",function(e,t,n){if(void 0===go("align",e,n))return"center"}(e.markDef,0,t))),as("baseline",function(e,t,n){if(void 0===go("baseline",e,n))return"middle"}(e.markDef,0,t))),Wu("radius",e,{defaultPos:null,isMidPoint:!0})),Wu("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i="horizontal"===r?"width":"height",o="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Wu("x",e,{defaultPos:"mid",vgChannel:"xc"})),Wu("y",e,{defaultPos:"mid",vgChannel:"yc"})),$u("size",e,{defaultValue:vp(e),vgChannel:i})),{[o]:ho(go("thickness",n,t))})}},trail:{vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Wu("x",e,{defaultPos:"mid"})),Wu("y",e,{defaultPos:"mid"})),$u("size",e)),os(e))}};function bp(e){return R([xe,ve,Se],e.mark)?function(e){const t=Po(e.mark,e.encoding),n=xp(e,{fromPrefix:t.length>0?"faceted_path_":""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(ou),data:e.requestDataName(ou),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):R([ye],e.mark)?function(e){const t=Kn.some(t=>go(t,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t){const[t]=xp(e,{fromPrefix:"stack_group_"}),n=e.scaleName(e.stack.fieldChannel),r=(t={})=>e.vgField(e.stack.fieldChannel,t),i=(e,t)=>`${e}(${[r({prefix:"min",suffix:"start",expr:t}),r({prefix:"max",suffix:"start",expr:t}),r({prefix:"min",suffix:"end",expr:t}),r({prefix:"max",suffix:"end",expr:t})].map(e=>`scale('${n}',${e})`).join(",")})`;let o,a;"x"===e.stack.fieldChannel?(o=Object.assign(Object.assign({},P(t.encode.update,["y","yc","y2","height",...Kn])),{x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}}),a={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update=Object.assign(Object.assign({},T(t.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(o=Object.assign(Object.assign({},P(t.encode.update,["x","xc","x2","width"])),{y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}}),a={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update=Object.assign(Object.assign({},T(t.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const n of Kn){const r=vo(n,e.markDef,e.config);t.encode.update[n]?(o[n]=t.encode.update[n],delete t.encode.update[n]):r&&(o[n]=ho(r)),r&&(t.encode.update[n]={value:0})}const u=e.fieldDef(e.stack.groupbyChannel),s=Wi(u)?[Wi(u)]:[];return((null==u?void 0:u.bin)||(null==u?void 0:u.timeUnit))&&s.push(Wi(u,{binSuffix:"end"})),o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((n,r)=>{if(t.encode.update[r])return Object.assign(Object.assign({},n),{[r]:t.encode.update[r]});{const t=vo(r,e.markDef,e.config);return void 0!==t?Object.assign(Object.assign({},n),{[r]:ho(t)}):n}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ou),name:"stack_group_"+e.requestDataName(ou),groupby:s,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:a},marks:[t]}]}]}return xp(e)}(e):xp(e)}function xp(e,t={fromPrefix:""}){const{mark:n,markDef:r,config:i}=e,a=ie(r.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),u=mo(r),s=e.encoding.key,l=function(e){const{encoding:t,stack:n,mark:r,markDef:i,config:a}=e,u=t.order;if(!(!o(u)&&zi(u)&&j(u.value)||!u&&j(go("order",i,a)))){if((o(u)||Ti(u))&&!n)return xo(u,{expr:"datum"});if(De(r)){const n="horizontal"===i.orient?"y":"x",r=t[n];if(Ti(r)){const t=r.sort;return o(t)?{field:Wi(r,{prefix:n,suffix:"sort_index",expr:"datum"})}:xi(t)?{field:Wi({aggregate:Co(e.encoding)?t.op:void 0,field:t.field},{expr:"datum"})}:bi(t)?{field:Wi(e.fieldDef(t.encoding),{expr:"datum"}),order:t.order}:null===t?void 0:{field:Wi(r,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}}}(e),c=function(e){if(!e.component.selection)return null;const t=W(e.component.selection).length;let n=t,r=e.parent;for(;r&&0===n;)n=W(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}(e),f=go("aria",r,i),d=yp[n].postEncodingTransform?yp[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:yp[n].vgMark},a?{clip:!0}:{}),u?{style:u}:{}),s?{key:s.field}:{}),l?{sort:l}:{}),c||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(ou)},encode:{update:yp[n].encodeEntry(e)}}),d?{transform:d}:{})]}class wp extends Pd{constructor(e,t,n,r={},i){var o,a;super(e,"unit",t,n,i,void 0,sa(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const u=Fe(e.mark)?e.mark.type:e.mark;this.markDef=mp(e.mark,null!==(o=e.encoding)&&void 0!==o?o:{},i,{graticule:e.data&&iu(e.data)});const s=this.encoding=Ao(null!==(a=e.encoding)&&void 0!==a?a:{},this.markDef,i);this.size=function({encoding:e,size:t}){for(const n of Tt){const r=Ot(n);ua(t[r])&&ji(e[n])&&(delete t[r],On(bn(r)))}return t}({encoding:s,size:sa(e)?Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):r}),this.stack=Da(u,s),this.specifiedScales=this.initScales(u,s),this.specifiedAxes=this.initAxes(s),this.specifiedLegends=this.initLegend(s),this.specifiedProjection=e.projection,this.selection=e.selection}get hasProjection(){const{encoding:e}=this,t=this.mark===Me,n=e&&pt.some(t=>Bi(e[t]));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return It.reduce((e,n)=>{var r;const i=to(t[n]);return i&&(e[n]=null!==(r=i.scale)&&void 0!==r?r:{}),e},{})}initAxes(e){return Tt.reduce((t,n)=>{const r=e[n];if(Bi(r)||n===Je&&Bi(e.x2)||n===Ze&&Bi(e.y2)){const e=Bi(r)?r.axis:void 0;t[n]=e?Object.assign({},e):e}return t},{})}initLegend(e){return Lt.reduce((t,n)=>{const r=to(e[n]);if(r&&function(e){switch(e){case ot:case at:case ut:case lt:case st:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(n)){const e=r.legend;t[n]=e?Object.assign({},e):e}return t},{})}parseData(){this.component.data=ip(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const r of Tt){const i=Ot(r);if(t[i]){const e=t[i];n.layoutSize.set(i,ua(e)?"step":e,!0)}else{const t=Zd(e,i);n.layoutSize.set(i,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){var n;const r={},i=e.config.selection;for(const o of W(null!=t?t:{})){const a=D(t[o]),s=_(i[a.type],["fields","encodings"]);for(const e in s)"encodings"===e&&a.fields||"fields"===e&&a.encodings||("mark"===e&&(a[e]=Object.assign(Object.assign({},s[e]),a[e])),void 0!==a[e]&&!0!==a[e]||(a[e]=null!==(n=s[e])&&void 0!==n?n:a[e]));const l=Y(o),c=r[l]=Object.assign(Object.assign({},a),{name:l,events:u(a.on)?Cu(a.on,"scope"):D(a.on)});Cs(c,n=>{n.has(c)&&n.parse&&n.parse(e,c,a,t[o])})}return r}(this,this.selection)}parseMarkGroup(){this.component.mark=bp(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,Tt.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[hp(n,e)]),t),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){let n=!1;return Is(e,(r,i)=>{const o=r.name,a=s(o+js);if(0===t.filter(e=>e.name===o).length){const e="global"===r.resolve?"union":r.resolve,n="multi"===r.type?", true)":")";t.push({name:r.name,update:`${Ls}(${a}, ${s(e)}${n}`})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),Cs(r,n=>{n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))})}),n&&0===t.filter(e=>"unit"===e.name).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),Os(t)}(this,e)}assembleSignals(){return[...Kl(this),...(e=this,t=[],Is(e,(n,r)=>{const i=n.name;let o=r.modifyExpr(e,n);t.push(...r.signals(e,n)),Cs(n,r=>{r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(o=r.modifyExpr(e,n,o))}),t.push({name:i+Bs,on:[{events:{signal:n.name+Rs},update:`modify(${s(n.name+js)}, ${o})`}]})}),Os(t))];var e,t}assembleSelectionData(e){return function(e,t){const n=[...t];return Is(e,t=>{const r={name:t.name+js};if(t.init){const n=t.project.items.map(e=>_(e,["signals"])),i=t.init.map(e=>Ss(e,!1));r.values="interval"===t.type?[{unit:$s(e,{escape:!1}),fields:n,values:i}]:i.map(t=>({unit:$s(e,{escape:!1}),fields:n,values:t}))}n.filter(e=>e.name===t.name+js).length||n.push(r)}),n}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return Oc(this)}assembleMarks(){var e;let t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&Md(this.parent)||(t=As(this,t)),t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return ko(this.encoding,e)}fieldDef(e){return eo(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return Li(t)?t:null}}class _p extends Dd{constructor(e,t,n,r,i){super(e,"layer",t,n,i,e.resolve,e.view);const o=Object.assign(Object.assign(Object.assign({},r),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});this.children=e.layer.map((e,t)=>{if(ka(e))return new _p(e,this,this.getName("layer_"+t),o,i);if(ze(e))return new wp(e,this,this.getName("layer_"+t),o,i);throw new Error(Jt(e))})}parseData(){this.component.data=ip(this);for(const e of this.children)e.parseData()}parseLayoutSize(){var e;Qd(e=this),Jd(e,"width"),Jd(e,"height")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of W(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var t;const{axes:n,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const t of e.children){t.parseAxesAndHeaders();for(const i of W(t.component.axes))r.axis[i]=jc(e.component.resolve,i),"shared"===r.axis[i]&&(n[i]=cp(n[i],t.component.axes[i]),n[i]||(r.axis[i]="independent",delete n[i]))}for(const o of Tt){for(const a of e.children)if(a.component.axes[o]){if("independent"===r.axis[o]){n[o]=(null!==(t=n[o])&&void 0!==t?t:[]).concat(a.component.axes[o]);for(const e of a.component.axes[o]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(!Hn(t)){if(i[t]>0&&!n){const n=lp[t];i[t]>i[n]&&e.set("orient",n,!1)}i[t]++}}}delete a.component.axes[o]}if("independent"===r.axis[o]&&n[o]&&n[o].length>1)for(const e of n[o])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleSignals()),Kl(this))}assembleLayoutSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleLayoutSignals()),Oc(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)Sd(n)&&(t=As(n,t));return t}(this,this.children.flatMap(e=>e.assembleMarks()))}assembleLegends(){return this.children.reduce((e,t)=>e.concat(t.assembleLegends()),af(this))}}function Ep(e,t,n,r,i){if(ki(e))return new tp(e,t,n,i);if(ka(e))return new _p(e,t,n,r,i);if(ze(e))return new wp(e,t,n,r,i);if(function(e){return oa(e)||aa(e)||ia(e)}(e))return new op(e,t,n,i);throw new Error(Jt(e))}const kp=new class extends Ca{mapUnit(e,{config:t}){if(e.encoding){const{encoding:n,transform:r}=e,{bins:i,timeUnits:o,aggregate:a,groupby:u,encoding:s}=So(n,t),l=[...r||[],...i,...o,...0===a.length?[]:[{aggregate:a,groupby:u}]];return Object.assign(Object.assign(Object.assign({},e),l.length>0?{transform:l}:{}),{encoding:s})}return e}},Cp=t;e.compile=function(e,t={}){var n;t.logger&&(n=t.logger,An=n),t.fieldTitle&&Xi(t.fieldTitle);try{const n=ya(p(t.config,e.config)),r=Ga(e,n),i=Ep(r,null,"",void 0,n);return i.parse(),function(e,t){vf(e.sources);let n=0,r=0;for(let r=0;r<5&&Qf(e,t);r++)n++;e.sources.map(If);for(let n=0;n<5&&Qf(e,t);n++)r++;vf(e.sources),5===Math.max(n,r)&&On("Maximum optimization runs(5) reached.")}(i.component.data,i),{spec:function(e,t,n={},r){const i=e.config?_a(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){var n,r;const i=[],o=Vd(i);let a=0;for(const t of e.sources){t.hasName()||(t.dataName="source_"+a++);const e=t.assemble();o(t,e)}for(const e of i)0===e.transform.length&&delete e.transform;let u=0;for(const[e,t]of i.entries())0!==(null!==(n=t.transform)&&void 0!==n?n:[]).length||t.source||i.splice(u++,0,i.splice(e,1)[0]);for(const t of i)for(const n of null!==(r=t.transform)&&void 0!==r?r:[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of i)e.name in t&&(e.values=t[e.name]);return i}(e.component.data,n)),a=e.assembleProjections(),u=e.assembleTitle(),s=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();return c=c.filter(e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),u?{title:u}:{}),s?{style:s}:{}),l?{encode:{update:l}}:{}),{data:o}),a.length>0?{projections:a}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([])])),i?{config:i}:{}),r?{usermeta:r}:{})}(i,function(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?t={type:"pad"}:u(t)&&(t={type:t}),i&&o&&("fit"===(a=t.type)||"fit-x"===a||"fit-y"===a))if("step"===i&&"step"===o)On(tn()),t.type="pad";else if("step"===i||"step"===o){const e="step"===i?"width":"height";On(tn(Rt(e)));const n="width"===e?"height":"width";t.type=function(e){return e?"fit-"+Rt(e):"fit"}(n)}var a;return Object.assign(Object.assign(Object.assign({},1===W(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),Qa(n)),Qa(e))}(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&(An=kn),t.fieldTitle&&Xi(Gi)}},e.extractTransforms=function(e,t){return kp.map(e,{config:t})},e.normalize=Ga,e.version=Cp,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));t(jw);var Rw=n((function(e,t){e.exports=function(e,t){var n="6.8.0";
/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */
function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}
/*!
	     * https://github.com/Starcounter-Jack/JSON-Patch
	     * (c) 2017 Joachim Wester
	     * MIT license
	     */var i,o=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=Object.prototype.hasOwnProperty;function u(e,t){return a.call(e,t)}function s(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);for(var r in t=[],e)u(e,r)&&t.push(r);return t}function l(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function c(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function f(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function p(e,t){var n=[e];for(var r in t){var i="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==i&&n.push(r+": "+i)}return n.join("\n")}var h=function(e){function t(t,n,r,i,o){var a=this.constructor,u=e.call(this,p(t,{name:n,index:r,operation:i,tree:o}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=o,Object.setPrototypeOf(u,a.prototype),u.message=p(t,{name:n,index:r,operation:i,tree:o}),u}return o(t,e),t}(Error),m=h,g=l,v={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=b(n,this.path);r&&(r=l(r));var i=x(n,{op:"remove",path:this.from}).removed;return x(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=b(n,this.from);return x(n,{op:"add",path:this.path,value:l(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:k(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},y={add:function(e,t,n){return c(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:v.move,copy:v.copy,test:v.test,_get:v._get};function b(e,t){if(""==t)return e;var n={op:"_get",path:t};return x(e,n),n.value}function x(e,t,n,r,i,o){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=0),n&&("function"==typeof n?n(t,0,e,t.path):_(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=b(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=k(e,t.value),!1===a.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return a}r||(e=l(e));var u=(t.path||"").split("/"),s=e,f=1,p=u.length,h=void 0,g=void 0,x=void 0;for(x="function"==typeof n?n:_;;){if(g=u[f],i&&"__proto__"==g)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===h&&(void 0===s[g]?h=u.slice(0,f).join("/"):f==p-1&&(h=t.path),void 0!==h&&x(t,0,e,h)),f++,Array.isArray(s)){if("-"===g)g=s.length;else{if(n&&!c(g))throw new m("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);c(g)&&(g=~~g)}if(f>=p){if(n&&"add"===t.op&&g>s.length)throw new m("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(a=y[t.op].call(t,s,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}}else if(g&&-1!=g.indexOf("~")&&(g=d(g)),f>=p){if(!1===(a=v[t.op].call(t,s,g,e)).test)throw new m("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return a}s=s[g]}}function w(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=l(e));for(var o=new Array(t.length),a=0,u=t.length;a<u;a++)o[a]=x(e,t[a],n,!0,i,a),e=o[a].newDocument;return o.newDocument=e,o}function _(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new m("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!v[e.op])throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new m("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new m('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new m("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"==typeof t){var i=s(t),o=i.length;for(n=0;n<o;n++)if(e(t[i[n]]))return!0}return!1}(e.value))throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new m("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new m("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=E([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new m("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function E(e,t,n){try{if(!Array.isArray(e))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)w(l(t),l(e),n||!0);else{n=n||_;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof m)return e;throw e}}function k(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!k(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!=n--;)if(!k(e[i=u[n]],t[i]))return!1;return!0}return e!=e&&t!=t}var C=Object.freeze({__proto__:null,JsonPatchError:m,deepClone:g,getValueByPointer:b,applyOperation:x,applyPatch:w,applyReducer:function(e,t,n){var r=x(e,t);if(!1===r.test)throw new m("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument},validator:_,validate:E,_areEquals:k}),S=new WeakMap,A=function(e){this.observers=new Map,this.obj=e},O=function(e,t){this.callback=e,this.observer=t};
/*!
	     * https://github.com/Starcounter-Jack/JSON-Patch
	     * (c) 2017 Joachim Wester
	     * MIT license
	     */function M(e,t){void 0===t&&(t=!1);var n=S.get(e.object);D(n.value,e.object,e.patches,"",t),e.patches.length&&w(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function D(e,t,n,r,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=s(t),a=s(e),c=!1,d=a.length-1;d>=0;d--){var p=e[m=a[d]];if(!u(t,m)||void 0===t[m]&&void 0!==p&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+f(m),value:l(p)}),n.push({op:"remove",path:r+"/"+f(m)}),c=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}));else{var h=t[m];"object"==typeof p&&null!=p&&"object"==typeof h&&null!=h?D(p,h,n,r+"/"+f(m),i):p!==h&&(i&&n.push({op:"test",path:r+"/"+f(m),value:l(p)}),n.push({op:"replace",path:r+"/"+f(m),value:l(h)}))}}if(c||o.length!=a.length)for(d=0;d<o.length;d++){var m;u(e,m=o[d])||void 0===t[m]||n.push({op:"add",path:r+"/"+f(m),value:l(t[m])})}}}var P=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var n,r=function(e){return S.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new A(e),S.set(e,r);if(n)return n;if(n={},r.value=l(e),t){n.callback=t,n.next=null;var o=function(){M(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){M(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new O(t,n)),n},generate:M,compare:function(e,t,n){void 0===n&&(n=!1);var r=[];return D(e,t,r,"",n),r}});Object.assign({},C,P,{JsonPatchError:h,deepClone:l,escapePathComponent:f,unescapePathComponent:d});var T=/("(?:[^\\"]|\\.)*")|[:,]/g,F=function(e,t){var n,r,i;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===n?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function e(t,o,a){var u,s,l,c,f,d,p,h,m,g,v,y;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(v=JSON.stringify(t,i)))return v;if(p=r-o.length-a,v.length<=p&&(m=v.replace(T,(function(e,t){return t||e+" "}))).length<=p)return m;if(null!=i&&(t=JSON.parse(v),i=void 0),"object"==typeof t&&null!==t){if(h=o+n,l=[],s=0,Array.isArray(t))for(g="[",u="]",p=t.length;s<p;s++)l.push(e(t[s],h,s===p-1?0:1)||"null");else for(g="{",u="}",p=(d=Object.keys(t)).length;s<p;s++)c=d[s],f=JSON.stringify(c)+": ",void 0!==(y=e(t[c],h,f.length+(s===p-1?0:1)))&&l.push(f+y);if(l.length>0)return[g,n+l.join(",\n"+h),u].join("\n"+o)}return v}(e,"",0)};function N(e,t){return e(t={exports:{}},t.exports),t.exports}const j=Number.MAX_SAFE_INTEGER||9007199254740991;var R={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:j,MAX_SAFE_COMPONENT_LENGTH:16},B="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},L=N((function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n}=R,r=(t=e.exports={}).re=[],i=t.src=[],o=t.t={};let a=0;const u=(e,t,n)=>{const u=a++;B(u,t),o[e]=u,i[u]=t,r[u]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})\\.(${i[o.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})\\.(${i[o.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\.${i[o.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${i[o.BUILDIDENTIFIER]}(?:\\.${i[o.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),u("FULL",`^${i[o.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),u("LOOSE",`^${i[o.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",i[o.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),u("XRANGEIDENTIFIER",i[o.NUMERICIDENTIFIER]+"|x|X|\\*"),u("XRANGEPLAIN",`[v=\\s]*(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:\\.(${i[o.XRANGEIDENTIFIER]})(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[o.XRANGEIDENTIFIERLOOSE]})(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?)?)?`),u("XRANGE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${i[o.GTLT]}\\s*${i[o.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",i[o.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${i[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${i[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${i[o.GTLT]}\\s*(${i[o.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${i[o.GTLT]}\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${i[o.XRANGEPLAIN]})\\s+-\\s+(${i[o.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${i[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[o.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}));L.re,L.src,L.t,L.tildeTrimReplace,L.caretTrimReplace,L.comparatorTrimReplace;const z=/^[0-9]+$/,I=(e,t)=>{const n=z.test(e),r=z.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1};var $={compareIdentifiers:I,rcompareIdentifiers:(e,t)=>I(t,e)};const{MAX_LENGTH:U,MAX_SAFE_INTEGER:q}=R,{re:W,t:H}=L,{compareIdentifiers:V}=$;class G{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>U)throw new TypeError(`version is longer than ${U} characters`);B("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?W[H.LOOSE]:W[H.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>q||this.major<0)throw new TypeError("Invalid major version");if(this.minor>q||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>q||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<q)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(B("SemVer.compare",this.version,this.options,e),!(e instanceof G)){if("string"==typeof e&&e===this.version)return 0;e=new G(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof G||(e=new G(e,this.options)),V(this.major,e.major)||V(this.minor,e.minor)||V(this.patch,e.patch)}comparePre(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(B("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return V(n,r)}while(++t)}compareBuild(e){e instanceof G||(e=new G(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(B("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return V(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}var Y=G;const{MAX_LENGTH:X}=R,{re:K,t:Q}=L;var J=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Y)return e;if("string"!=typeof e)return null;if(e.length>X)return null;if(!(t.loose?K[Q.LOOSE]:K[Q.FULL]).test(e))return null;try{return new Y(e,t)}catch(e){return null}},Z=(e,t)=>{const n=J(e,t);return n?n.version:null},ee=(e,t)=>{const n=J(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},te=(e,t,n,r)=>{"string"==typeof n&&(r=n,n=void 0);try{return new Y(e,n).inc(t,r).version}catch(e){return null}},ne=(e,t,n)=>new Y(e,n).compare(new Y(t,n)),re=(e,t,n)=>0===ne(e,t,n),ie=(e,t)=>{if(re(e,t))return null;{const n=J(e),r=J(t),i=n.prerelease.length||r.prerelease.length,o=i?"pre":"",a=i?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==r[e])return o+e;return a}},oe=(e,t)=>new Y(e,t).major,ae=(e,t)=>new Y(e,t).minor,ue=(e,t)=>new Y(e,t).patch,se=(e,t)=>{const n=J(e,t);return n&&n.prerelease.length?n.prerelease:null},le=(e,t,n)=>ne(t,e,n),ce=(e,t)=>ne(e,t,!0),fe=(e,t,n)=>{const r=new Y(e,n),i=new Y(t,n);return r.compare(i)||r.compareBuild(i)},de=(e,t)=>e.sort((e,n)=>fe(e,n,t)),pe=(e,t)=>e.sort((e,n)=>fe(n,e,t)),he=(e,t,n)=>ne(e,t,n)>0,me=(e,t,n)=>ne(e,t,n)<0,ge=(e,t,n)=>0!==ne(e,t,n),ve=(e,t,n)=>ne(e,t,n)>=0,ye=(e,t,n)=>ne(e,t,n)<=0,be=(e,t,n,r)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return re(e,n,r);case"!=":return ge(e,n,r);case">":return he(e,n,r);case">=":return ve(e,n,r);case"<":return me(e,n,r);case"<=":return ye(e,n,r);default:throw new TypeError("Invalid operator: "+t)}};const{re:xe,t:we}=L;var _e=(e,t)=>{if(e instanceof Y)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=xe[we.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),xe[we.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;xe[we.COERCERTL].lastIndex=-1}else n=e.match(xe[we.COERCE]);return null===n?null:J(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)};class Ee{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof Ee)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ee(e.raw,t);if(e instanceof He)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const n=t?Ce[Se.HYPHENRANGELOOSE]:Ce[Se.HYPHENRANGE];e=e.replace(n,$e(this.options.includePrerelease)),B("hyphen replace",e),e=e.replace(Ce[Se.COMPARATORTRIM],Ae),B("comparator trim",e,Ce[Se.COMPARATORTRIM]),e=(e=(e=e.replace(Ce[Se.TILDETRIM],Oe)).replace(Ce[Se.CARETTRIM],Me)).split(/\s+/).join(" ");const r=t?Ce[Se.COMPARATORLOOSE]:Ce[Se.COMPARATOR];return e.split(" ").map(e=>Pe(e,this.options)).join(" ").split(/\s+/).map(e=>Ie(e,this.options)).filter(this.options.loose?e=>!!e.match(r):()=>!0).map(e=>new He(e,this.options))}intersects(e,t){if(!(e instanceof Ee))throw new TypeError("a Range is required");return this.set.some(n=>De(n,t)&&e.set.some(e=>De(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new Y(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(Ue(this.set[t],e,this.options))return!0;return!1}}var ke=Ee;const{re:Ce,t:Se,comparatorTrimReplace:Ae,tildeTrimReplace:Oe,caretTrimReplace:Me}=L,De=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},Pe=(e,t)=>(B("comp",e,t),e=je(e,t),B("caret",e),e=Fe(e,t),B("tildes",e),e=Be(e,t),B("xrange",e),e=ze(e,t),B("stars",e),e),Te=e=>!e||"x"===e.toLowerCase()||"*"===e,Fe=(e,t)=>e.trim().split(/\s+/).map(e=>Ne(e,t)).join(" "),Ne=(e,t)=>{const n=t.loose?Ce[Se.TILDELOOSE]:Ce[Se.TILDE];return e.replace(n,(t,n,r,i,o)=>{let a;return B("tilde",e,t,n,r,i,o),Te(n)?a="":Te(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:Te(i)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(B("replaceTilde pr",o),a=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,B("tilde return",a),a})},je=(e,t)=>e.trim().split(/\s+/).map(e=>Re(e,t)).join(" "),Re=(e,t)=>{B("caret",e,t);const n=t.loose?Ce[Se.CARETLOOSE]:Ce[Se.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,o,a)=>{let u;return B("caret",e,t,n,i,o,a),Te(n)?u="":Te(i)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:Te(o)?u="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:a?(B("replaceCaret pr",a),u="0"===n?"0"===i?`>=${n}.${i}.${o}-${a} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${a} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${a} <${+n+1}.0.0-0`):(B("no pr"),u="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),B("caret return",u),u})},Be=(e,t)=>(B("replaceXRanges",e,t),e.split(/\s+/).map(e=>Le(e,t)).join(" ")),Le=(e,t)=>{e=e.trim();const n=t.loose?Ce[Se.XRANGELOOSE]:Ce[Se.XRANGE];return e.replace(n,(n,r,i,o,a,u)=>{B("xRange",e,n,r,i,o,a,u);const s=Te(i),l=s||Te(o),c=l||Te(a),f=c;return"="===r&&f&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(l&&(o=0),a=0,">"===r?(r=">=",l?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(u="-0"),n=`${r+i}.${o}.${a}${u}`):l?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:c&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),B("xRange return",n),n})},ze=(e,t)=>(B("replaceStars",e,t),e.trim().replace(Ce[Se.STAR],"")),Ie=(e,t)=>(B("replaceGTE0",e,t),e.trim().replace(Ce[t.includePrerelease?Se.GTE0PRE:Se.GTE0],"")),$e=e=>(t,n,r,i,o,a,u,s,l,c,f,d,p)=>`${n=Te(r)?"":Te(i)?`>=${r}.0.0${e?"-0":""}`:Te(o)?`>=${r}.${i}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${s=Te(l)?"":Te(c)?`<${+l+1}.0.0-0`:Te(f)?`<${l}.${+c+1}.0-0`:d?`<=${l}.${c}.${f}-${d}`:e?`<${l}.${c}.${+f+1}-0`:"<="+s}`.trim(),Ue=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(B(e[n].semver),e[n].semver!==He.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0},qe=Symbol("SemVer ANY");class We{static get ANY(){return qe}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof We){if(e.loose===!!t.loose)return e;e=e.value}B("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===qe?this.value="":this.value=this.operator+this.semver.version,B("comp",this)}parse(e){const t=this.options.loose?Ve[Ge.COMPARATORLOOSE]:Ve[Ge.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new Y(n[2],this.options.loose):this.semver=qe}toString(){return this.value}test(e){if(B("Comparator.test",e,this.options.loose),this.semver===qe||e===qe)return!0;if("string"==typeof e)try{e=new Y(e,this.options)}catch(e){return!1}return be(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof We))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new ke(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new ke(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=be(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=be(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&o||a||u}}var He=We;const{re:Ve,t:Ge}=L;var Ye=(e,t,n)=>{try{t=new ke(t,n)}catch(e){return!1}return t.test(e)},Xe=(e,t)=>new ke(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" ")),Ke=(e,t,n)=>{let r=null,i=null,o=null;try{o=new ke(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(r&&-1!==i.compare(e)||(r=e,i=new Y(r,n)))}),r},Qe=(e,t,n)=>{let r=null,i=null,o=null;try{o=new ke(t,n)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(r&&1!==i.compare(e)||(r=e,i=new Y(r,n)))}),r},Je=(e,t)=>{e=new ke(e,t);let n=new Y("0.0.0");if(e.test(n))return n;if(n=new Y("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t)e.set[t].forEach(e=>{const t=new Y(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!he(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}});return n&&e.test(n)?n:null},Ze=(e,t)=>{try{return new ke(e,t).range||"*"}catch(e){return null}};const{ANY:et}=He;var tt=(e,t,n,r)=>{let i,o,a,u,s;switch(e=new Y(e,r),t=new ke(t,r),n){case">":i=he,o=ye,a=me,u=">",s=">=";break;case"<":i=me,o=ve,a=he,u="<",s="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ye(e,t,r))return!1;for(let n=0;n<t.set.length;++n){const l=t.set[n];let c=null,f=null;if(l.forEach(e=>{e.semver===et&&(e=new He(">=0.0.0")),c=c||e,f=f||e,i(e.semver,c.semver,r)?c=e:a(e.semver,f.semver,r)&&(f=e)}),c.operator===u||c.operator===s)return!1;if((!f.operator||f.operator===u)&&o(e,f.semver))return!1;if(f.operator===s&&a(e,f.semver))return!1}return!0},nt=(e,t,n)=>tt(e,t,">",n),rt=(e,t,n)=>tt(e,t,"<",n),it=(e,t,n)=>(e=new ke(e,n),t=new ke(t,n),e.intersects(t));const{ANY:ot}=He,at=(e,t,n)=>{if(1===e.length&&e[0].semver===ot)return 1===t.length&&t[0].semver===ot;const r=new Set;let i,o,a,u,s,l,c;for(const t of e)">"===t.operator||">="===t.operator?i=ut(i,t,n):"<"===t.operator||"<="===t.operator?o=st(o,t,n):r.add(t.semver);if(r.size>1)return null;if(i&&o){if(a=ne(i.semver,o.semver,n),a>0)return null;if(0===a&&(">="!==i.operator||"<="!==o.operator))return null}for(const e of r){if(i&&!Ye(e,String(i),n))return null;if(o&&!Ye(e,String(o),n))return null;for(const r of t)if(!Ye(e,String(r),n))return!1;return!0}for(const e of t){if(c=c||">"===e.operator||">="===e.operator,l=l||"<"===e.operator||"<="===e.operator,i)if(">"===e.operator||">="===e.operator){if(u=ut(i,e,n),u===e)return!1}else if(">="===i.operator&&!Ye(i.semver,String(e),n))return!1;if(o)if("<"===e.operator||"<="===e.operator){if(s=st(o,e,n),s===e)return!1}else if("<="===o.operator&&!Ye(o.semver,String(e),n))return!1;if(!e.operator&&(o||i)&&0!==a)return!1}return!(i&&l&&!o&&0!==a||o&&c&&!i&&0!==a)},ut=(e,t,n)=>{if(!e)return t;const r=ne(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},st=(e,t,n)=>{if(!e)return t;const r=ne(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};var lt=(e,t,n)=>{e=new ke(e,n),t=new ke(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=at(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0},ct={re:L.re,src:L.src,tokens:L.t,SEMVER_SPEC_VERSION:R.SEMVER_SPEC_VERSION,SemVer:Y,compareIdentifiers:$.compareIdentifiers,rcompareIdentifiers:$.rcompareIdentifiers,parse:J,valid:Z,clean:ee,inc:te,diff:ie,major:oe,minor:ae,patch:ue,prerelease:se,compare:ne,rcompare:le,compareLoose:ce,compareBuild:fe,sort:de,rsort:pe,gt:he,lt:me,eq:re,neq:ge,gte:ve,lte:ye,cmp:be,coerce:_e,Comparator:He,Range:ke,satisfies:Ye,toComparators:Xe,maxSatisfying:Ke,minSatisfying:Qe,minVersion:Je,validRange:Ze,outside:tt,gtr:nt,ltr:rt,intersects:it,simplifyRange:(e,t,n)=>{const r=[];let i=null,o=null;const a=e.sort((e,t)=>ne(e,t,n));for(const e of a)Ye(e,t,n)?(o=e,i||(i=e)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);const u=[];for(const[e,t]of r)e===t?u.push(e):t||e!==a[0]?t?e===a[0]?u.push("<="+t):u.push(`${e} - ${t}`):u.push(">="+e):u.push("*");const s=u.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return s.length<l.length?s:t},subset:lt}.satisfies,ft=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(N((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}})));const dt={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},pt={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},ht={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},mt={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},gt="Benton Gothic Bold, sans-serif",vt={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},yt={background:"#ffffff",title:{anchor:"start",color:"#000000",font:gt,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:gt,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:gt,titleFontSize:13,titleFontWeight:"normal"},range:{category:vt["category-6"],diverging:vt["fireandice-6"],heatmap:vt["fire-7"],ordinal:vt["fire-7"],ramp:vt["fire-7"]}},bt={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},xt={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},wt={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},_t={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:wt["six-groups-cat-1"],diverging:wt["diverging-colors"],heatmap:wt["diverging-colors"],ordinal:wt["six-groups-seq"],ramp:wt["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},Et={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}};var kt=Object.freeze({__proto__:null,version:"2.8.3",dark:dt,excel:pt,fivethirtyeight:ht,ggplot2:mt,latimes:yt,quartz:bt,vox:xt,urbaninstitute:_t,googlecharts:Et}),Ct="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const St="vg-tooltip-element",At={offsetX:10,offsetY:10,id:St,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function Ot(e,t,n){return e.fields=t||[],e.fname=n,e}function Mt(e){throw Error(e)}var Dt=Array.isArray;function Pt(e){return e===Object(e)}function Tt(e){return"string"==typeof e}function Ft(e){return Dt(e)?"["+e.map(Ft)+"]":Pt(e)||Tt(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var Nt=[];(function(e,t){var n=function(e){var t,n,r,i=[],o=null,a=0,u=e.length,s="";function l(){i.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===o)l(),o=null,a=-1;else{if(o)continue;t===a&&'"'===r||t===a&&"'"===r?(t=n+1,o=r):"."!==r||a?"["===r?(n>t&&l(),a=t=n+1):"]"===r&&(a||Mt("Access path missing open bracket: "+e),a>0&&l(),a=0,t=n+1):n>t?l():t=n+1}return a&&Mt("Access path missing closing bracket: "+e),o&&Mt("Access path missing closing quote: "+e),n>t&&(n++,l()),i}(e),r="return _["+n.map(Ft).join("][")+"];";Ot(Function("_",r),[e=1===n.length?n[0]:e],t||e)})("id"),Ot((function(e){return e}),Nt,"identity"),Ot((function(){return 0}),Nt,"zero"),Ot((function(){return 1}),Nt,"one"),Ot((function(){return!0}),Nt,"true"),Ot((function(){return!1}),Nt,"false");const jt=e=>"__proto__"!==e;function Rt(...e){return e.reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=Lt(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;Bt(e,n,t[n],r)}return e},{})}function Bt(e,t,n,r){var i,o;if(jt(t))if(Pt(n)&&!Dt(n))for(i in o=Pt(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?Bt(o,i,n[i]):jt(i)&&(o[i]=n[i]);else e[t]=n}function Lt(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function zt(e,t,n){if(Dt(e))return`[${e.map(e=>t(Tt(e)?e:It(e,n))).join(", ")}]`;if(Pt(e)){let r="";const i=e,{title:o,image:a}=i,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(i,["title","image"]);o&&(r+=`<h2>${t(o)}</h2>`),a&&(r+=`<img src="${t(a)}">`);const s=Object.keys(u);if(s.length>0){r+="<table>";for(const e of s){let i=u[e];void 0!==i&&(Pt(i)&&(i=It(i,n)),r+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function It(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}class $t{constructor(e){this.options=Object.assign(Object.assign({},At),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return Ct.toString().replace(St,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=zt(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:i,y:o}=function(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${i}px`)}}var Ut,qt='.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function Wt(e,...t){for(const n of t)Ht(e,n);return e}function Ht(t,n){for(const r of Object.keys(n))e.writeConfig(t,r,n[r],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const Vt=e;let Gt=t;const Yt="undefined"!=typeof window?window:void 0;void 0===Gt&&(null===(Ut=null==Yt?void 0:Yt.vl)||void 0===Ut?void 0:Ut.compile)&&(Gt=Yt.vl);const Xt={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Kt={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Qt={vega:"Vega","vega-lite":"Vega-Lite"},Jt={vega:Vt.version,"vega-lite":Gt?Gt.version:"not available"},Zt={vega:e=>e,"vega-lite":(e,t)=>Gt.compile(e,{config:t}).spec};function en(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+o),a.document.title=Qt[r]+" JSON Source"}function tn(e,t,n={}){var i,o,a;return r(this,void 0,void 0,(function*(){const u=(s=n.loader)&&"load"in s?n.loader:Vt.loader(n.loader);var s;const l=Tt(t)?JSON.parse(yield u.load(t)):t,c=yield nn(null!==(i=l.usermeta&&l.usermeta.embedOptions)&&void 0!==i?i:{},u),f=yield nn(n,u),d=Object.assign(Object.assign({},Wt(f,c)),{config:Rt(null!==(o=f.config)&&void 0!==o?o:{},null!==(a=c.config)&&void 0!==a?a:{})});return yield function(e,t,n={},i){var o,a,u,s,l,c;return r(this,void 0,void 0,(function*(){const f=n.theme?Rt(kt[n.theme],null!==(o=n.config)&&void 0!==o?o:{}):n.config,d="boolean"==typeof n.actions?n.actions:Wt({},Xt,null!==(a=n.actions)&&void 0!==a?a:{}),p=Object.assign(Object.assign({},Kt),n.i18n),h=null!==(u=n.renderer)&&void 0!==u?u:"canvas",m=null!==(s=n.logLevel)&&void 0!==s?s:Vt.Warn,g=null!==(l=n.downloadFileName)&&void 0!==l?l:"visualization";if(!1!==n.defaultStyle){const e="vega-embed-style";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?qt.toString():n.defaultStyle,document.head.appendChild(t)}}const v=function(e,t){var n;if(e.$schema){const r=ft(e.$schema);t&&t!==r.library&&console.warn(`The given visualization spec is written in ${Qt[r.library]}, but mode argument sets ${null!==(n=Qt[t])&&void 0!==n?n:t}.`);const i=r.library;return ct(Jt[i],"^"+r.version.slice(1))||console.warn(`The input spec uses ${Qt[i]} ${r.version}, but the current version of ${Qt[i]} is v${Jt[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}(t,n.mode);let y=Zt[v](t,f);if("vega-lite"===v&&y.$schema){const e=ft(y.$schema);ct(Jt.vega,"^"+e.version.slice(1))||console.warn(`The compiled spec uses Vega ${e.version}, but current version is v${Jt.vega}.`)}const b="string"==typeof e?document.querySelector(e):e;if(!b)throw Error(e+" does not exist");b.classList.add("vega-embed"),d&&b.classList.add("has-actions"),b.innerHTML="";const x=n.patch;x&&(y=x instanceof Function?x(y):w(y,x,!0,!1).newDocument),n.formatLocale&&Vt.formatLocale(n.formatLocale),n.timeFormatLocale&&Vt.timeFormatLocale(n.timeFormatLocale);const _=Vt.parse(y,"vega-lite"===v?{}:f),E=new Vt.View(_,{loader:i,logLevel:m,renderer:h});if(!1!==n.tooltip){let e;e=function(e){return"function"==typeof e}(n.tooltip)?n.tooltip:new $t(!0===n.tooltip?{}:n.tooltip).call,E.tooltip(e)}let k,{hover:C}=n;if(void 0===C&&(C="vega"===v),C){const{hoverSet:e,updateSet:t}="boolean"==typeof C?{}:C;E.hover(e,t)}if(n&&(null!=n.width&&E.width(n.width),null!=n.height&&E.height(n.height),null!=n.padding&&E.padding(n.padding)),yield E.initialize(e).runAsync(),!1!==d){let e=b;if(!1!==n.defaultStyle){const t=document.createElement("details");t.title=p.CLICK_TO_VIEW_ACTIONS,b.append(t),e=t;const n=document.createElement("summary");n.innerHTML='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',t.append(n),k=e=>{t.contains(e.target)||t.removeAttribute("open")},document.addEventListener("click",k)}const i=document.createElement("div");if(e.append(i),i.classList.add("vega-actions"),!0===d||!1!==d.export)for(const e of["svg","png"])if(!0===d||!0===d.export||d.export[e]){const t=p[e.toUpperCase()+"_ACTION"],o=document.createElement("a");o.text=t,o.href="#",o.target="_blank",o.download=`${g}.${e}`,o.addEventListener("mousedown",(function(t){return r(this,void 0,void 0,(function*(){t.preventDefault();const r=yield E.toImageURL(e,n.scaleFactor);this.href=r}))})),i.append(o)}if(!0===d||!1!==d.source){const e=document.createElement("a");e.text=p.SOURCE_ACTION,e.href="#",e.addEventListener("click",(function(e){var r,i;en(F(t),null!==(r=n.sourceHeader)&&void 0!==r?r:"",null!==(i=n.sourceFooter)&&void 0!==i?i:"",v),e.preventDefault()})),i.append(e)}if("vega-lite"===v&&(!0===d||!1!==d.compiled)){const e=document.createElement("a");e.text=p.COMPILED_ACTION,e.href="#",e.addEventListener("click",(function(e){var t,r;en(F(y),null!==(t=n.sourceHeader)&&void 0!==t?t:"",null!==(r=n.sourceFooter)&&void 0!==r?r:"","vega"),e.preventDefault()})),i.append(e)}if(!0===d||!1!==d.editor){const e=null!==(c=n.editorUrl)&&void 0!==c?c:"https://vega.github.io/editor/",r=document.createElement("a");r.text=p.EDITOR_ACTION,r.href="#",r.addEventListener("click",(function(n){!function(e,t,n){const r=e.open(t),{origin:i}=new URL(t);let o=40;e.addEventListener("message",(function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){o<=0||(r.postMessage(n,i),setTimeout(e,250),o-=1)}),250)}(window,e,{config:f,mode:v,renderer:h,spec:F(t)}),n.preventDefault()})),i.append(r)}}return{view:E,spec:t,vgSpec:y,finalize:function(){k&&document.removeEventListener("click",k),E.finalize()}}}))}(e,l,d,u)}))}function nn(e,t){var n;return r(this,void 0,void 0,(function*(){const r=Tt(e.config)?JSON.parse(yield t.load(e.config)):null!==(n=e.config)&&void 0!==n?n:{},i=Tt(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),i?{patch:i}:{}),r?{config:r}:{})}))}function rn(e,t={}){var n;return r(this,void 0,void 0,(function*(){const r=document.createElement("div");r.classList.add("vega-embed-wrapper");const i=document.createElement("div");r.appendChild(i);const o=!0===t.actions||!1===t.actions?t.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(n=t.actions)&&void 0!==n?n:{}),a=yield tn(i,e,Object.assign({actions:o},null!=t?t:{}));return r.value=a.view,r}))}const on=(...t)=>{return t.length>1&&(e.isString(t[0])&&!((n=t[0]).startsWith("http://")||n.startsWith("https://")||n.startsWith("//"))||t[0]instanceof HTMLElement||3===t.length)?tn(t[0],t[1],t[2]):rn(t[0],t[1]);var n};return on.vegaLite=Gt,on.vl=Gt,on.container=rn,on.embed=tn,on.vega=Vt,on.default=tn,on.version=n,on}(Nw,jw)}));t(Rw);var Bw=n((function(e,t){t.__esModule=!0,t.default=function(e){return!!e&&"[object Function]"==={}.toString.call(e)}}));t(Bw);var Lw=n((function(e,t){t.__esModule=!0,t.default=function(e,t,n){n&&((0,r.default)(n)?n(e.data(t)):e.change(t,Rw.vega.changeset().remove(()=>!0).insert(n)))};var n,r=(n=Bw)&&n.__esModule?n:{default:n}}));t(Lw);var zw=n((function(e,t){t.__esModule=!0,t.default=function(e,t){Object.keys(t).forEach(n=>{(0,r.default)(e,n,t[n])})};var n,r=(n=Lw)&&n.__esModule?n:{default:n}}));t(zw);var Iw=n((function(e,t){t.__esModule=!0,t.default=function(e){const t=new Set;return e.forEach(e=>{Object.keys(e).forEach(e=>{t.add(e)})}),t}}));t(Iw);var $w=n((function(e,t){t.__esModule=!0,t.NOOP=void 0;t.NOOP=()=>{}}));t($w);$w.NOOP;var Uw=n((function(e,t){t.__esModule=!0,t.default=function(e,t){const n=Object.keys(t);return n.forEach(n=>{try{e.addSignalListener(n,t[n])}catch(e){console.warn("Cannot add invalid signal listener.",e)}}),n.length>0}}));t(Uw);var qw=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n},Ww=n((function(e,t){t.__esModule=!0,t.default=function(e,t){if(e===t)return!1;const i={width:!1,height:!1,isExpensive:!1},o=(0,r.default)([e,t]);!o.has("width")||"width"in e&&"width"in t&&e.width===t.width||("width"in e&&"number"==typeof e.width?i.width=e.width:i.isExpensive=!0);!o.has("height")||"height"in e&&"height"in t&&e.height===t.height||("height"in e&&"number"==typeof e.height?i.height=e.height:i.isExpensive=!0);o.delete("width"),o.delete("height"),[...o].some(r=>!(r in e)||!(r in t)||!(0,n.default)(e[r],t[r]))&&(i.isExpensive=!0);return!(!1===i.width&&!1===i.height&&!i.isExpensive)&&i};var n=i(qw),r=i(Iw);function i(e){return e&&e.__esModule?e:{default:e}}}));t(Ww);var Hw=n((function(e,t){t.__esModule=!0,t.default=function(e,t){const n=Object.keys(t);return n.forEach(n=>{try{e.removeSignalListener(n,t[n])}catch(e){console.warn("Cannot remove invalid signal listener.",e)}}),n.length>0}}));t(Hw);var Vw=n((function(e,t){t.__esModule=!0,t.combineSpecWithDimension=p,t.default=void 0;var n=c(Xd),r=c(H),i=c(Rw),o=c(zx),a=c(Iw),u=c(Uw),s=c(Ww),l=c(Hw);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e){const{spec:t,width:n,height:r}=e;return void 0!==n&&void 0!==r?d({},t,{width:n,height:r}):void 0!==n?d({},t,{width:n}):void 0!==r?d({},t,{height:r}):t}class h extends r.default.PureComponent{constructor(...e){super(...e),f(this,"containerRef",r.default.createRef()),f(this,"viewPromise",void 0),f(this,"handleError",e=>{const{onError:t=$w.NOOP}=this.props;t(e),console.warn(e)}),f(this,"modifyView",e=>{this.viewPromise&&this.viewPromise.then(t=>(t&&e(t),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(e){const t=(0,a.default)([this.props,e]);if(t.delete("className"),t.delete("signalListeners"),t.delete("spec"),t.delete("style"),t.delete("width"),t.delete("height"),!this.viewPromise||Array.from(t).some(t=>this.props[t]!==e[t]))this.clearView(),this.createView();else{const t=(0,s.default)(p(this.props),p(e)),{signalListeners:n}=this.props,{signalListeners:r}=e;if(t)if(t.isExpensive)this.clearView(),this.createView();else{const e=!(0,o.default)(n,r);this.modifyView(i=>{!1!==t.width&&i.width(t.width),!1!==t.height&&i.height(t.height),e&&(r&&(0,l.default)(i,r),n&&(0,u.default)(i,n)),i.run()})}else(0,o.default)(n,r)||this.modifyView(e=>{r&&(0,l.default)(e,r),n&&(0,u.default)(e,n),e.run()})}}componentWillUnmount(){this.clearView()}createView(){const e=this.props,{onNewView:t,signalListeners:n={}}=e,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["spec","onNewView","signalListeners"]);if(this.containerRef.current){const e=p(this.props);this.viewPromise=(0,i.default)(this.containerRef.current,e,r).then(({view:e})=>((0,u.default)(e,n)&&e.run(),e)).catch(this.handleError),t&&this.modifyView(t)}}clearView(){return this.modifyView(e=>{e.finalize()}),this.viewPromise=void 0,this}render(){const{className:e,style:t}=this.props;return r.default.createElement("div",{ref:this.containerRef,className:e,style:t})}}t.default=h,f(h,"propTypes",{className:n.default.string,onError:n.default.func})}));t(Vw);Vw.combineSpecWithDimension;var Gw=n((function(e,t){t.__esModule=!0,t.default=void 0;a(Xd);var n=a(H),r=a(zx),i=a(zw),o=a(Vw);function a(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends n.default.PureComponent{constructor(...e){super(...e),s(this,"vegaEmbed",n.default.createRef()),s(this,"handleNewView",e=>{this.update();const{onNewView:t=$w.NOOP}=this.props;t(e)})}componentDidMount(){this.update()}componentDidUpdate(e){(0,r.default)(this.props.data,e.data)||this.update()}update(){const{data:e}=this.props;e&&this.vegaEmbed.current&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView(t=>{(0,i.default)(t,e),t.resize().run()})}render(){const e=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(this.props,["data"]);return n.default.createElement(o.default,u({ref:this.vegaEmbed},e,{onNewView:this.handleNewView}))}}t.default=l,s(l,"defaultProps",{data:{}})}));t(Gw);var Yw=n((function(e,t){t.__esModule=!0,t.default=function(e){return n.default.createElement(r.default,o({},e,{mode:"vega-lite"}))};var n=i(H),r=i(Gw);function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}}));t(Yw);var Xw=n((function(e,t){t.__esModule=!0,t.default=function({mode:e,spec:t}){class i extends n.default.PureComponent{render(){return n.default.createElement(r.default,o({mode:e,spec:t},this.props))}}return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(i,"getSpec",(function(){return t})),i};var n=i(H),r=i(Gw);function i(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}}));t(Xw);var Kw=n((function(e,t){t.__esModule=!0,t.createClassFromSpec=t.VegaLite=t.Vega=void 0;var n=o(Gw);t.Vega=n.default;var r=o(Yw);t.VegaLite=r.default;var i=o(Xw);function o(e){return e&&e.__esModule?e:{default:e}}t.createClassFromSpec=i.default}));t(Kw);Kw.createClassFromSpec,Kw.VegaLite;var Qw=Kw.Vega;const Jw=e=>({x1:0,x2:0,y1:0,y2:1,gradient:"linear",stops:[{offset:0,color:e[0]},{offset:1,color:e[1]}]}),Zw=({data:e,backgroundColor:t,axesColor:n,epochBackgroundGradient:r,selectedEpochBackgroundGradient:i,labelColor:o,selectedModifier:a})=>({data:{name:"epochs",values:e},background:t,scales:[{name:"yscale",type:"band",range:[0,{signal:"height"}],domain:{data:"epochs",field:"id"}},{name:"xscale",type:"linear",range:"width",domain:{data:"epochs",fields:["min","max"]}}],axes:[{orient:"top",scale:"xscale",tickSize:15,grid:!0,tickCount:11,labelColor:o,encode:{grid:{update:{stroke:{value:n},strokeDash:[{test:"datum.index===0",value:[]},{test:"datum.index===1",value:[]},{value:[.7,1.4]}]}},ticks:{enter:{stroke:{value:n},strokeDash:[{test:"datum.index===0",value:[]},{test:"datum.index===1",value:[]},{value:[.7,1.4]}]}},labels:{enter:{font:{value:"OpenSans-Regular"},fontSize:[{test:"datum.index===0",value:15},{test:"datum.index===1",value:15},{value:8}]}}}}],marks:[{type:"text",from:{data:"epochs"},encode:{enter:{x:{offset:-25},y:{scale:"yscale",field:"id",offset:6},fill:{value:o},text:{field:"label"},fontSize:{value:10}}}},{type:"rect",from:{data:"epochs"},encode:{update:{x:{scale:"xscale",field:"min"},x2:{scale:"xscale",field:"max"},y:{scale:"yscale",field:"id"},height:{value:4},fill:[{test:`datum.id === "${a&&a.id}"`,value:Jw(i)},{value:Jw(r)}]}}},{type:"rect",from:{data:"epochs"},encode:{enter:{x:{scale:"xscale",field:"start"},x2:{scale:"xscale",field:"end"},y:{scale:"yscale",field:"id"},cornerRadius:{value:2},height:{value:4},fill:{value:{x1:0,x2:0,y1:0,y2:1,gradient:"linear",stops:[{offset:0,color:"#A4C0E3"},{offset:1,color:"#6D9CE0"}]}}}}}]}),e_=({data:e,backgroundColor:t,axesColor:n,labelColor:r,gridColor:i,titleColor:o,denseAreaColors:a,denseLineColor:u,sparseAreaColors:s,sparseLineColor:l})=>({data:{name:"layers",values:e},background:t,scales:[{name:"sparsityScale",type:"linear",range:"height",nice:!0,domain:{data:"layers",field:"sparsity"}},{name:"executionTimeScale",type:"linear",range:"height",domain:{data:"layers",fields:["denseExecTime","sparseExecTime"]}},{name:"layerScale",type:"linear",range:"width",domain:{data:"layers",field:"layer"},domainMin:1,round:!0}],axes:[{orient:"bottom",scale:"layerScale",title:"Layer Index",tickMinStep:1,titleColor:o,titlePadding:15,grid:!0,tickSize:0,tickCount:e.length,labelPadding:5,labelFontSize:9,labelColor:r,encode:{grid:{enter:{stroke:{value:i}}},ticks:{enter:{stroke:{value:n}}}}},{orient:"left",scale:"sparsityScale",title:"Layer Sparsity",titleColor:o,grid:!0,tickCount:11,tickSize:0,labelPadding:10,titlePadding:15,labelFontSize:9,labelColor:r,encode:{grid:{enter:{stroke:{value:i}}},domain:{enter:{stroke:{value:n}}},ticks:{enter:{stroke:{value:n}}}}},{orient:"right",scale:"executionTimeScale",title:"Dense vs Sparse Execution Time",titleColor:o,tickCount:11,tickSize:0,labelPadding:10,titlePadding:15,labelFontSize:9,labelColor:r,encode:{grid:{enter:{stroke:{value:i}}},domain:{enter:{stroke:{value:n}}},ticks:{enter:{stroke:{value:n}}}}}],marks:[{type:"area",from:{data:"layers"},encode:{enter:{x:{scale:"layerScale",field:"layer"},y:{scale:"executionTimeScale",field:"denseExecTime"},y2:{scale:"executionTimeScale",value:0},fill:{value:Jw(a)},fillOpacity:{value:.3}}}},{type:"area",from:{data:"layers"},encode:{enter:{x:{scale:"layerScale",field:"layer"},y:{scale:"executionTimeScale",field:"sparseExecTime"},y2:{scale:"executionTimeScale",value:0},fill:{value:s[0]},fillOpacity:{value:.5}}}},{type:"line",from:{data:"layers"},encode:{enter:{x:{scale:"layerScale",field:"layer"},y:{scale:"executionTimeScale",field:"sparseExecTime"},stroke:{value:l},strokeWidth:1}}},{type:"line",from:{data:"layers"},encode:{enter:{x:{scale:"layerScale",field:"layer"},y:{scale:"executionTimeScale",field:"denseExecTime"},stroke:{value:u},strokeWidth:1}}},{type:"line",from:{data:"layers"},encode:{enter:{x:{scale:"layerScale",field:"layer"},y:{scale:"sparsityScale",field:"sparsity"},stroke:{value:"#E19325"}}}},{type:"symbol",from:{data:"layers"},interactive:!0,encode:{update:{x:{scale:"layerScale",field:"layer"},y:{scale:"sparsityScale",field:"sparsity"},stroke:{value:"#E19325"},fill:{value:"white"},size:{value:20}},hover:{size:{value:90}}}}],signals:[{name:"tooltip",value:{},on:[{events:"symbol:click",update:"datum"}]}]}),t_=im(e=>H.createElement("div",{className:e.classes.title},e.title)),n_=Gc(Ec(lm({})),yf(t_),am)(Qw),r_=e=>e.modifiers.all,i_=Gc(Df,Ec(e=>{const t=Zf(["label","min","max","id"],e);return e.range.map(Uf(t))}),Ac(["modifiers","all"])),o_=e=>e.modifiers.all.find(ed("id",e.modifiers.selected)),a_={container:e=>({padding:10,paddingLeft:60,background:"dark"===e.theme?"#3C3E40":"#EFF4FB",position:"relative",boxShadow:"dark"===e.theme?"0px 2px 2px rgba(0, 0, 0, 0.349019607843137)":""}),title:e=>({position:"absolute",marginLeft:-45,fontSize:13,color:"dark"===e.theme?"#DFDFDF":"#878D94"})},u_=n_.contramap(e=>Uf({width:800,height:20*Rf(Oc("id"),e.modifiers).length,autosize:{type:"fit",contains:"padding",resize:!0},spec:Zw({backgroundColor:"dark"===e.theme?"#3C3E40":"#EFF4FB",axesColor:"dark"===e.theme?"gray":"#BDC0C4",epochBackgroundGradient:"dark"===e.theme?["#303234","#303234"]:["#D9DDE6","#EDF0F4"],selectedEpochBackgroundGradient:"dark"===e.theme?["black","black"]:["#ADB4C5","#EAEBF0"],labelColor:"dark"===e.theme?"#767C77":"#878D94",data:e.modifiers,selectedModifier:e.selectedModifier}),title:e.title},e));var s_=im(e=>Gc(Hh(e),em(a_),Kh("modifiers",i_),Kh("selectedModifier",o_),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([um("span").contramap(e=>Uf(e,{children:"Epoch",className:e.classes.title})),u_]));const l_={container:{display:"flex",flexDirection:"column",minWidth:250},title:e=>({fontSize:10,color:"dark"===e.theme?"#AAAAAA":"#868E96"}),profileName:e=>({fontSize:18,color:"dark"===e.theme?"white":"#495057"})};var c_=im(e=>Gc(Hh(e),Kh("selectedProfile",dx),em(l_),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([um("span").contramap(e=>Uf(e,{children:"Active Profile",className:e.classes.title})),um("span").contramap(e=>Uf(e,{children:e.selectedProfile&&e.selectedProfile.name,className:e.classes.profileName}))]));const f_={container:()=>({display:"flex",flexDirection:"column",paddingLeft:60}),title:{fontSize:10,color:"#AAAAAA"},profileName:{fontSize:18,color:"white"},layerList:{display:"flex",marginTop:5},addButton:{color:"#5BAEFB",padding:"2px 5px 3px 5px",fontSize:12,cursor:"pointer","&:hover":{textDecoration:"underline"}}},d_={layerName:e=>({display:"inline-block",marginRight:5,padding:"2px 5px 3px 5px",textAlign:"center",fontSize:10,color:"white",background:"dark"===e.theme?e.selected?"#5C93E3":"#2E4777":e.selected?"rgba(112, 176, 234, 1)":"rgba(193, 216, 238, 1)",borderRadius:2,lineHeight:"18px"})},p_=nm(Gc(Fc,Oc("selectedModifier")),sm()),h_=im(e=>Gc(Hh(e),em(d_))(um("span").contramap(e=>Uf(e,{onClick:()=>e.dispatch((e=>t=>t({type:"SELECT_MODIFIER",modifier:e}))(e.modifier)),className:e.classes.layerName,children:e.modifier.label})))),m_=im(e=>Gc(Hh(e))(um("span").contramap(e=>({onClick:()=>e.dispatch((e,t)=>{const n=r_(t()).length;e({type:"ADD_MODIFIER",modifier:{id:ix(),label:"LM"+n,min:0,max:100,range:[{start:1,end:44}]}})}),className:e.classes.addButton,children:"add"})))),g_=im(e=>Gc(Hh(e))(um("span").contramap(e=>({onClick:()=>e.dispatch((e,t)=>e({type:"REMOVE_MODIFIER",modifier:o_(t())})),className:e.classes.addButton,children:"remove"})))),v_=im(e=>Gc(Hh(e),Ec(lm({className:Oc("layerList")})),yf($l,p_(g_)),yf($l,m_),Mc(yf,sm()),Ec(Gc(h_.contramap,Uf,ad(ed("modifier",e.selectedModifier),Uf({selected:!0})),Lf("modifier"))))(e.modifiers));var y_=im(e=>Gc(Hh(e),Qh,Kh("selectedModifier",o_),Kh("modifiers",r_),em(f_),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([um("span").contramap(e=>Uf(e,{children:"Modifiers",className:e.classes.title})),v_]));const b_={container:e=>({padding:10,paddingLeft:60,background:"dark"===e.theme?"#1d2022":"#f8f9fa",position:"relative",display:"flex",flexDirection:"column"}),title:e=>({position:"absolute",marginLeft:-45,fontSize:13,color:"dark"===e.theme?"#DFDFDF":"#878D94"}),legend:{display:"flex",flexDirection:"row",justifyContent:"flex-end",paddingRight:57,width:1127}},x_={container:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",color:"#AAAAAA",fontSize:10,marginRight:15},sparsity:{width:15,height:3,marginRight:4,background:"#E19425"},denseExecTime:{width:15,height:13,marginRight:4,borderTop:"1px solid #92cafd",background:"rgba(31, 120, 202, 0.5)"},sparseExecTime:{width:15,height:13,marginRight:4,borderTop:"1px solid #6c86ff",background:"rgba(1, 41, 110, 0.5)"}},w_=[{layer:1,sparsity:0,denseExecTime:1.8024,sparseExecTime:1.8224},{layer:2,sparsity:59,denseExecTime:.3367,sparseExecTime:.2105},{layer:3,sparsity:78,denseExecTime:.8317,sparseExecTime:.6819},{layer:4,sparsity:72,denseExecTime:1.891,sparseExecTime:1.6854},{layer:5,sparsity:65,denseExecTime:2.2084,sparseExecTime:1.6447},{layer:6,sparsity:73,denseExecTime:1.3811,sparseExecTime:1.1288},{layer:7,sparsity:76,denseExecTime:.9076,sparseExecTime:.762},{layer:8,sparsity:75,denseExecTime:1.8621,sparseExecTime:1.4692},{layer:9,sparsity:72,denseExecTime:1.2963,sparseExecTime:1.022},{layer:10,sparsity:69,denseExecTime:.8066,sparseExecTime:.8909},{layer:11,sparsity:79,denseExecTime:1.8036,sparseExecTime:1.4861},{layer:12,sparsity:69,denseExecTime:2.1647,sparseExecTime:1.3215},{layer:13,sparsity:82,denseExecTime:2.0712,sparseExecTime:.8359},{layer:14,sparsity:81,denseExecTime:.8588,sparseExecTime:.2435},{layer:15,sparsity:87,denseExecTime:3.077,sparseExecTime:.5516},{layer:16,sparsity:91,denseExecTime:1.07,sparseExecTime:.251},{layer:17,sparsity:86,denseExecTime:.9027,sparseExecTime:.5806},{layer:18,sparsity:87.7,denseExecTime:1.035,sparseExecTime:.3491},{layer:19,sparsity:82.9,denseExecTime:1.0399,sparseExecTime:.3142},{layer:20,sparsity:84.5,denseExecTime:.8256,sparseExecTime:.5915},{layer:21,sparsity:79.8,denseExecTime:1.0137,sparseExecTime:.3738},{layer:22,sparsity:80,denseExecTime:1.0523,sparseExecTime:.3459},{layer:23,sparsity:81.4,denseExecTime:.8389,sparseExecTime:.6413},{layer:24,sparsity:82.4,denseExecTime:1.015,sparseExecTime:.36},{layer:25,sparsity:73.7,denseExecTime:1.9757,sparseExecTime:.6558},{layer:26,sparsity:89.5,denseExecTime:1.854,sparseExecTime:.6539},{layer:27,sparsity:81.9,denseExecTime:.8006,sparseExecTime:.2561},{layer:28,sparsity:91.9,denseExecTime:2.1283,sparseExecTime:.3404},{layer:29,sparsity:90.4,denseExecTime:.9463,sparseExecTime:.1957},{layer:30,sparsity:91,denseExecTime:1.443,sparseExecTime:.4042},{layer:31,sparsity:84.8,denseExecTime:.8523,sparseExecTime:.2517},{layer:32,sparsity:91.3,denseExecTime:.8748,sparseExecTime:.1941},{layer:33,sparsity:91.2,denseExecTime:1.484,sparseExecTime:.392},{layer:34,sparsity:86.7,denseExecTime:.8459,sparseExecTime:.2235},{layer:35,sparsity:88.6,denseExecTime:.875,sparseExecTime:.2285},{layer:36,sparsity:90.8,denseExecTime:.2716,sparseExecTime:.4059},{layer:37,sparsity:87,denseExecTime:.839,sparseExecTime:.2208},{layer:38,sparsity:87.1,denseExecTime:.8484,sparseExecTime:.2331},{layer:39,sparsity:90.6,denseExecTime:.2705,sparseExecTime:.408},{layer:40,sparsity:86.6,denseExecTime:.8334,sparseExecTime:.2236},{layer:41,sparsity:84.2,denseExecTime:.8585,sparseExecTime:.2635},{layer:42,sparsity:89.6,denseExecTime:.2735,sparseExecTime:.4266},{layer:43,sparsity:83.4,denseExecTime:.8407,sparseExecTime:.2547},{layer:44,sparsity:77.1,denseExecTime:1.7494,sparseExecTime:.6901},{layer:45,sparsity:96.4,denseExecTime:1.7359,sparseExecTime:.3837},{layer:46,sparsity:93.4,denseExecTime:.3307,sparseExecTime:.6237},{layer:47,sparsity:88.2,denseExecTime:.8699,sparseExecTime:.3507},{layer:48,sparsity:87.8,denseExecTime:1.0274,sparseExecTime:.3908},{layer:49,sparsity:92.7,denseExecTime:1.0288,sparseExecTime:.4243},{layer:50,sparsity:87.6,denseExecTime:.8638,sparseExecTime:.3465},{layer:51,sparsity:81.4,denseExecTime:1.0068,sparseExecTime:.4782},{layer:52,sparsity:94.8,denseExecTime:1.6296,sparseExecTime:.3559},{layer:53,sparsity:92.2,denseExecTime:.8581,sparseExecTime:.2671},{layer:54,sparsity:0,denseExecTime:.2567,sparseExecTime:.2822}],__=im(e=>Gc(Hh(e),em(x_),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([um("div").contramap(Uf({className:Oc(e.type)})),um("span").contramap(Dc({children:e.label}))])),E_=im(e=>Gc(Hh(e),Ec(lm({className:e.classes.legend})),Mc(yf,sm()),Ec(Gc(__.contramap,Uf)))([{type:"sparsity",label:"Sparsity"},{type:"denseExecTime",label:"Dense Exec. Time"},{type:"sparseExecTime",label:"Sparse Exec. Time"}])),k_=n_.contramap(e=>Uf({width:1e3,height:380,autosize:{type:"fit",contains:"padding",resize:!0},spec:e_({backgroundColor:"dark"===e.theme?"#1d2022":"#f8f9fa",axesColor:"dark"===e.theme?"#434649":"#C8CDD3",gridColor:"dark"===e.theme?"#323437":"#D7DADD",titleColor:"dark"===e.theme?"white":"#868E96",denseAreaColors:(e.theme,["rgba(31, 120, 202, 1)","rgba(31, 120, 202, 0.4)"]),sparseAreaColors:"dark"===e.theme?"rgb(1, 41, 110)":"rgb(83, 153, 234)",sparseLineColor:"dark"===e.theme?"#6c86ff":"rgb(73, 145, 229)",denseLineColor:(e.theme,"#92cafd"),labelColor:"#AAAAAA",data:w_}),title:e.title,signalListeners:{tooltip:(e,{layer:t,sparsity:n,denseExecTime:r,sparseExecTime:i})=>alert(`Layer ${t}; Sparsity: ${n}; Dense Execution Time: ${r}; Sparse Execution Time: ${i}`)}},e));var C_=im(e=>Gc(Hh(e),em(b_),Kh("modifiers",i_),Kh("selectedModifier",o_),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([k_,E_]));const S_=e=>e.metrics.overall,A_=e=>({time:e.metrics.time,parameters:e.metrics.parameters,flops:e.metrics.flops}),O_={container:e=>({display:"flex",flexDirection:"row",paddingLeft:75,background:"dark"===e.theme?"#1d2022":"#F8F9FA"}),list:{display:"flex",flexDirection:"row"},selectorContainer:{display:"flex",flexDirection:"column"},delimiter:e=>({borderLeft:"1px solid "+("dark"===e.theme?"#3E3E3E":"#c7ced4"),marginLeft:15,marginRight:15})},M_={container:e=>({display:"flex",flexDirection:"column",width:"estimatedSpeedupFactor"===e.item.name?75:62,marginRight:10,marginLeft:10}),label:e=>({color:"dark"===e.theme?"#aaaaaa":"#868e96",fontSize:10,whiteSpace:"pre-wrap"}),value:e=>({color:"dark"===e.theme?"white":"#495057",fontSize:26,fontWeight:300}),valueContainer:{display:"flex",flexDirection:"row",alignItems:"center"},speedupFactorImage:{minWidth:18}},D_={container:e=>({display:"flex",flexDirection:"row",paddingLeft:e.item.selected?0:5,alignItems:"center"}),span:e=>({fontSize:9,background:e.item.selected?"dark"===e.theme?"#133859":"#c7ced4":"rgba(0, 0, 0, 0)",border:"1px solid "+("dark"===e.theme?"#276197":"#c7ced4"),borderRadius:2,textAlign:"center",color:"dark"===e.theme?"white":e.item.selected?"#495057":"#868e96",padding:2,margin:2,width:70}),arrowRight:e=>({width:0,height:0,borderTop:"4px solid transparent",borderBottom:"4px solid transparent",borderLeft:"5px solid "+("dark"===e.theme?"white":"#868e96")})},P_=im(e=>Gc(Hh(e),em(D_),Ec(lm({className:Oc("container")})),ad(Dc(Qf(["item","selected"],!0,e)),yf(um("div").contramap(Uf({className:Oc("arrowRight")})))))(um("span").contramap(Uf({className:Oc("span"),children:e.item.label,onClick:()=>e.setSelectedType(e.item.type)})))),T_=im(e=>Gc(Hh(e),Ec(lm({className:Oc("selectorContainer")})),Mc(yf,sm()),Ec(Gc(P_.contramap,Uf,Lf("item"),ad(Gc(rf(e.selectedType),Oc("type")),Uf({selected:!0})))))([{label:"Est. Time",type:"time"},{label:"Parameters",type:"parameters"},{label:"FLOPS",type:"flops"}])),F_=nm(Gc(Ic,Qf(["item","name"],"estimatedSpeedupFactor")),sm()),N_=im(e=>Gc(Hh(e),em(M_),Ec(lm({className:Oc("container")})),yf(um("span").contramap(Uf({className:Oc("label"),children:e.item.label}))),Ec(lm({className:Oc("valueContainer")})),Mc(yf,sm()))([um("span").contramap(Uf({className:Oc("value"),children:rw(e.item.format)(e.item.value)})),F_(um("span").contramap(Uf({className:Oc("value"),children:"x"}))),F_(Sy.contramap(e=>({className:e.classes.speedupFactorImage,src:"assets/go_up.svg",width:18,height:22})))])),j_=im(e=>Gc(Hh(e),Ec(lm({className:Oc("list")})),Mc(yf,sm()),Ec(Gc(N_.contramap,Uf,Lf("item"))))(e.overallMetrics)),R_=im(e=>Gc(Hh(e),Ec(lm({className:Oc("list")})),Mc(yf,sm()),Ec(Gc(N_.contramap,Uf,Lf("item"))))(e.metricsByType[e.selectedType]));var B_=im(e=>Gc(Hh(e),em(O_),Kh("overallMetrics",S_),Kh("metricsByType",A_),Jh("selectedType","setSelectedType","time"),Ec(lm({className:Oc("container")})),Mc(yf,sm()))([T_,R_,um("div").contramap(Uf({className:Oc("delimiter")})),j_]));const L_={"@global":{body:{width:"100%",height:"100%",position:"fixed",display:"flex",fontFamily:'"Open Sans Regular", "Open Sans", "sans-serif"',whiteSpace:"nowrap"},".vega-embed.has-actions":{paddingRight:"0!important",width:"100%!important"},".vega-embed.has-actions details":{display:"none"}},mainContainer:e=>({display:"flex",width:"100%",height:"100%",flexDirection:"column",overflowX:"hidden",overflowY:"scroll",..."dark"===e.theme&&{backgroundColor:"#1c1f22",backgroundImage:'url("assets/bg.png")',backgroundPosition:"left top",backgroundRepeat:"repeat",backgroundAttachment:"scroll",backgroundSize:"46px 23px",backgroundOrigin:"border-box"},..."light"===e.theme&&{backgroundColor:"white"}}),layerControls:e=>({background:"dark"===e.theme?"#1d2022":"#f8f9fa",display:"flex",paddingTop:40,paddingLeft:85,paddingBottom:30})},z_={sideMenuContainer:e=>({background:"dark"===e.theme?"#E9ECEF":"white",width:e.isMenuHovered||e.isLocked?185:53,maxWidth:200,position:"fixed",top:0,zIndex:3,display:"flex",overflow:"hidden",flexDirection:"column",flexShrink:0,paddingTop:15,height:"100%",transition:"width 0.2s ease-in","& > img":{marginLeft:10},..."light"===e.theme&&{boxShadow:"1px 0px 8px rgba(0, 0, 0, 0.196078431372549)"}}),sideMenu:{paddingTop:30},sideMenuPlaceholder:e=>({width:e.isLocked?214:53,transition:"width 0.2s ease-in"}),logoText:e=>({position:"fixed",left:25,opacity:e.isMenuHovered||e.isLocked?1:0,transition:"opacity 0.2s ease-in"})},I_={lockButton:e=>({position:"absolute",display:"flex",alignItems:"center",right:10,top:10,padding:5,backgroundColor:e.isLockHovered?"#CDD2D8":"transparent",cursor:"pointer",opacity:e.isMenuHovered||e.isLocked?1:0,transition:"all 0.1s ease-in"})},$_={sideMenuItem:e=>({paddingLeft:10,height:50,position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"center",cursor:"pointer",userSelect:"none",pointerEvents:e.disabled?"none":"inherit",opacity:e.disabled?.5:1,background:e.isHovered?"#CDD2D8":"transparent",transition:"all 0.2s ease-in"}),sideMenuItemText:e=>({whiteSpace:"nowrap",color:e.isHovered?"#027DB4":"#333333",fontSize:14,paddingLeft:10,flexGrow:1,opacity:e.isMenuHovered||e.isLocked?1:0,transition:"opacity 0.2s ease-in-out, color 0.2s ease-in"}),sideMenuItemImage:{position:"absolute",right:0,flexShrink:0,marginRight:11},sideMenuItemImageHover:e=>({position:"absolute",right:0,flexShrink:0,marginRight:11,opacity:e.isHovered?1:0,transition:"opacity 0.2s ease-in-out"}),fileInput:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},fileInputLabel:{display:"flex",width:"100%",height:"100%",alignItems:"center",marginBottom:0,cursor:"pointer"}},U_={header:{background:"#303234",height:55,borderBottom:"1px solid black",display:"flex",alignItems:"center",paddingLeft:50,flexShrink:0,position:"sticky",top:0,zIndex:2},headerTitle:{color:"white",flexGrow:1,fontSize:20}},q_={dropdown:e=>({position:"relative",display:"flex",height:"100%",borderLeft:"1px solid #3C3E42",paddingLeft:24,paddingRight:22,alignItems:"center",cursor:"pointer",backgroundColor:e.isDropdownContentShown?"#191D20":null,"&:after":{content:'" "',position:"absolute",zIndex:-1,top:0,left:0,bottom:0,border:"0.4px solid black"},"&:hover":{backgroundColor:"#191D20"}}),dropdownContent:{position:"absolute",right:0,top:"100%",backgroundColor:"#202325",border:"1px solid #3A3A3A",boxShadow:"rgba(0, 0, 0, 0.6) 2px 2px 5px"}},W_={...q_,userIcon:{width:28,height:28,display:"flex",alignItems:"center",fontSize:12,color:"white",justifyContent:"center",backgroundColor:"#467CB1",borderRadius:14,marginRight:5,flexShrink:0,userSelect:"none"}},H_={...q_,helpIcon:{width:28,height:28,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:14,marginRight:5,flexShrink:0,userSelect:"none"}},V_={mainContent:{display:"flex",flexDirection:"column",paddingTop:100,paddingLeft:100}},G_=[{onClick:e=>{e.setNewProjectModalShow(!0),e.setIsMenuHovered(!1)},srcNormal:"assets/new_project.svg",srcHover:"assets/new_project_hover.svg",text:"New Project"},{srcNormal:"assets/open_model.svg",srcHover:"assets/open_model_hover.svg",text:"Open Project",fileSelect:!0,accept:".nmprj",onFileSelect:Bc((e,t)=>e.dispatch((e=>t=>{const n=new FileReader;n.addEventListener("load",()=>{const{name:e,profiles:r}=JSON.parse(n.result);t(mx({name:e,profiles:r}))}),n.readAsText(e)})(t)))},{srcNormal:"assets/visualizer.svg",srcHover:"assets/visualizer_hover.svg",text:"Visualizer",disabled:e=>!e.selectedProject},{srcNormal:"assets/save_model.svg",srcHover:"assets/save_model_hover.svg",text:"Save Project",disabled:e=>!e.selectedProject,onClick:e=>e.dispatch(gx())}],Y_=ed("fileSelect",!0),X_=nm(Gc(Ic,Y_),sm()),K_=Cb("/",Gc(Fc,Oc("selectedProject"))),Q_=im(e=>Gc(Hh(e),My("isHovered"),em($_),Ec(lm({className:Oc("sideMenuItem"),onClick:e.onClick})),ad(Dc(Y_(e)),e=>um("label").contramap(t=>({for:"openProjectInput",className:t.classes.fileInputLabel,children:e.fold(t)}))),Mc(yf,sm()))([X_(um("input").contramap(e=>({id:"openProjectInput",type:"file",accept:e.accept,className:e.classes.fileInput,onChange:Gc(e.onFileSelect(e),Yc,Ac(["target","files"]))}))),um("span").contramap(e=>({className:e.classes.sideMenuItemText,children:e.text})),Sy.contramap(e=>({src:e.srcNormal,className:e.classes.sideMenuItemImage,width:30,height:30})),Sy.contramap(e=>({src:e.srcHover,className:e.classes.sideMenuItemImageHover,width:30,height:30}))])),J_=im(e=>Gc(Hh(Xf(["ref"],e)),My("isLockHovered"),em(I_),Ec(lm({className:Oc("lockButton")})))(Sy.contramap(e=>({onClick:()=>{e.isLocked&&e.setIsMenuHovered(!1),e.setLocked(!e.isLocked)},src:e.isLocked?"assets/menu_lock_hover.svg":"assets/menu_lock.svg",width:20,height:20})))),Z_=im(e=>Gc(Hh(Xf(["ref"],e)),Qh,Ec(lm({className:Oc("sideMenu")})),Mc(yf,sm()),Ec(Gc(Q_.contramap,Uf,Mf({disabled:Tc(e)}))))(e.items)),eE=Bc((e,t)=>im(n=>Gc(Hh(n),zb("NewProject",Ox),yf($l,t),Jh("isLocked","setLocked",!1),My("isMenuHovered"),em(z_),yf($l,um("div").contramap(e=>({className:e.classes.sideMenuPlaceholder}))),Ec(lm({className:Oc("sideMenuContainer")})),Mc(yf,sm()))([Ay.contramap(Uf({width:32.7,height:30})),Oy.contramap(e=>Uf(e,{className:e.classes.logoText,width:86.5,height:30})),Z_.contramap(Uf({items:e})),J_]))),tE=am(ky.Check).contramap(e=>Uf(e,{type:"switch",checked:"dark"===e.theme,label:"",id:"themeCheck"})),nE=im(e=>Gc(Hh(e),Qh,Tb,em(W_),Pb,yf(um("div").contramap(e=>({className:e.classes.userIcon,children:"AO"}))),yf(Sy.contramap(Dc({src:"assets/arrow_down.svg",width:7,height:4}))),Db)(jb.contramap(e=>Uf(e,{items:[{label:"Profile",icon:"assets/user_icon.svg",iconWidth:11,iconHeight:14},{label:"Dark mode",icon:"assets/moon_icon.svg",iconWidth:14,iconHeight:14,extraContent:tE,onClick:e=>e.dispatch((e=>t=>t({type:"CHANGE_THEME",theme:e}))("dark"===e.theme?"light":"dark"))},{label:"Log out",icon:"assets/exit_icon.svg",iconWidth:14,iconHeight:14}]})))),rE=im(e=>Gc(Hh(e),Tb,em(H_),Pb,yf(Sy.contramap(Dc({src:"assets/help_icon.svg",width:18,height:18}))),Db)(jb.contramap(e=>Uf(e,{items:[{label:"Get latest version",icon:"assets/get_latest_version.svg",iconWidth:14,iconHeight:14},{label:"Make a suggestion",icon:"assets/make_a_suggestion.svg",iconWidth:14,iconHeight:14},{label:"Help center",icon:"assets/help_center.svg",iconWidth:14,iconHeight:14},{label:"Community",icon:"assets/community.svg",iconWidth:14,iconHeight:14},{label:"Contact support",icon:"assets/contact_support.svg",iconWidth:14,iconHeight:14}]})))),iE=im(e=>Gc(Hh(e),em(U_),Ec(lm({className:Oc("header")})),Mc(yf,sm()))([um("span").contramap(e=>({className:e.classes.headerTitle,children:e.selectedProject?e.selectedProject.name+": Resnet50":""})),rE,nE])),oE=im(e=>Gc(Hh(e),em(V_),Ec(lm({className:Oc("mainContent")})))(Sy.contramap(Dc({src:`assets/main_content_stub${"light"===e.theme?"_light":""}.png`,width:1178,height:631})))),aE=im(e=>Gc(Hh(e),Ec(lm({className:Oc("layerControls")})),Mc(yf,sm()))([c_,y_]));Il(Xh(sx,im(e=>Gc(Hh(e),Sb,tm({id:{minify:!0}}),Kh("theme",lx),Kh("selectedProject",cx),em(L_),eE(G_),Ec(lm({className:Oc("mainContainer")})),Mc(yf,sm()))([iE,kb("/",oE),K_(kb("/project/:id",Lx)),kb("/project/:id",s_),kb("/project/:id",aE),kb("/project/:id",B_),kb("/project/:id",C_)])).fold({})),document.body)}();
